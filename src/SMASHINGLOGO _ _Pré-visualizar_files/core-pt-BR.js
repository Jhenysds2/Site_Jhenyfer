!function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){s=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}window._iub=window._iub||{};var v=function(e){return null==e?[]:Array.isArray(e)?e:[e]},y=function(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;var n=e.slice().sort(),i=t.slice().sort();return JSON.stringify(n)===JSON.stringify(i)},k=function(e){return Array.isArray?Array.isArray(e):"[object Array]"==={}.toString.call(e)},C=function e(t,i,o,a){var r,s=t||{},c=i||{};return o?r=s:(r=k(s)?[]:{},Object.keys(s).forEach((function(e){r[e]=s[e]}))),a?Object.keys(c).forEach((function(t){"object"!==n(c[t])||null===c[t]||c[t]instanceof HTMLElement?r[t]=c[t]:("object"!==n(r[t])&&(r[t]=k(c[t])?[]:{}),r[t]=e(r[t],c[t],o,!0))})):Object.keys(c).forEach((function(e){r[e]=c[e]})),r},w=function(e,t){return C(e,t,!1,!1)},P=function(e,t){return C(e,t,!1,!0)},S=function(e,t){return C(e,t,!0,!0)},x=function(e,t){return C({},e,!0,t)},A=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=Object.keys(t),a=[];return o.forEach((function(o){if("object"===n(t[o])&&t[o]){var r=e(t[o],[].concat(f(i),[o]));a=a.concat(r)}else{var s=[].concat(f(i),[o]).join(".");a.push(s)}})),a},_=function(e){return"template"===e.options.googleConsentMode?(_iub.gtmDataLayer=_iub.gtmDataLayer||[],_iub.gtmDataLayer.pushCommand=_iub.gtmDataLayer.pushCommand||_iub.gtmDataLayer.push,_iub.gtmDataLayerV2=_iub.gtmDataLayerV2||[],_iub.gtmDataLayerV2.pushCommand=_iub.gtmDataLayerV2.pushCommand||_iub.gtmDataLayerV2.push,{gtmDataLayer:_iub.gtmDataLayer,gtmDataLayerV2:_iub.gtmDataLayerV2}):window.dataLayer},O=function(e){for(var t=_(e),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if("template"===e.options.googleConsentMode){var a=t.gtmDataLayer,r=t.gtmDataLayerV2,s=JSON.parse(JSON.stringify(i));delete s[1].ad_user_data,delete s[1].ad_personalization,a.pushCommand(s),r.pushCommand(i)}else if("function"==typeof window.gtag){var c;(c=window).gtag.apply(c,i)}else void 0!==t&&t.push(i)},B=!0,I={analytics_storage:4,ad_storage:5,functionality_storage:2,personalization_storage:3,security_storage:2},L={analytics_storage:["s"],ad_storage:["s","sh","adv"]},D=!1,T=!1,F=function(e,t){var n;if(D)D=!1;else{T=!0,!0===window._iub.googleConsentModeV2&&(I.ad_user_data=5,I.ad_personalization=5);var i={};Object.keys(I).forEach((function(e){var n=I[e];t?t.purposes?i[e]=t.purposes[n]:i[e]=t.consent:i[e]=!0}));var o=null===(n=e.preferenceState)||void 0===n?void 0:n.getStateObject(),a=null==o?void 0:o.usPurposes;a&&Object.keys(L).forEach((function(e){var t,n=L[e].every((function(e){return a[e]}));i[e]=(null===(t=i[e])||void 0===t||t)&&n})),function(e,t){var n=t.options.googleConsentMode;if(!1!==n)if("template"!==n){var i=function(e){if(!e||!e.length)return null;for(var t=0;t<e.length;t++){var n=e[t];if(n&&"consent"===n[0]&&"default"===n[1])return n[2]}return null}(_(t)),o=!B,a={};Object.keys(e).forEach((function(t){var n=e[t];if("undefined"!==n)if(n)a[t]="granted";else if(o){var r;a[t]=null!==(r=i&&i[t])&&void 0!==r?r:"denied"}})),0!==Object.keys(a).length&&(O(t,"consent","update",a),B=!1)}else O(t,"updateConsent",e)}(i,e),e.options.emitGtmEvents&&window.dataLayer&&window.dataLayer.push({event:"iubenda_gtm_consent_event"})}},E={start:function(){var e=this;!0===this.cs.options.googleConsentMode&&(window.dataLayer=window.dataLayer||[]),"template"!==this.cs.options.googleConsentMode&&O(this.cs,"set","developer_id.dZTJkMz",!0),this.cs.on("callback.before.onPreferenceExpressedOrNotNeeded",(function(t){return F(e.cs,t)})),this.cs.once("before-activation",(function(){return t=e.cs,void(T||(t.state.needsConsent?F(t,t.consent):F(t),D=!0));var t}))}};function N(e,t){return([].slice.call(new Uint8Array(t)).join("")+e).slice(-t)}function R(e,t,n){(n||"boolean"==typeof n)&&(e[t]=n)}var V=function(){function e(t){var n=t.sendConsent,o=t.getBannerHtml,a=t.getPageUrl,r=t.ConsStorage;i(this,e),this.sendConsent=n,this.getBannerHtml=o,this.getPageUrl=a,this.ConsStorage=r,this.config={cookiePolicyId:void 0,enableCcpa:void 0}}return a(e,[{key:"start",value:function(){this.storage=new this.ConsStorage("_iub_cs_cons-".concat(this.config.cookiePolicyId)),this.cs.on("callback.before.onReady",this.onReady.bind(this)),this.cs.on("callback.before.onPreferenceFirstExpressed",this.onPreferenceFirstExpressed.bind(this))}},{key:"sendPreferences",value:function(e,t){var n=this,i=e.scoped_id;this.sendConsent(this.cs.options.consApiKey,e,(function(e,o){e?n.logger.error(e||"failed to send data to ConS server"):(o!==i&&n.logger.error("ConS id mismatch. expected ".concat(i," but received ").concat(o)),null==t||t.call(null,o))}))}},{key:"getCurrentPreferences",value:function(){var e,t,n,i=this.cs.consent,o=i.consent,a=i.purposes,r={},s=(null===(e=this.cs.preferenceState)||void 0===e||null===(t=e.usPurposes)||void 0===t?void 0:t.isActive)?this.cs.preferenceState.usPurposes.getPreferences():null;return R(r,"consent",o),R(r,"purposes",a),R(r,"tcfv2",this.cs.state.tcfv2String),R(r,"uspr",s),R(r,"gac",null===(n=this.cs.customPreferences)||void 0===n?void 0:n.gac),R(r,"ccpa",this.config.enableCcpa?this.cs.preferences.storage.usPrivacy.getUspString():void 0),r}},{key:"getCurrentProofs",value:function(){var e=this,t={};return Object.keys(this.cs.consent).forEach((function(n){"cons"!==n&&(t[n]=e.cs.consent[n])})),[{content:JSON.stringify(t),form:this.bannerHTML}]}},{key:"makePayload",value:function(){var e,t=this.cs.consent,n=t.timestamp,i=t.cons,o=(void 0===i?{}:i).rand;return{scoped_id:function(e,t){var n=new Date(e),i=N(n.getUTCFullYear(),4),o=N(n.getUTCMonth()+1,2),a=N(n.getUTCDate(),2),r=N(n.getUTCHours(),2),s=N(n.getUTCMinutes(),2),c=N(n.getSeconds(),2),l=N(n.getMilliseconds(),3);return"".concat(i,"/").concat(o,"/").concat(a,"/").concat(r,"/").concat(s,"/").concat(c,"/").concat(l,"/").concat(t)}(n,void 0===o?(e=window.crypto||window.msCrypto,[].slice.call(e.getRandomValues(new Uint8Array(3))).map((function(e){return N(e.toString(16),2)})).join("")):o),legal_notices:[{identifier:"cookie_policy"}],preferences:this.getCurrentPreferences(),proofs:this.getCurrentProofs(),page_url:this.getPageUrl()}}},{key:"updateState",value:function(e){var t=e.id,n=e.saving,i=e.returnedId,o={rand:t.match(/\/([A-Fa-f0-9]+)$/)[1]};void 0!==n&&(o.saving=n),t!==i&&(o.returnedId=i),this.cs.consent.cons=o,this.cs.cookie.storeConsent()}},{key:"handleSuccessfulSend",value:function(e,t,n){var i=t.storage,o=t.cookie;i&&this.storage.remove(e),o&&this.updateState({id:e,returnedId:n}),this.cs.fireCallback("onCplSaved")}},{key:"retrySending",value:function(){var e,t,n=this,i=this.storage.items.map((function(e){return{payload:e,cb:function(){return n.handleSuccessfulSend(e.scoped_id,{storage:!0})}}}));if(null===(e=this.cs.consent)||void 0===e||null===(t=e.cons)||void 0===t?void 0:t.saving){var o=this.makePayload(),a=o.scoped_id,r=i.find((function(e){return e.payload.scoped_id===a}));r?r.cb=function(e){return n.handleSuccessfulSend(a,{storage:!0,cookie:!0},e)}:i.push({payload:o,cb:function(e){return n.handleSuccessfulSend(a,{cookie:!0},e)}})}i.forEach((function(e){var t=e.payload,i=e.cb;return n.sendPreferences(t,i)}))}},{key:"onReady",value:function(){this.cs.options.consApiKey&&(this.bannerHTML=this.getBannerHtml(),this.retrySending())}},{key:"onPreferenceFirstExpressed",value:function(){var e=this;if(this.cs.options.consApiKey&&!this.cs.options.previewMode){var t=this.makePayload(),n=t.scoped_id;this.updateState({id:n,saving:!0}),this.storage.add(t),this.sendPreferences(t,(function(t){e.handleSuccessfulSend(n,{storage:!0,cookie:!0},t)}))}}}]),e}();function j(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1}var z=function(){function e(t){i(this,e),this.storageKey=t}return a(e,[{key:"add",value:function(e){var t=this.items,n=j(t,(function(t){return t.scoped_id===e.scoped_id}));-1!==n?t[n]=e:t.push(e),this.items=t}},{key:"remove",value:function(e){var t=this.items,n=j(t,(function(t){return t.scoped_id===e}));-1!==n&&t.splice(n,1),this.items=t}},{key:"items",get:function(){var e;try{e=JSON.parse(localStorage.getItem(this.storageKey))}catch(e){}return e||[]},set:function(e){try{0===e.length?localStorage.removeItem(this.storageKey):localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){}}}]),e}(),U=function(){function e(){i(this,e),this.userAgent=navigator.userAgent,this.versionSearchString="",this.dataBrowser=[{string:this.userAgent,subString:"Chrome",identity:"Chrome"},{string:this.userAgent,subString:"MSIE",identity:"Explorer"},{string:this.userAgent,subString:"Trident",identity:"Explorer"},{string:this.userAgent,subString:"Firefox",identity:"Firefox"},{string:this.userAgent,subString:"Safari",identity:"Safari"},{string:this.userAgent,subString:"Opera",identity:"Opera"}],this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(this.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"}return a(e,[{key:"searchString",value:function(e){var t=e.filter((function(e){return-1!==e.string.indexOf(e.subString)})),n=null;return t.length&&(this.versionSearchString=t[0].subString,n=t[0].identity),n}},{key:"searchVersion",value:function(e){var t=e.indexOf(this.versionSearchString);if(-1===t)return null;var n=e.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==n?parseFloat(e.substring(n+3)):parseFloat(e.substring(t+this.versionSearchString.length+1))}},{key:"isBotAndShouldSkipBots",value:function(){return this.isBot()&&!this.shouldNotSkipBots()}},{key:"shouldNotSkipBots",value:function(){return/(^\?|&)iub_do_not_skip_bots=true(&|$)/i.test(location.search)}},{key:"isBot",value:function(){return new RegExp("(360Spider|A6-Indexer|Aboundex|acoonbot|AddThis|AdIdxBot|ADmantX|AdvBot|ahrefsbot|aihitbot|AISearchBot|antibot|Applebot|arabot|archive.org_bot|backlinkcrawler|baiduspider|bibnum.bnf|biglotron|Bingbot|BingPreview|binlar|blekkobot|blexbot|bnf.fr_bot|brainobot|BUbiNG|buzzbot|careerbot|CC Metadata Scaper|ccbot|changedetection|Chrome-Lighthouse|citeseerxbot|coccoc|Commons-HttpClient|content crawler spider|convera|crawler4j|CrystalSemanticsBot|curl|cXensebot|CyberPatrol|discobot|Domain Re-Animator Bot|domaincrawler|dotbot|drupact|DuckDuckBot|ec2linkfinder|edisterbot|elisabot|europarchive.org|exabot|ezooms|facebookexternalhit|Facebot|FAST Enterprise Crawler|FAST-WebCrawler|findlink|findthatfile|findxbot|fluffy|fr-crawler|g00g1e.net|gigablast|GingerCrawler|gnam gnam spider|Google favicon|Google-InspectionTool|Googlebot|Googlebot-Image|Googlebot-Mobile|Googlebot-News|Googlebot-Video|googlebot/|GoogleOther|grapeshot|GrapeshotCrawler|grub.org|gslfbot|heritrix|hotjar|httpunit|httrack|ia_archiver|ichiro|integromedb|intelium_bot|InterfaxScanBot|IOI|ip-web-crawler.com|ips-agent|it2media-domain-crawler|java|jyxobot|lb-spider|libwww|Linguee Bot|linkdex|lipperhey|Lipperhey SEO Service|Livelapbot|lssbot|lssrocketcrawler|ltx71|Mail.RU_Bot|MauiBot|Mediapartners-Google|MegaIndex|memorybot|MicrosoftPreview|MJ12bot|mlbot|msnbot|msrbot|NerdByNature.Bot|nerdybot|netresearchserver|ngbot|niki-bot|nutch|openindexspider|OrangeBot|page2rss|panscient|phpcrawl|postrank|proximic|psbot|purebot|Python-urllib|Qwantify|RetrevoPageAnalyzer|rogerbot|scribdbot|seekbot|SemanticScholarBot|SemrushBot|seokicks-robot|seznambot|SimpleCrawler|sistrix crawler|sitebot|siteexplorer.info|slurp|smtbot|sogou|spbot|speedy|Storebot-Google|summify|tagoobot|teoma|toplistbot|turnitinbot|TweetmemeBot|twengabot|Twitterbot|urlappendbot|UsineNouvelleCrawler|voilabot|Voyager|wbsearchbot|web-archive-net.com.bot|webcompanycrawler|webcrawler|webmon|WeSEE:Search|wget|wocbot|woriobot|wotbox|xovibot|y!j-asr|yacybot|yahoo|yandex|yandexbot|yanga|yeti|yoozBot)","i").test(this.userAgent)}},{key:"isMobile",value:function(){var e=new RegExp("(android|bbd+|meego).+mobile|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|wap|windows ce|xda|xiino","i"),t=new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-","i"),n=this.userAgent||navigator.vendor||window.opera;return e.test(n)||t.test(n.substr(0,4))}}]),e}(),M=new U;var G=new V({sendConsent:function(e,t,n){if(M.isBotAndShouldSkipBots())n("Send consent denied: bot detected");else{var i="".concat("https://consent.iubenda.com/big_data/consent","?apikey=").concat(e),o=JSON.stringify(t);"function"==typeof window.fetch?function(e,t,n){var i;fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},body:t,keepalive:!0}).then((function(e){return i=e.status,e.text()})).then((function(e){return n({response:e,status:i})})).catch((function(e){return n({err:e.toString()})}))}(i,o,a):function(e,t,n){var i=new XMLHttpRequest;i.onload=function(){return n({response:i.responseText,status:i.status})},i.onerror=function(){return n({err:"Failed to send data to ConS server"})},i.open("POST",e),i.setRequestHeader("Content-Type","text/plain"),i.send(t)}(i,o,a)}function a(e){var t=e.err,i=e.response,o=e.status;if(t)n(t);else if(o<200||o>299)try{var a=JSON.parse(i).message;n(a)}catch(e){n("Failed to decode the response from ConS server")}else n(null,i)}},getBannerHtml:function(){var e,t;return null!==(e=null===(t=document.getElementById("iubenda-cs-banner"))||void 0===t?void 0:t.innerHTML)&&void 0!==e?e:"Couldn't retrieve banner HTML"},getPageUrl:function(){return location.href},ConsStorage:z}),W=function(){},H=new(function(){function e(){i(this,e),this._registry={},this._instances={}}return a(e,[{key:"register",value:function(e,t){t.install=t.install||W,this._registry[e]=t}},{key:"createPluginInstance",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,o=this._registry,a=o[e];if(!a)return null;var r={};S(r,a),Object.setPrototypeOf(r,Object.getPrototypeOf(a)),r.cs=t,r.logger=i,r.config=r.config||{};var s={};return Object.keys(n).forEach((function(e){r.config.hasOwnProperty(e)&&(s[e]=n[e])})),S(r.config,s),r}},{key:"install",value:function(e,t,n){var i=this,o=this._registry,a=this._instances;Object.keys(o).forEach((function(o){var r=i.createPluginInstance(o,e,t,n);a[o]=r,r.start()}))}},{key:"get",value:function(e){return this._registry[e]}}]),e}());H.register("googleConsentMode",E),H.register("ConS_integration",G);var q={cookie_policy:"iubenda-cs-cookie-policy-lnk",privacy_policy:"iubenda-privacy-policy-link",vendors:"iubenda-vendor-list-link",adv_pref:"iubenda-advertising-preferences-link",do_not_sell:"iubenda-ccpa-opt-out iubenda-do-not-sell-link",second_layer:"iubenda-cs-preferences-link"},J={iab_tcf:"https://iabeurope.eu/transparency-consent-framework/"},K=["iab_tcf"],Y=[{start:/\[or (.+?)\]/,end:"",exec:function(e,t,n){return ne(e,n)?"[or]":""}},{start:/\[= (.+?)\]/,end:"",exec:function(e,t,n){return $(n,e.split("."))}},{start:/\[list (.+?)\]/,end:/\[\/list\]/,exec:function(e,t,n){return ie(t,e)}},{start:/\[if (.+?)\]/,end:/\[\/if\]/,exec:function(e,t,n){return ne(e,n)?t:""}},{start:/\[tip (.+?)\]/,end:/\[\/tip\]/,exec:function(e,t){return'<a href="javascript:void();" class="iub-popover-trigger" data-iub-popover="'+e+'">'+t+"</a>"}},{start:/\[link (.+?)\]/,end:/\[\/link\]/,exec:function(e,t){var n,i,o,a,r,s=q[e]||"",c=_iub.cs,l=null===(n=c.options)||void 0===n||null===(i=n.i18nForBanner)||void 0===i||null===(o=i[c.options.lang||"en"])||void 0===o?void 0:o.banner,u="";(null===(a=c.options)||void 0===a||null===(r=a.banner)||void 0===r?void 0:r.linksColor)&&-1===K.indexOf(e)&&(u="style=color:"+c.options.banner.linksColor.replace(/\s+/g,"")+"!important;");var d=t,p=s?"javascript:void(0)":J[e]||e;if("cookie_policy"===e){var h=c.options.banner.cookiePolicyLinkCaption;p=c.ui.getCookiePolicyHref(),h&&(d=h)}var f=/^http/i.test(p)||"cookie_policy"===e;return(f?"<a ":"<button ")+u+(f?' href="'.concat(p,'"  target="_blank" rel="noopener"'):"")+' class="'.concat(s,'"')+("cookie_policy"===e&&c.options.cookiePolicyInOtherWindow?' aria-label="'.concat(d," - ").concat(null==l?void 0:l.link_label_new_tab,'"'):"")+">"+d+(f?"</a>":"</button>")}}],X=function e(t,n){for(var i,o=Number.MAX_VALUE,a=0;a<Y.length;a++){var r=Y[a],s=t.match(r.start);s&&s.index<o&&(i={tag:r,match:s},o=s.index)}if(!i)return t;var c=t.substr(0,i.match.index),l=i.match.index+i.match[0].length,u=e(t.substr(l),n),d=u.match(i.tag.end);if(!d)return c+i.match[0]+u;var p=u.substr(0,d.index),h=u.substr(d.index+d[0].length);return c+i.tag.exec(i.match[1],p,n)+h},$=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e||{},i=0;i<t.length;i++){if(!(n[t[i]]instanceof Object))return i+1<t.length&&t[i+1]?null:n[t[i]];n=n[t[i]]}return n},Z=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t},Q=function(e,t){var n=e.match(/(not)?\s*(.*)/i),i=!!n[1],o=n[2],a=Z(o);return"string"==typeof a&&(a=$(t,o.split("."))),i?!a:a},ee=function(e,t){for(var n=e.split(/\s+and\s+/i),i=0;i<n.length;i++)if(!Q(n[i],t))return!1;return!0},te=function(e,t){for(var n=e.split(/\s+or\s+/i),i=0;i<n.length;i++)if(ee(n[i],t))return!0;return!1},ne=function e(t,n){var i=/\((.+)\)/;if(!t.match(i))return te(t,n);var o=t.replace(i,(function(t,i){return e(i,n)}));return te(o,n)},ie=function(e,t){var n=e.split("[or]"),i=e,o="";if(o=t&&-1!==t.indexOf("[no-space]")?t?t.replace("[no-space]",""):",":t?" "+t:",",n.length<=1)return i;var a=n.pop();return n.join(",")+o+a},oe=function(e,t){return X(e,t)},ae=function(e){return Array.prototype.concat.apply([],document.querySelectorAll(e))},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=document.querySelectorAll(e),i=Array.prototype.slice.call(n,0);return t.forEach((function(e){var t=document.querySelectorAll(e);Array.prototype.slice.call(t,0).forEach((function(e){i.forEach((function(t,n){e.contains(t)&&i.splice(n,1)}))}))})),i},se=function(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()},ce=function(e,t){var n=(t||document).getElementsByClassName(e);return Array.prototype.concat.apply([],n)},le=function(e){return e&&e.length?ae("."+e.join(", .")):[]},ue=function(e,t){for(var n=t.parentNode;null!=n;){if(n===e)return!0;n=n.parentNode}return!1},de=function(e){return document.createElement(e.toUpperCase())},pe=function(e,t){var n=document.createElement("script");return n.setAttribute("type","text/javascript"),e&&n.setAttribute("src",e),"string"==typeof t&&(n.text=t),n},he=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},fe=function(e,t){var n=e.nextSibling,i=e.parentNode;he(e),i.insertBefore(t,n)},be=function(e,t){return e.parentNode.insertBefore(t,e.nextSibling)},ge=function(e){var t=[],n=0;function i(e){t.push(["enter",e]);for(var n=0;n<e.childNodes.length;++n)i(e.childNodes[n]);t.push(["exit",e])}return{reiterate:function(){t=[],i(e)},next:function(){return n>=t.length?{done:!0}:{value:t[n++],done:!1}}}},me=function(e){var t=e.nodeName.toLowerCase(),n=e.getAttribute("type"),i=e.hasAttribute("data-iub-script");return"script"===t&&(!n||i||"application/javascript"===n||"text/javascript"===n||"module"===n)},ve=function(e){e.hasAttribute("data-iub-type")?(e.setAttribute("type",e.getAttribute("data-iub-type")),e.removeAttribute("data-iub-type")):e.removeAttribute("type"),e.removeAttribute("data-iub-script")},ye=function(e,t){return t&&function(e,t){Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]&&e.setAttribute(n,t[n])}))}(e,t),function(e){for(var t=Array.prototype.concat.apply([],e.attributes),n={},i=0;i<t.length;i++){var o=t[i],a=o.name,r=o.value;null!=r&&"null"!==r&&""!==r&&(n[a]=r)}return n}(e)},ke=function(e,t){if(t?"loading"!==document.readyState:"complete"===document.readyState)e();else if(t){document.addEventListener("readystatechange",(function t(){document.removeEventListener("readystatechange",t),e()}))}else{window.addEventListener("load",(function t(){window.removeEventListener("load",t),e()}))}},Ce=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)},we=function(e,t){e.classList.add(t)},Pe=function(e,t){e.classList.remove(t)},Se=function(e,t){var n;return null===(n=e.classList)||void 0===n?void 0:n.contains(t)},xe=function(e,t,n){if("function"==typeof window[e])return new window[e](t,n);var i=(null==n?void 0:n.bubbles)||!1,o=(null==n?void 0:n.cancelable)||!1,a=document.createEvent(e);return a.initEvent(t,i,o),a},Ae=null;function _e(e){var t=Object.keys(e).reduce((function(t,n){var i=e[n];return t+(i?n+":"+i+"!important;":"")}),"");return t?' style="'+t+'"':""}var Oe=function(e){return document.createTextNode(e||"")},Be=function(e,t,i,o){var a,r=t;"msPointerEnabled"in window.navigator&&("touchstart"===r?r="MSPointerDown":"touchmove"===r?r="MSPointerMove":"touchend"===r&&(r="MSPointerUp")),a="object"===n(o)?function(){if(null!==Ae)return Ae;try{var e={};Object.defineProperty(e,"capture",{get:function(){return Ae=!0,!1}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){Ae=!1}return Ae}()?o:!!o.capture:!!o,e.addEventListener(r,i,a)},Ie=function(e,t,n,i){e.removeEventListener(t,n,i||!1)},Le=function(e,t){var n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},De=function e(t){document.body?t():setTimeout((function(){e(t)}),1)},Te=function(e,t){e.setAttribute("style",t)},Fe=function e(t){if("function"==typeof t){var n=e();return t(n.resolve.bind(n)),n}return{_data:null,_isResolved:!1,_successCallbacks:[],then:function(e){!1===this._isResolved?this._successCallbacks.push(e):e.call(window,this._data)},resolve:function(e){if(this._isResolved)console&&console.log("The promise cannot be resolved more than once");else{this._isResolved=!0,this._data=e;for(var t=0,n=this._successCallbacks.length;t<n;t++)this._successCallbacks[t].call(window,e)}return this}}},Ee=function(e){var t=Fe(),n=[],i=0;return e.forEach((function(o,a){o.then((function(o){return function(o,a){n[a]=o,i++,e.length===i&&t.resolve(n)}(o,a)}))})),t},Ne={debug:0,info:1,warn:2,error:3,fatal:4,nolog:5},Re=function(e,t,n){var i=[t].concat(n);console[e].apply?console[e].apply(console,i):console[e](i.join(" "))},Ve={configure:function(){},log:function(e,t){try{if("console"in window&&"log"in console&&"warn"in console&&"error"in console){var n="[IUBCS|"+e.toUpperCase()+"]:";je.LOG_LEVELS[e]<je.WARN?Re("log",n,t):je.LOG_LEVELS[e]===je.WARN?Re("warn",n,t):Re("error",n,t)}}catch(e){}}},je=new(function(){function e(){i(this,e),this.DEBUG=0,this.INFO=1,this.WARN=2,this.ERROR=3,this.FATAL=4,this.NOLOG=5,this.LOG_LEVELS=Ne,this.silence=!1,this.strategies={},this.uses=[],this.level=1,this.slice=[].slice}return a(e,[{key:"silence",value:function(){return this.silence=!0,this}},{key:"wake",value:function(){return this.silence=!1,this}},{key:"registerStrategy",value:function(e,t){return this.strategies[e]=t,this}},{key:"configure",value:function(e,t){var n=this.strategies[e];return n&&"configure"in n&&n.configure(t),this}},{key:"setLevel",value:function(e){var t=e.toLowerCase();return t in Ne&&(this.level=Ne[t]),this}},{key:"log",value:function(e,t){var n=this;if(this.silence)return null;var i=v(t),o=e.toLowerCase();return o in Ne&&Ne[o]>=this.level&&this.uses.forEach((function(e){"function"==typeof e?e(o,i):e in n.strategies&&n.strategies[e].log(o,i)})),this}},{key:"use",value:function(e){return e&&(this.uses=v(e)),this}},{key:"debug",value:function(){this.log("debug",this.slice.call(arguments))}},{key:"info",value:function(){this.log("info",this.slice.call(arguments))}},{key:"warn",value:function(){this.log("warn",this.slice.call(arguments))}},{key:"error",value:function(){this.log("error",this.slice.call(arguments))}},{key:"fatal",value:function(){this.log("fatal",this.slice.call(arguments))}}]),e}());je.registerStrategy("console",Ve);var ze=[2024,0,31,8],Ue={version:"1.58.3",cmpVersion:324,tracker:{url:"https://hits.iubenda.com/piwik.php"},timeoutOnRemoteGet:1e3,timeoutBeforeReload:1e3,timeoutBeforeReloadWithCmp:3e4,keepLocalCookiesN:10,urlForRemoteConf:"https://cs.iubenda.com/cookie-solution/confs/js/%{cookie_policy_id}.js",TCF_V2_CONSENT_COOKIE:"euconsent-v2",GOOGLE_ADS_PERSONALIZED_ID:"googleAdsPersonalized",USPRIVACY_COOKIE:"usprivacy",consentCookieNameBase:"_iub_cs-",MAX_TCF2_COOKIE_DURATION:365,TCF_VERSION:2.2},Me={};void 0!==window._iub&&!1===_iub.csConfigLegacy&&(Me={inlineDelay:500,startOnDomReady:!0,safeTimeout:0});var Ge,We,He,qe,Je=t(t({logger:"console",logLevel:"nolog",raiseOnException:!1,cookiePolicyId:null,siteId:null,cookiePolicyUrl:null,cookiePolicyInOtherWindow:!1,skipSaveConsent:!1,lang:"it",startOnDomReady:!1,countryDetection:!1,askConsentAtCookiePolicyUpdate:!1,invalidateConsentBefore:null,invalidateConsentWithoutLog:Date.UTC(2023,0,15)<=Date.now(),banner:{content:null,cookiePolicyLinkCaption:null,zIndex:99999998,backgroundColor:"#000",textColor:"#fff",linksColor:"",fontSize:null,fontSizeCloseButton:"20px",fontSizeBody:"14px",applyStyles:!0,html:null,slideDown:!0,prependOnBody:!1,position:"top",backgroundOverlay:!1,acceptButtonDisplay:!1,acceptButtonCaption:null,acceptButtonColor:null,acceptButtonCaptionColor:null,customizeButtonDisplay:!1,customizeButtonCaption:null,customizeButtonColor:null,customizeButtonCaptionColor:null,rejectButtonDisplay:!1,rejectButtonCaption:null,rejectButtonColor:null,rejectButtonCaptionColor:null,continueWithoutAcceptingButtonDisplay:!1,continueWithoutAcceptingButtonCaption:null,continueWithoutAcceptingButtonColor:null,continueWithoutAcceptingButtonCaptionColor:null,closeButtonDisplay:!0,closeButtonCaption:"&times;",closeButtonRejects:!1,logo:"",brandBackgroundColor:"#000",brandTextColor:"#fff",listPurposes:!1,explicitWithdrawal:!1,useThirdParties:!0,showPurposesToggles:!1,showTitle:!0,ownerName:null,howToWithdraw:!0,totalNumberOfProviders:void 0,showTotalNumberOfProviders:!1},rebuildIframe:!0,footer:{message:null,btnCaption:null},callback:{onBeforePreload:null,onReady:null,onStartupFailed:null,onError:null,onFatalError:null,onBannerShown:null,onBannerClosed:null,onCookiePolicyShown:null,onConsentFirstGiven:null,onConsentGiven:null,onConsentRead:null,onActivationDone:null,onPreferenceNotNeeded:null,onConsentFirstRejected:null,onConsentRejected:null,onPreferenceFirstExpressed:null,onPreferenceExpressed:null,onPreferenceExpressedOrNotNeeded:null,onCcpaAcknowledged:null,onCcpaOptOut:null,onCcpaFirstAcknowledged:null,onCcpaFirstOptOut:null,on2ndLayerShown:null,on2ndLayerClosed:null,onCplSaved:null},preferenceCookie:{expireAfter:365,tcfV2Name:"euconsent-v2"},enableRemoteConsent:!1,loopbackServer:{iframeBridge:{host:"cdn.iubenda.com",iframePath:"/cs/bridge/iframe_bridge-1.7.0.html"},callback:{host:"www.iubenda.com",setRemoteCookiePath:"/cookie-consent/cookies/set",resetRemoteCookiePath:"/cookie-consent/cookies/reset",getRemoteCookiePath:"/cookie-consent/cookies/get"}},hideInIframe:!1,reloadOnConsent:!1,localConsentDomain:null,localConsentDomainExact:!1,localConsentPath:"/",inlineDelay:1e3,safeTimeout:5e3,forceSafeActivation:!1,enableGpp:!1,enableTcf:!1,gppVersion:Date.UTC.apply(window,ze)<=Date.now()?1.1:1,tcfVersion:Ue.TCF_VERSION,askConsentIfCMPNotFound:!0,gdprApplies:void 0,gdprAppliesGlobally:!0,googleAdsPreferenceManagement:!1,googleAdditionalConsentMode:!1,gacVersion:1,newConsentAtVendorListUpdate:null,i18n:{},whitelabel:!0,perPurposeConsent:!1,showPurposesCollapsed:!0,promptToAcceptOnBlockedElements:!1,purposes:null,adPersonalization:!0,dynamicBannerText:!0,maxCookieSize:4096,maxCookieChunks:5,enableGdpr:!0,enableCcpa:!1,ccpaAppliesToEntireUSA:!1,ccpaApplies:void 0,ccpaAcknowledgeOnDisplay:!1,ccpaAcknowledgeOnLoad:!1,ccpaNoticeDisplay:!0,ccpaLspa:void 0,ccpaCookie:{expireAfter:365},privacyPolicyUrl:void 0,enableUspr:!1,usprApplies:void 0,showBannerForUS:!1,usprPurposes:null,usprPreferenceWidget:null,hasSensitiveData:!1,privacyPolicyNoticeAtCollectionUrl:"",enableFadp:!1,fadpApplies:void 0,showBannerForCH:!1,enableLgpd:!1,lgpdApplies:void 0,lgpdAppliesGlobally:!0,applyGdprForCH:!0,floatingPreferencesButtonDisplay:!1,floatingPreferencesButtonForceDisplay:!1,floatingPreferencesButtonCaption:!1,floatingPreferencesButtonColor:"",floatingPreferencesButtonCaptionColor:"",floatingPreferencesButtonHover:!1,floatingPreferencesButtonIcon:!0,floatingPreferencesButtonRound:!1,usPreferencesWidgetDisplay:void 0,tcfPurposes:{1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0},acceptTcfSpecialFeaturesWithAcceptBtn:!0,LIRestricted:!1,tcfPublisherCC:null,skipTcfValidation:!1,googleConsentMode:void 0,emitGtmEvents:!1,consApiKey:void 0,hasCookiePolicy:void 0,hasPrivacyPolicy:void 0,floatingPreferencesButtonZIndex:2147483647},Me),{},{previewMode:!1,previewRemoteConfigurationUrl:void 0,storage:{type:"cookie",useSiteId:!1,items:{core:{type:void 0},uspr:{type:void 0},tcf:{type:void 0},usprivacy:{type:void 0},granular:{type:void 0}}}}),Ke=je,Ye={loggerName:(null===(Ge=window._iub)||void 0===Ge||null===(We=Ge.csConfiguration)||void 0===We?void 0:We.logger)||Je.logger,logLevel:(null===(He=window._iub)||void 0===He||null===(qe=He.csConfiguration)||void 0===qe?void 0:qe.logLevel)||Je.logLevel},Xe=Ye.loggerName,$e=Ye.logLevel;function Ze(){return-1!==["localhost"].indexOf(window.location.hostname)||null!==window.location.hostname.match(/.iubenda.com$/)}function Qe(e,t,n){var i="Something went wrong within loading remote configuration.";e.cookiePolicyId?(Ke.info("Loading remote configurations."),Ke.info("Loading configuration through javascript file."),function(e,t){var n=document.createElement("script");n.async=!0,n.onload=function(){return t({success:!0})},n.onerror=function(){return t({success:!1})},n.src=e;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}(function(e){return!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?e.previewRemoteConfigurationUrl:Ue.urlForRemoteConf.replace("%{cookie_policy_id}",e.cookiePolicyId)}(e,function(e){return Ze()&&!0===e.previewMode&&!!e.previewRemoteConfigurationUrl}(e)),(function(e){e.success?(Ke.info("Remote configuration correctly loaded."),Ke.info("Merging remote configuration with default."),null==n||n.call()):t(i)}))):t(i)}Ke.use(Xe),Ke.setLevel($e);var et=function(){function e(t){i(this,e),this.object=t||{},this.listenersMap={},this.object.__iubJlibEmitterListeners__=this.listenersMap,this.object.on=this.on.bind(this),this.object.once=this.once.bind(this),this.object.off=this.off.bind(this),this.object.emit=this.emit.bind(this)}return a(e,[{key:"getListeners",value:function(e){return this.listenersMap[e]=this.listenersMap[e]||[],this.listenersMap[e]}},{key:"addListener",value:function(e,t,n){this.getListeners(e).unshift({fn:t,once:!!n})}},{key:"on",value:function(e,t){return this.addListener(e,t),this.object}},{key:"once",value:function(e,t){return this.addListener(e,t,!0),this.object}},{key:"off",value:function(e,t){for(var n=this.getListeners(e),i=n.length-1;i>=0;i--)n[i].fn===t&&n.splice(i,1);return this.object}},{key:"emit",value:function(e){for(var t=this.getListeners(e),n=t.length-1;n>=0;n--){var i=t[n],o=Array.prototype.slice.call(arguments,1);i.once&&t.splice(n,1),i.fn.apply(null,o)}}}]),e}(),tt=function(e){return new et(e)},nt=function(e){var t=!e.hasAttribute("disabled"),n=!e.getAttribute("aria-hidden");return t&&n&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},it=null,ot=!1,at=[],rt=!1,st=!1,ct=!1,lt=function(e){if(rt||null===e.relatedTarget&&!ct){rt=!1;var t=e.target;if(it){var n=document.querySelector(it);if(!n.contains(t))(function(e,t){var n=e.querySelectorAll('a[href]:not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),input:not([disabled]):not([type="hidden"]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),[contenteditable]:not([tabindex="-1"])'),i=0,o=1;t&&(i=n.length-1,o=-1);for(var a=n[i];a&&!nt(a);)a=n[i+=o];return a})(n,st).focus()}}},ut=function(e){var t=e.code||e.key;rt="Tab"===t,st=event.shiftKey&&rt},dt=function(){ct=!0},pt=function(){ct=!1},ht=function(e){if(ot||(ot=!0,Be(document.body,"focusin",lt),Be(window,"keydown",ut),Be(document,"mousedown",dt),Be(document,"mouseup",pt)),e)at.push({selector:it,lastActive:document.activeElement}),it=e;else{var t=at.pop();t&&(it=t.selector,t.lastActive.focus())}},ft=function(e){for(var t=document.getElementsByClassName("iubenda-advertising-preferences-link"),n=0;n<t.length;n++)bt(t[n],e)},bt=function(e,t){e.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),setTimeout((function(){t.showCP(!1,!0)}),0)}))},gt={"pt-BR":{banner:{accept_button_caption:"Aceitar[if banner.showPurposesToggles] tudo[/if]",advertising_preferences_caption:"painel de preferências de publicidade",continue_acception_button_caption:"Continuar sem aceitar →",cookie_policy_caption:"política de cookies",customize_button_caption:"Saber mais[if (perPurposeConsent or (enableTcf and gdprApplies) or usprApplies) and not banner.showPurposesToggles] e personalizar[/if]",do_not_sell_caption:"Não vender minhas informações pessoais",dynamic:{and:"e",body:'[if banner.ownerName][= banner.ownerName][/if][if not banner.ownerName]Nós[/if][if banner.useThirdParties] e os[if banner.totalNumberOfProviders] [= banner.totalNumberOfProviders][/if] terceiros selecionados[/if] [if usprApplies or ccpaApplies] coletamos informações pessoais [if usprApplies and hasPrivacyPolicy] conforme especificado na %{privacy_policy}[/if][/if][if not gdprApplies and not lgpdApplies and not fadpApplies and (usprApplies or ccpaApplies)].[/if][if gdprApplies or lgpdApplies or fadpApplies][if usprApplies or ccpaApplies] e [/if][/if][if gdprApplies or lgpdApplies or fadpApplies] usamos cookies ou tecnologias similares para finalidades técnicas e[if not fadpApplies], com seu consentimento,[/if] para[if not banner.listPurposes] outras finalidades[/if][if banner.listPurposes] as finalidades de [if adPersonalization]<strong data-iub-role="purposes_emphasis">[/if]%{purposes}[if adPersonalization]</strong>[/if][/if][if hasCookiePolicy] conforme especificado na [link cookie_policy]política de cookie[/link][/if]. [if enableTcf and gdprApplies]\nCom relação à publicidade, nós e os %{total_number_of_ads_vendors}  terceiros [link vendors]selecionados[/link], podemos usar <em>dados precisos de geolocalização e identificação por meio da varredura do dispositivo</em> a fim de <em>armazenar e/ou acessar informações em um dispositivo</em> e processar dados pessoais, como, por exemplo, seus dados de uso, para as seguintes [link adv_pref]finalidades de publicidade[/link]: <em>publicidade e conteúdo personalizados, medição de publicidade e conteúdo, pesquisa de público e desenvolvimento de serviços.</em>[/if][if gdprApplies or lgpdApplies][if banner.explicitWithdrawal]\nVocê pode livremente dar, negar ou retirar seu consentimento a qualquer momento[if (enableTcf and gdprApplies) or banner.howToWithdraw] acessando o painel de preferências[/if]. [if enableTcf]Se você der seu consentimento, ele será válido apenas nesse domínio.[/if] Negar consentimento pode tornar as funcionalidades relacionadas indisponíveis.[/if][/if][/if][if ccpaApplies and not usprApplies]\nEm caso de venda de suas informações pessoais, você pode optar por cancelar através do link "%{do_not_sell}"\n[if hasPrivacyPolicy]\nPara saber mais sobre as categorias de informações pessoais coletadas e as finalidades para as quais tais informações serão usadas, consulte nosso %{privacy_policy}.[/if][/if]\n[if gdprApplies or lgpdApplies][if banner.acceptButtonDisplay][list or][if banner.acceptButtonDisplay]\nUse o botão “[= banner.acceptButtonCaption]” [/if][if banner.closeButtonDisplay and not banner.closeButtonRejects and not banner.continueWithoutAcceptingButtonDisplay][or] feche este aviso[/if][/list] para consentir. [/if][if not banner.acceptButtonDisplay and banner.closeButtonDisplay and not banner.closeButtonRejects]Feche este aviso para consentir.[/if][if banner.rejectButtonDisplay][list ou][if banner.rejectButtonDisplay]Use o botão “[= banner.rejectButtonCaption]”[/if][if (banner.closeButtonDisplay and banner.closeButtonRejects) or banner.continueWithoutAcceptingButtonDisplay][or] feche este aviso[/if][/list][if banner.rejectButtonDisplay] para continuar sem aceitar.[/if][/if][if not banner.rejectButtonDisplay and ((banner.closeButtonDisplay and banner.closeButtonRejects) or banner.continueWithoutAcceptingButtonDisplay)]Feche este aviso para continuar sem aceitar.[/if][/if][if fadpApplies and not gdprApplies and not lgpdApplies]Você tem o direito de cancelar o uso de cookies e tecnologias similares a qualquer momento.[/if][if usprApplies and hasSensitiveData][if gdprApplies or lgpdApplies or fadpApplies]\n<b>Aviso aos consumidores dos EUA</b>: v[/if][if not gdprApplies and not lgpdApplies and not fadpApplies]\nV[/if]ocê pode, a qualquer momento, dar ou negar seu consentimento para o tratamento de seus dados precisos de geolocalização através dos botões “[= banner.acceptButtonCaption]” e “[= banner.rejectButtonCaption]”, ou dentro do [link second_layer]painel de opções de privacidade[/link].[/if]',endQuote:"”",or:"ou",startQuote:"“"},page_counter_caption:"Clique mais uma vez para prosseguir",paragraph_1:"Este site ou suas ferramentas de terceiros usam cookies, que são necessários para o funcionamento e necessários para atingir os objetivos ilustrados na política de cookies. Se você deseja saber mais ou retirar seu consentimento da totalidade ou parte dos cookies, por favor, consulte a %{cookie_policy_link}.",paragraph_2:"Ao fechar este banner, rolar esta página, clicar em algum link ou continuar navegando de outra forma, você concorda com o uso dos cookies.",privacy_policy_caption:"política de privacidade",reject_button_caption:"Recusar[if banner.showPurposesToggles] tudo[/if]",title:"Aviso",vendor_list_caption:"terceiros",link_label_new_tab:"o link abre em uma nova guia"},blocked_overlay:{accept_button:"Atualizar",paragraph:"Você negou o uso de cookies ou tecnologias similares para a finalidade %{purposes}. Para visualizar este conteúdo, atualize suas preferências de consentimento.",title:"O conteúdo está bloqueado"},brand:{linkTitle:"iubenda - Política de Cookies e Gerenciamento de conformidade de cookies"},ccpa:{opt_out_cancel:"Cancelar",opt_out_confirm:"Confirmar",opt_out_prompt:"Você realmente deseja cancelar?"},floating_preferences_button:{caption:"Preferências de privacidade"},footer:{btnCaption:"Salvar e continuar",message:"Se você continuar navegando ou simplesmente fechar esta janela, você estará aceitando as configurações de cookies atuais."},per_purpose_banner:{1:{name:"Necessários",bannerName:"necessárias"},2:{name:"Funcionalidade",bannerName:"funcionalidade"},3:{name:"Experiência",bannerName:"experiência"},4:{name:"Medição",bannerName:"medição"},5:{name:"Marketing",bannerName:"marketing[if adPersonalization] (anúncios personalizados)[/if]"},widget_title:"Suas preferências[if not fadpApplies] de consentimento[/if] para tecnologias de rastreamento"},tcf_v2:{features:{1:0,2:0,3:0},purposes:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},specialFeatures:{1:0,2:0},specialPurposes:{1:0,2:0}},uspr:{gpc_signal:"Seu sinal de preferência pelo cancelamento (GPC) foi respeitado. Utilize as configurações do seu dispositivo para modificá-lo.",preference_widget:{notice_caption:"Aviso na coleta",preference_caption:"Suas opções de privacidade",preference_img_alt:"Ícone de cancelamento da Lei de Privacidade do Consumidor da Califórnia (CCPA)"},privacy_policy:"política de privacidade",purposes:{adv:"Processamento de minhas informações pessoais para <b>publicidade direcionada</b>",s:"<b>Venda</b> das minhas informações pessoais",sd8:"Processamento dos meus <b>dados de localização precisos</b>",sh:"<b>Compartilhamento</b> das minhas informações pessoais"},widget_intro:"As opções fornecidas nesta seção unificam e simplificam o exercício de alguns de seus <b>direitos de privacidade enquanto usuário residente nos Estados Unidos.</b><br>Para saber mais sobre seus direitos de privacidade e como exercê-los, consulte nossa %{privacy_policy}.",widget_title:"Seus direitos de privacidade de acordo com as leis de privacidade do estado americano"}}},mt={},vt={},yt={},kt={};function Ct(){S(kt,gt),S(kt,mt),S(kt,vt),S(kt,yt)}function wt(e){mt=e}Ct();var Pt=!1,St=!1,xt=!1,At=!1,_t=function(){if(!St){var e=document.getElementsByTagName("head")[0];Le('.iubenda-alert{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important;z-index:2147483647!important;background-color:rgba(0,0,0,.5)!important;font-family:"Helvetica Neue",-apple-system,sans-serif!important;display:flex!important;align-items:center!important;justify-content:center!important;font-size:16px!important}.iubenda-alert *{font-size:100%!important;width:auto!important;-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;background:0 0!important;box-sizing:border-box!important;-webkit-tap-highlight-color:transparent!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important;font-family:-apple-system,sans-serif!important;text-decoration:none!important;color:currentColor!important;background-attachment:scroll!important;background-color:transparent!important;background-image:none!important;background-position:0 0!important;background-repeat:repeat!important;border:0!important;border-color:#000!important;border-color:currentColor!important;border-radius:0!important;border-style:none!important;border-width:medium!important;bottom:auto!important;clear:none!important;clip:auto!important;counter-increment:none!important;counter-reset:none!important;direction:inherit!important;float:none!important;font-style:inherit!important;font-variant:normal!important;font-weight:inherit!important;height:auto!important;left:auto!important;letter-spacing:normal!important;line-height:inherit!important;list-style-type:inherit!important;list-style-position:outside!important;list-style-image:none!important;margin:0!important;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:1;overflow:visible!important;padding:0!important;position:static!important;quotes:"" ""!important;right:auto!important;table-layout:auto!important;text-align:left!important;text-indent:0!important;text-transform:none!important;top:auto!important;unicode-bidi:normal!important;vertical-align:baseline!important;visibility:inherit!important;white-space:normal!important;width:auto!important;word-spacing:normal!important;z-index:auto!important;background-origin:padding-box!important;background-origin:padding-box!important;background-clip:border-box!important;background-size:auto!important;-o-border-image:none!important;border-image:none!important;border-radius:0!important;border-radius:0!important;box-shadow:none!important;-moz-column-count:auto!important;column-count:auto!important;-moz-column-gap:normal!important;column-gap:normal!important;-moz-column-rule:medium none #000!important;column-rule:medium none #000!important;-moz-column-span:none!important;column-span:none!important;-moz-column-width:auto!important;column-width:auto!important;font-feature-settings:normal!important;overflow-x:visible!important;overflow-y:visible!important;-webkit-hyphens:manual!important;hyphens:manual!important;perspective:none!important;perspective-origin:50% 50%!important;text-shadow:none!important;transition:all 0s ease 0s!important;transform:none!important;transform-origin:50% 50%!important;transform-style:flat!important;word-break:normal!important}.iubenda-alert .iubenda-alert-dialog{margin:16px!important;width:100%!important;border-radius:6px!important;background-color:#111!important;color:#f4f4f4!important}@media (min-width:320px){.iubenda-alert .iubenda-alert-dialog{width:320px!important}}.iubenda-alert .iubenda-alert-dialog .iubenda-alert-dialog-content{padding:24px 24px 0!important}.iubenda-alert .iubenda-alert-dialog .iubenda-alert-dialog-buttons{padding:24px!important;display:flex!important}.iubenda-alert .iubenda-alert-dialog .iubenda-alert-dialog-buttons button{flex:1!important}.iubenda-alert button{flex:1!important;-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;margin:4px!important;padding:8px 16px!important;border-radius:64px!important;cursor:pointer!important;font-weight:700!important;font-size:100%!important;border:1px solid transparent!important;color:#fff;text-align:center!important}.iubenda-alert button:hover{border-color:currentColor!important}.iubenda-alert button.iubenda-button-confirm{background-color:#0073ce!important}.iubenda-alert button.iubenda-button-cancel{background-color:rgba(255,255,255,.1)!important}',e),St=!0}},Ot=function(){if(!xt){var e=document.getElementsByTagName("head")[0];Le("#iubenda-cs-banner .iub-toggle-checkbox,#iubenda-iframe .iub-toggle-checkbox{flex-shrink:0!important;display:flex!important;align-items:center!important;margin-left:24px!important}#iubenda-cs-banner .iub-toggle-checkbox input,#iubenda-iframe .iub-toggle-checkbox input{-moz-appearance:none!important;appearance:none!important;-webkit-appearance:none!important;padding:0!important;border:0!important;margin:0!important}#iubenda-cs-banner .iub-toggle-checkbox input::-ms-check,#iubenda-iframe .iub-toggle-checkbox input::-ms-check{visibility:hidden}#iubenda-cs-banner .iub-toggle-checkbox input.style1,#iubenda-iframe .iub-toggle-checkbox input.style1{width:64px!important;height:32px!important;border-radius:32px!important;transition:background-position .4s ease,background-color .4s ease!important;background-color:#ccc!important;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 18 18'%3E%3Cpath fill='%23FFF' fill-rule='evenodd' d='M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zM5.729 5.033a.5.5 0 0 0-.638.058l-.058.07a.5.5 0 0 0 .058.637l3.201 3.201-3.201 3.203a.5.5 0 0 0 .707.707l3.201-3.203 3.203 3.203.07.058a.5.5 0 0 0 .637-.058l.058-.07a.5.5 0 0 0-.058-.637L9.706 8.999l3.203-3.201a.5.5 0 0 0-.707-.707L8.999 8.292 5.798 5.091z'/%3E%3C/svg%3E\")!important;background-repeat:no-repeat!important;background-position:top 4px left 4px!important;background-size:24px 24px!important}#iubenda-cs-banner .iub-toggle-checkbox input.style1:checked,#iubenda-iframe .iub-toggle-checkbox input.style1:checked{background-color:#1cc691!important;background-position:top 4px left 36px!important;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 18 18'%3E%3Cpath fill='%23FFF' fill-rule='evenodd' d='M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm4.646 5.646l-6.198 6.2-3.1-3a.5.5 0 1 0-.696.718l3.454 3.342a.5.5 0 0 0 .701-.006l6.547-6.546a.5.5 0 1 0-.708-.708z'/%3E%3C/svg%3E\")!important}#iubenda-cs-banner .iub-toggle-checkbox input.style1:checked.sm,#iubenda-iframe .iub-toggle-checkbox input.style1:checked.sm{background-position:top 3px left 27px!important}#iubenda-cs-banner .iub-toggle-checkbox input.style1:checked.half,#iubenda-cs-banner .iub-toggle-checkbox input.style1:checked[value=partial],#iubenda-iframe .iub-toggle-checkbox input.style1:checked.half,#iubenda-iframe .iub-toggle-checkbox input.style1:checked[value=partial]{background-color:#ffd24d!important;background-position:top 4px left 20px!important;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 18 18'%3E%3Cpath fill='%23FFF' fill-rule='evenodd' d='M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm4 8.5H5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1z'/%3E%3C/svg%3E\")!important}#iubenda-cs-banner .iub-toggle-checkbox input.style1:checked.half.sm,#iubenda-cs-banner .iub-toggle-checkbox input.style1:checked[value=partial].sm,#iubenda-iframe .iub-toggle-checkbox input.style1:checked.half.sm,#iubenda-iframe .iub-toggle-checkbox input.style1:checked[value=partial].sm{background-position:top 3px left 15px!important}#iubenda-cs-banner .iub-toggle-checkbox input.style1.sm,#iubenda-iframe .iub-toggle-checkbox input.style1.sm{width:48px!important;height:24px!important;border-radius:24px!important;background-size:18px 18px!important;background-position:top 3px left 3px!important}#iubenda-cs-banner .iub-toggle-checkbox input::-ms-check,#iubenda-iframe .iub-toggle-checkbox input::-ms-check{visibility:hidden!important}#iubenda-cs-banner .iub-toggle-checkbox input:not([disabled]),#iubenda-iframe .iub-toggle-checkbox input:not([disabled]){cursor:pointer!important}#iubenda-cs-banner .iub-toggle-checkbox input[disabled],#iubenda-iframe .iub-toggle-checkbox input[disabled]{opacity:.35}#iubenda-cs-banner .iub-toggle-checkbox .iub-caption,#iubenda-iframe .iub-toggle-checkbox .iub-caption{display:none!important}#iubenda-cs-banner{font-size:15px!important;background:0 0!important;line-height:1.4!important;position:fixed!important;z-index:99999998!important;top:0!important;left:0!important;width:100%!important;height:100%!important;border:0!important;margin:0!important;padding:0!important;overflow:hidden!important;display:flex!important;will-change:opacity;opacity:0!important;pointer-events:none!important;transition:opacity .4s ease!important}#iubenda-cs-banner .iubenda-banner-content:not(.iubenda-custom-content) *,#iubenda-cs-banner [class*=\" iub\"],#iubenda-cs-banner [class^=iub]{font-size:100%!important;width:auto!important;-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;background:0 0!important;box-sizing:border-box!important;-webkit-tap-highlight-color:transparent!important;font-family:-apple-system,sans-serif!important;text-decoration:none!important;color:currentColor!important;background-attachment:scroll!important;background-color:transparent!important;background-image:none!important;background-position:0 0!important;background-repeat:repeat!important;border:0!important;border-color:#000!important;border-color:currentColor!important;border-radius:0!important;border-style:none!important;border-width:medium!important;bottom:auto!important;clear:none!important;clip:auto!important;counter-increment:none!important;counter-reset:none!important;direction:inherit!important;float:none!important;font-style:inherit!important;font-variant:normal!important;font-weight:inherit!important;height:auto!important;left:auto!important;letter-spacing:normal!important;line-height:inherit!important;list-style-type:inherit!important;list-style-position:outside!important;list-style-image:none!important;margin:0!important;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:1;overflow:visible!important;padding:0!important;position:static!important;quotes:\"\" \"\"!important;right:auto!important;table-layout:auto!important;text-align:left!important;text-indent:0!important;text-transform:none!important;top:auto!important;unicode-bidi:normal!important;vertical-align:baseline!important;white-space:normal!important;width:auto!important;word-spacing:normal!important;z-index:auto!important;background-origin:padding-box!important;background-origin:padding-box!important;background-clip:border-box!important;background-size:auto!important;-o-border-image:none!important;border-image:none!important;border-radius:0!important;border-radius:0!important;box-shadow:none!important;-moz-column-count:auto!important;column-count:auto!important;-moz-column-gap:normal!important;column-gap:normal!important;-moz-column-rule:medium none #000!important;column-rule:medium none #000!important;-moz-column-span:none!important;column-span:none!important;-moz-column-width:auto!important;column-width:auto!important;font-feature-settings:normal!important;overflow-x:visible!important;overflow-y:visible!important;-webkit-hyphens:manual!important;hyphens:manual!important;perspective:none!important;perspective-origin:50% 50%!important;text-shadow:none!important;transition:all 0s ease 0s!important;transform:none!important;transform-origin:50% 50%!important;transform-style:flat!important;word-break:normal!important;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}#iubenda-cs-banner .iubenda-banner-content:not(.iubenda-custom-content) * strong,#iubenda-cs-banner [class*=\" iub\"] strong,#iubenda-cs-banner [class^=iub] strong{font-weight:700!important}#iubenda-cs-banner.iubenda-cs-overlay:before{content:\"\"!important;position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important;background-color:rgba(0,0,0,.5)!important;z-index:1!important;pointer-events:auto!important}#iubenda-cs-banner.iubenda-cs-center{align-items:center!important;justify-content:center!important}#iubenda-cs-banner.iubenda-cs-top{align-items:flex-start!important}#iubenda-cs-banner.iubenda-cs-bottom{align-items:flex-end!important}#iubenda-cs-banner.iubenda-cs-left{justify-content:flex-start!important}#iubenda-cs-banner.iubenda-cs-right{justify-content:flex-end!important}#iubenda-cs-banner.iubenda-cs-visible{opacity:1!important}#iubenda-cs-banner.iubenda-cs-visible>*{pointer-events:auto!important}#iubenda-cs-banner.iubenda-cs-slidein .iubenda-cs-container{transition:transform .4s ease!important}#iubenda-cs-banner.iubenda-cs-slidein.iubenda-cs-top .iubenda-cs-container{transform:translateY(-48px)!important}#iubenda-cs-banner.iubenda-cs-slidein.iubenda-cs-bottom .iubenda-cs-container{transform:translateY(48px)!important}#iubenda-cs-banner.iubenda-cs-slidein.iubenda-cs-visible .iubenda-cs-container{transform:translateY(0)!important}#iubenda-cs-banner .iubenda-cs-container{position:relative!important;z-index:2!important}#iubenda-cs-banner .iubenda-cs-container.iubenda-cs-themed{display:flex;flex-direction:column}#iubenda-cs-banner .iubenda-cs-brand{display:flex!important;padding:16px!important;flex-shrink:0!important}#iubenda-cs-banner .iubenda-cs-brand>div{display:flex!important;justify-content:flex-start!important}#iubenda-cs-banner .iubenda-cs-brand img{max-width:192px!important;max-height:32px!important}#iubenda-cs-banner .iubenda-cs-content{position:relative!important;z-index:1!important;overflow:hidden!important;transition:transform .4s ease!important;background-color:#000!important;color:#fff!important;font-size:14px!important;display:flex;flex-direction:column}#iubenda-cs-banner .iubenda-cs-rationale{position:relative!important;display:flex!important;flex-direction:column!important;flex:1 1 auto}#iubenda-cs-banner .iubenda-cs-close-btn{z-index:1!important;top:6px!important;right:0!important;margin:10px!important;min-width:32px!important;height:32px!important;padding:6px!important;font-size:24px!important;line-height:0!important;font-weight:lighter!important;cursor:pointer!important;text-align:center!important;border:1px solid transparent!important;border-radius:4px!important;opacity:.7!important;align-self:flex-end!important}#iubenda-cs-banner .iubenda-cs-close-btn:hover{opacity:1!important}#iubenda-cs-banner .iubenda-banner-content{font-weight:300!important;padding:16px!important;flex:1 1 auto!important;overflow-y:auto!important}#iubenda-cs-banner .iubenda-banner-content a,#iubenda-cs-banner .iubenda-banner-content button{cursor:pointer!important;color:currentColor!important;opacity:.7!important;text-decoration:underline!important}#iubenda-cs-banner .iubenda-banner-content a:hover,#iubenda-cs-banner .iubenda-banner-content button:hover{opacity:1!important}@media (min-width:640px){#iubenda-cs-banner .iubenda-banner-content div:nth-child(1){margin-top:40px!important}}#iubenda-cs-banner #iubenda-cs-title{margin-bottom:16px!important;margin-top:8px!important;font-weight:700!important;font-size:14px!important}#iubenda-cs-banner .iubenda-cs-counter{text-align:center!important;position:relative!important;z-index:1!important;display:none;pointer-events:none;flex-shrink:0;padding:8px!important;font-size:13px!important;font-weight:700!important}#iubenda-cs-banner .iubenda-cs-cwa-button{font-weight:700!important;font-size:13px!important;background:rgba(255,255,255,.1)!important;color:#fff!important;padding:8px 14px!important;flex-shrink:0;border-radius:4px!important;text-align:center!important;z-index:1!important;margin:16px!important;margin-bottom:0!important;cursor:pointer!important}#iubenda-cs-banner .iubenda-cs-cwa-button:focus,#iubenda-cs-banner .iubenda-cs-cwa-button:hover{box-shadow:0 0 0 999px inset rgba(0,0,0,.1)!important}@media (max-width:639px){#iubenda-cs-banner .iubenda-cs-cwa-button{box-shadow:0 8px 16px 4px rgba(0,0,0,.2)!important}}@media (min-width:640px){#iubenda-cs-banner .iubenda-cs-cwa-button{align-self:flex-end}}#iubenda-cs-banner .iubenda-cs-cwa-button:focus,#iubenda-cs-banner .iubenda-cs-cwa-button:hover{box-shadow:0 0 0 999px inset rgba(0,0,0,.1)!important}@media (max-width:639px){#iubenda-cs-banner .iubenda-cs-cwa-button{box-shadow:0 8px 16px 4px rgba(0,0,0,.2)!important}}@media (min-width:640px){#iubenda-cs-banner .iubenda-cs-cwa-button{align-self:flex-end}}#iubenda-cs-banner .iubenda-cs-opt-group{z-index:1!important;display:flex!important;margin-top:0!important;flex-shrink:0!important;color:#000!important;margin:16px!important;margin-top:0!important}#iubenda-cs-banner .iubenda-cs-opt-group>div{display:flex!important}@media (min-width:640px){#iubenda-cs-banner .iubenda-cs-opt-group{align-items:center!important;justify-content:space-between!important}#iubenda-cs-banner .iubenda-cs-opt-group-custom{margin-right:auto!important;align-self:start!important;justify-content:flex-start!important}#iubenda-cs-banner .iubenda-cs-opt-group-consent{margin-left:auto!important;align-self:end!important;justify-content:flex-end!important}}@media (max-width:639px){#iubenda-cs-banner .iubenda-cs-opt-group{flex-direction:column!important}#iubenda-cs-banner .iubenda-cs-opt-group-custom:not(.iubenda-cs-opt-group-granular){order:2}#iubenda-cs-banner .iubenda-cs-opt-group-consent{order:1}}#iubenda-cs-banner .iubenda-cs-opt-group button{-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;padding:8px 32px!important;border-radius:64px!important;cursor:pointer!important;font-weight:700!important;font-size:100%!important;margin-top:4px!important;margin-bottom:4px!important;text-align:center!important;border:0!important;background-color:#1a1a1a!important;color:#fff!important}#iubenda-cs-banner .iubenda-cs-opt-group button.focus,#iubenda-cs-banner .iubenda-cs-opt-group button.hover{box-shadow:0 0 0 999px inset rgba(0,0,0,.1)!important}@media (min-width:640px){#iubenda-cs-banner .iubenda-cs-opt-group button:not(:last-of-type){margin-right:8px!important}}@media (max-width:639px){#iubenda-cs-banner .iubenda-cs-opt-group button{padding:8px 24px!important;width:100%!important;display:block;text-align:center!important;margin:6px 3px!important;flex:1}}#iubenda-cs-banner .iubenda-cs-opt-group button.iubenda-cs-accept-btn,#iubenda-cs-banner .iubenda-cs-opt-group button.iubenda-cs-btn-primary{background-color:#0073ce!important;color:#fff!important}#iubenda-cs-banner .iubenda-cs-opt-group button.iubenda-cs-reject-btn{background-color:#0073ce!important;color:#fff!important}#iubenda-cs-banner.iubenda-cs-padded:not(.iubenda-cs-branded) .iubenda-banner-content{padding-right:48px!important}#iubenda-cs-banner.iubenda-cs-padded .iubenda-cs-close-btn{position:absolute!important}@media (min-width:640px){#iubenda-cs-banner:not(.iubenda-cs-padded).iubenda-cs-branded .iubenda-cs-cwa-button{position:absolute!important}}@media (min-width:640px){#iubenda-cs-banner:not(.iubenda-cs-branded):not(.iubenda-cs-no-heading) .iubenda-cs-cwa-button{position:absolute!important;top:-4px!important;right:-4px!important;padding:5px 10px!important}}@media (min-width:640px){#iubenda-cs-banner.iubenda-cs-branded:not(.iubenda-cs-default-floating).iubenda-cs-bottom .iubenda-cs-brand,#iubenda-cs-banner.iubenda-cs-branded:not(.iubenda-cs-default-floating).iubenda-cs-top .iubenda-cs-brand{border-radius:8px!important}}@media (min-width:640px){#iubenda-cs-banner.iubenda-cs-branded .iubenda-cs-cwa-button{margin:15px!important}}#iubenda-cs-banner.iubenda-cs-branded .iubenda-cs-close-btn{height:32px!important;min-width:32px!important}#iubenda-cs-banner.iubenda-cs-default .iubenda-cs-brand-badge-outer,#iubenda-cs-banner.iubenda-cs-default-floating .iubenda-cs-brand-badge-outer{height:0!important}#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-left) .iubenda-cs-brand-badge-outer,#iubenda-cs-banner.iubenda-cs-default:not(.iubenda-cs-left) .iubenda-cs-brand-badge-outer{margin-left:auto!important;margin-right:0!important;float:right!important}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-bottom .iubenda-cs-brand-badge-outer,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-cs-brand-badge-outer{order:-1!important;display:inline-flex!important}#iubenda-cs-banner.iubenda-cs-default .iubenda-cs-brand{margin:0 -8px 0!important}@media (max-width:991px){#iubenda-cs-banner.iubenda-cs-default .iubenda-cs-brand{margin:-8px -8px 0!important}}@media (min-width:992px){#iubenda-cs-banner.iubenda-cs-default .iubenda-cs-brand div{margin:0 auto!important;width:calc(992px - 32px)!important}}@media (max-width:991px){#iubenda-cs-banner.iubenda-cs-default .iubenda-cs-brand div{margin:0 8px!important}}#iubenda-cs-banner.iubenda-cs-default .iubenda-cs-container{width:100%!important}@media (min-width:992px){#iubenda-cs-banner.iubenda-cs-default .iubenda-cs-rationale{width:992px!important;margin:16px auto!important}}@media (min-width:992px){#iubenda-cs-banner.iubenda-cs-default-floating .iubenda-cs-brand-badge{margin:0 16px!important}}@media (min-width:992px){#iubenda-cs-banner.iubenda-cs-default-floating .iubenda-cs-container{width:992px!important}}@media (max-width:991px){#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-cs-container,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-cs-container{width:100%!important}}@media (min-width:640px){#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center:not(.iubenda-cs-top):not(.iubenda-cs-bottom) .iubenda-cs-container,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-bottom):not(.iubenda-cs-center) .iubenda-cs-container,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-top):not(.iubenda-cs-center) .iubenda-cs-container{width:480px!important}}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center:not(.iubenda-cs-top):not(.iubenda-cs-bottom) .iubenda-cs-opt-group,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-bottom):not(.iubenda-cs-center) .iubenda-cs-opt-group,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-top):not(.iubenda-cs-center) .iubenda-cs-opt-group{flex-direction:column!important}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center:not(.iubenda-cs-top):not(.iubenda-cs-bottom) .iubenda-cs-opt-group>div,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-bottom):not(.iubenda-cs-center) .iubenda-cs-opt-group>div,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-top):not(.iubenda-cs-center) .iubenda-cs-opt-group>div{width:100%!important}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center:not(.iubenda-cs-top):not(.iubenda-cs-bottom) .iubenda-cs-opt-group button,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-bottom):not(.iubenda-cs-center) .iubenda-cs-opt-group button,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-top):not(.iubenda-cs-center) .iubenda-cs-opt-group button{display:block!important;width:100%!important;text-align:center!important}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center:not(.iubenda-cs-top):not(.iubenda-cs-bottom) .iubenda-cs-opt-group-custom,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-bottom):not(.iubenda-cs-center) .iubenda-cs-opt-group-custom,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-top):not(.iubenda-cs-center) .iubenda-cs-opt-group-custom{order:2}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center:not(.iubenda-cs-top):not(.iubenda-cs-bottom) .iubenda-cs-opt-group-consent,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-bottom):not(.iubenda-cs-center) .iubenda-cs-opt-group-consent,#iubenda-cs-banner.iubenda-cs-default-floating:not(.iubenda-cs-top):not(.iubenda-cs-center) .iubenda-cs-opt-group-consent{order:1}#iubenda-cs-banner.iubenda-cs-default-floating .iubenda-cs-content{box-shadow:0 8px 48px rgba(0,0,0,.15)!important;max-width:100%!important}@media (min-width:992px){#iubenda-cs-banner.iubenda-cs-default-floating .iubenda-cs-content{border-radius:4px!important;margin:16px!important}}#iubenda-cs-banner.iubenda-cs-scrollable .iubenda-banner-content{mask-image:linear-gradient(to top,rgba(0,0,0,0) 0%,black 16px)!important;-webkit-mask-image:linear-gradient(to top,rgba(0,0,0,0) 0%,black 16px)!important}#iubenda-cs-banner.iubenda-cs-fix-height .iubenda-cs-container,#iubenda-cs-banner.iubenda-cs-fix-height .iubenda-cs-content,#iubenda-cs-banner.iubenda-cs-fix-height .iubenda-cs-rationale{height:100%!important}@media (min-width:992px){#iubenda-cs-banner.iubenda-cs-fix-height.iubenda-cs-default-floating .iubenda-cs-content{height:calc(100% - 32px)!important}}#iubenda-cs-banner.iubenda-cs-fix-height .iubenda-cs-brand img{max-width:75%!important}#iubenda-cs-banner [tabindex]:not([tabindex=\"-1\"]):focus,#iubenda-cs-banner a[href]:focus,#iubenda-cs-banner button:focus,#iubenda-cs-banner details:focus,#iubenda-cs-banner input:focus,#iubenda-cs-banner select:focus,#iubenda-cs-banner textarea:focus{outline-width:2px!important;outline-style:solid!important;outline-color:#005fcc!important;outline-offset:2px!important}#iubenda-cs-banner .iubenda-cs-brand-badge{flex-shrink:0!important;margin:16px!important;padding:6px 34px 6px 10px!important;background:#fff!important;display:inline-flex;border-radius:6px!important;border:1px solid rgba(0,0,0,.2)!important;box-shadow:0 0 16px rgba(0,0,0,.1)!important;align-self:flex-end;background-image:url(\"data:image/svg+xml,%3Csvg fill='none' height='19' viewBox='0 0 9 19' width='9' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m4.1555.211426c.81725.000101 1.61499.249693 2.28656.715401.67157.465713 1.18496 1.125343 1.47153 1.890693.28657.76536.33266 1.59996.13211 2.39221-.20055.79226-.63818 1.50441-1.25438 2.04124l.87593 11.02083h-7.023493l.875933-11.02083c-.616206-.53683-1.053841-1.24898-1.254391-2.04124-.2005501-.79225-.154458-1.62685.132114-2.39221.286572-.76535.799967-1.42498 1.471537-1.890693.67157-.465708 1.46931-.7153 2.28655-.715401z' fill='%231cc691' fill-rule='evenodd'/%3E%3C/svg%3E\")!important;background-position:center right 12px!important;background-repeat:no-repeat!important;color:#222!important;font-weight:400!important;font-size:14px!important;pointer-events:auto!important}#iubenda-cs-banner .iubenda-cs-brand-badge:hover{border:1px solid rgba(0,0,0,.4)!important}#iubenda-cs-banner .iubenda-cs-brand-badge>span{border-right:1px solid rgba(0,0,0,.1)!important;padding-right:12px!important}#iubenda-cs-banner .iubenda-cs-brand-badge>span>span{text-decoration:underline!important}#iubenda-cs-banner .iubenda-cs-brand-badge-text{font-size:11px!important;font-weight:700!important;text-align:right!important;margin:-4px 16px 12px!important}#iubenda-cs-banner .iubenda-cs-brand-badge-text a{color:inherit}#iubenda-cs-banner .iubenda-iframe-spinner~.iubenda-iframe-badge-container .iubenda-cs-brand-badge{display:none!important}#iubenda-cs-banner .iubenda-granular-controls-container{--iub-granular-background:rgba(0, 0, 0, .02);--iub-granular-border:rgba(0, 0, 0, 0.08);--iub-granular-toggle-background:rgba(0, 0, 0, 0.2);display:flex;flex-wrap:wrap;flex-shrink:0;margin-bottom:16px!important;border-top:1px solid var(--iub-granular-border)!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox{flex-basis:100%;display:flex!important;gap:10px!important;padding-left:16px!important;padding-right:16px!important;padding-bottom:14px!important;background-color:var(--iub-granular-background)!important;margin:0!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox input.style1{width:48px!important;height:24px!important;background-position:top 3px left 3px!important;background-size:18px 18px!important;background-color:var(--iub-granular-toggle-background)!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox input.style1,#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox input.style1:checked{background-image:url(\"data:image/svg+xml,%3Csvg height='20' viewBox='0 0 20 20' width='20' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10' cy='10' fill='%23fff' fill-rule='evenodd' r='10'/%3E%3C/svg%3E\")!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox input.style1:checked{background-position:top 3px left 27px!important;background-color:#1cc691!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox input.style1:checked[value=partial]{background-position:top 3px left 15px!important;background-color:#ffd24d!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox:nth-child(2){padding-top:16px!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox:last-child{padding-bottom:16px!important;border-bottom:1px solid var(--iub-granular-border)!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd),#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox{flex-basis:50%;flex-direction:column-reverse;padding:14px 10px!important;border:1px solid var(--iub-granular-border)!important;border-right:0!important;border-top:0!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox--disabled{display:none!important}@media (max-width:991px){#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox{min-width:0!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox label{max-width:100%}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox label span{display:block;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}#iubenda-cs-banner .iubenda-granular-controls-container .granular-control-checkbox--mobile-hidden{display:none!important}}#iubenda-cs-banner.iubenda-cs-black .iubenda-granular-controls-container{--iub-granular-background:rgba(255, 255, 255, .02);--iub-granular-border:rgba(255, 255, 255, 0.08);--iub-granular-toggle-background:rgba(255, 255, 255, 0.2)}@media (min-width:640px){#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox{flex:1!important;flex-direction:column-reverse!important;padding:14px 10px!important;border:1px solid var(--iub-granular-border)!important;border-right:0!important;border-top:0!important;padding-top:16px!important}}@media (min-width:992px){#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container{grid-gap:24px!important;padding:16px 16px 32px!important;border-top:0!important;margin-bottom:0!important}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox--disabled,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox--disabled,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox--disabled,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox--disabled{display:flex!important}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child{padding-left:16px!important}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:last-child{padding-right:16px!important}#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd),#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox:nth-last-child(2),#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:nth-child(2),#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd),#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox:nth-last-child(2),#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default-floating.iubenda-cs-center.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:nth-child(2),#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd),#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox:nth-last-child(2),#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-bottom .iubenda-granular-controls-container .granular-control-checkbox:nth-child(2),#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd),#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:first-child:nth-last-child(odd)~.granular-control-checkbox:nth-last-child(2),#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:last-child,#iubenda-cs-banner.iubenda-cs-default.iubenda-cs-top .iubenda-granular-controls-container .granular-control-checkbox:nth-child(2){flex:0 1 auto!important;flex-direction:row!important;background-color:transparent!important;padding:0!important;border:none!important;margin:0!important}}.iubenda-tp-alert-btn *,.iubenda-tp-alert-btn:not([data-tp-nostyle]),.iubenda-tp-btn *,.iubenda-tp-btn:not([data-tp-nostyle]),.iubenda-uspr-btn *,.iubenda-uspr-btn:not([data-tp-nostyle]){font-size:100%!important;width:auto!important;-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;background:0 0!important;box-sizing:border-box!important;-webkit-tap-highlight-color:transparent!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important;font-family:-apple-system,sans-serif!important;text-decoration:none!important;color:currentColor!important;background-attachment:scroll!important;background-color:transparent!important;background-image:none!important;background-position:0 0!important;background-repeat:repeat!important;border:0!important;border-color:#000!important;border-color:currentColor!important;border-radius:0!important;border-style:none!important;border-width:medium!important;bottom:auto!important;clear:none!important;clip:auto!important;counter-increment:none!important;counter-reset:none!important;cursor:auto!important;direction:inherit!important;float:none!important;font-style:inherit!important;font-variant:normal!important;font-weight:inherit!important;height:auto!important;left:auto!important;letter-spacing:normal!important;line-height:inherit!important;list-style-type:inherit!important;list-style-position:outside!important;list-style-image:none!important;margin:0!important;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:1;outline:0!important;overflow:visible!important;padding:0!important;position:static!important;quotes:\"\" \"\"!important;right:auto!important;table-layout:auto!important;text-align:left!important;text-indent:0!important;text-transform:none!important;top:auto!important;unicode-bidi:normal!important;vertical-align:baseline!important;visibility:inherit!important;white-space:normal!important;width:auto!important;word-spacing:normal!important;z-index:auto!important;background-origin:padding-box!important;background-origin:padding-box!important;background-clip:border-box!important;background-size:auto!important;-o-border-image:none!important;border-image:none!important;border-radius:0!important;border-radius:0!important;box-shadow:none!important;-moz-column-count:auto!important;column-count:auto!important;-moz-column-gap:normal!important;column-gap:normal!important;-moz-column-rule:medium none #000!important;column-rule:medium none #000!important;-moz-column-span:none!important;column-span:none!important;-moz-column-width:auto!important;column-width:auto!important;font-feature-settings:normal!important;overflow-x:visible!important;overflow-y:visible!important;-webkit-hyphens:manual!important;hyphens:manual!important;perspective:none!important;perspective-origin:50% 50%!important;text-shadow:none!important;transition:all 0s ease 0s!important;transform:none!important;transform-origin:50% 50%!important;transform-style:flat!important;word-break:normal!important;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}.iubenda-tp-alert-btn:not([data-tp-nostyle]),.iubenda-tp-btn:not([data-tp-nostyle]),.iubenda-uspr-btn:not([data-tp-nostyle]){-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;line-height:34px!important;height:34px!important;min-width:34px!important;border-radius:4px!important;cursor:pointer!important;font-weight:700!important;font-size:14px!important;box-shadow:0 0 0 1px rgba(0,0,0,.15)!important;color:rgba(0,0,0,.65)!important;background-color:#fff!important;display:inline-block!important;vertical-align:middle!important}.iubenda-tp-alert-btn.iubenda-tp-btn--warning,.iubenda-tp-btn.iubenda-tp-btn--warning,.iubenda-uspr-btn.iubenda-tp-btn--warning{z-index:2147483647!important}.iubenda-tp-alert-btn.iubenda-tp-btn--warning:before,.iubenda-tp-btn.iubenda-tp-btn--warning:before,.iubenda-uspr-btn.iubenda-tp-btn--warning:before{content:\"\";background-image:url(\"data:image/svg+xml,%3Csvg fill='none' height='17' viewBox='0 0 17 17' width='17' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.79042 2.81577c.7788-1.28272 2.64036-1.28272 3.41918 0l5.9459 9.79333c.8093 1.3328-.1503 3.038-1.7095 3.038h-11.89195c-1.55927 0-2.5188026-1.7052-1.709576-3.038z' fill='%23fb6666'/%3E%3Cpath d='m14.446 15.1471h-11.89195c-1.16945 0-1.889102-1.2789-1.28218-2.2785l5.94595-9.79334c.5841-.96204 1.98026-.96204 2.56436 0l5.94592 9.79334c.607.9996-.1127 2.2785-1.2821 2.2785z' stroke='%23000' stroke-opacity='.1'/%3E%3Cg fill='%23fff'%3E%3Crect height='4.97619' rx='.497619' width='.995238' x='8' y='6'/%3E%3Cpath d='m8 12.5c0-.2761.22386-.5.5-.5.27614 0 .5.2239.5.5 0 .2761-.22386.5-.5.5-.27614 0-.5-.2239-.5-.5z'/%3E%3C/g%3E%3C/svg%3E\");background-position:center;background-size:24px 24px;background-repeat:no-repeat;position:absolute;top:-16px;right:-16px;width:32px;height:32px}.iubenda-tp-alert-btn[data-tp-icon],.iubenda-tp-btn[data-tp-icon],.iubenda-uspr-btn[data-tp-icon]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath fill='%231CC691' fill-rule='evenodd' d='M16 7a4 4 0 0 1 2.627 7.016L19.5 25h-7l.873-10.984A4 4 0 0 1 16 7z'/%3E%3C/svg%3E\")!important;background-repeat:no-repeat!important;background-size:32px 32px!important;background-position:top .5px left 1px!important}.iubenda-tp-alert-btn[data-tp-circle],.iubenda-tp-btn[data-tp-circle],.iubenda-uspr-btn[data-tp-circle]{border-radius:32px!important}.iubenda-tp-alert-btn[data-tp-label]:after,.iubenda-tp-btn[data-tp-label]:after,.iubenda-uspr-btn[data-tp-label]:after{content:attr(data-tp-label)!important;padding:0 16px!important;white-space:nowrap!important}.iubenda-tp-alert-btn[data-tp-label][data-tp-icon]:after,.iubenda-tp-btn[data-tp-label][data-tp-icon]:after,.iubenda-uspr-btn[data-tp-label][data-tp-icon]:after{padding-left:calc(16px + 8px + 8px)!important}.iubenda-tp-alert-btn[data-tp-float],.iubenda-tp-btn[data-tp-float],.iubenda-uspr-btn[data-tp-float]{position:fixed!important}.iubenda-tp-alert-btn[data-tp-float]:not([data-tp-anchored]),.iubenda-tp-btn[data-tp-float]:not([data-tp-anchored]),.iubenda-uspr-btn[data-tp-float]:not([data-tp-anchored]){margin:16px!important}.iubenda-tp-alert-btn[data-tp-float]:focus,.iubenda-tp-btn[data-tp-float]:focus,.iubenda-uspr-btn[data-tp-float]:focus{outline:2px solid -webkit-focus-ring-color!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored],.iubenda-tp-btn[data-tp-float][data-tp-anchored],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]{margin:0 16px!important;border-radius:6px!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left],.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right],.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-left],.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-right],.iubenda-tp-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left],.iubenda-tp-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right],.iubenda-tp-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-left],.iubenda-tp-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-right],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right],.iubenda-uspr-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-left],.iubenda-uspr-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-right]{margin:0!important;top:75%!important;transform:translateY(-50%)!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left],.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-left],.iubenda-tp-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left],.iubenda-tp-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-left],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left],.iubenda-uspr-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-left]{left:0!important;border-top-left-radius:0!important;border-bottom-left-radius:0!important;border-left:0!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right],.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-right],.iubenda-tp-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right],.iubenda-tp-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-right],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right],.iubenda-uspr-btn[data-tp-float][data-tp-anchored][data-tp-hover][data-tp-float=center-right]{right:0!important;border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-left],.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-right],.iubenda-tp-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-left],.iubenda-tp-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-right],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-left],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-right]{margin:0!important;top:50%!important;border-bottom-left-radius:0!important;border-bottom-right-radius:0!important;border-bottom:0!important;transform-origin:bottom!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-left],.iubenda-tp-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-left],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-left]{left:0!important;transform:translateY(-50%) rotate(90deg)!important;transform-origin:left bottom!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-right],.iubenda-tp-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-right],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover])[data-tp-label][data-tp-float=center-right]{right:0!important;transform:translateY(-50%) rotate(-90deg)!important;transform-origin:right bottom!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-float=bottom-left],.iubenda-tp-alert-btn[data-tp-float][data-tp-float=bottom-right],.iubenda-tp-btn[data-tp-float][data-tp-float=bottom-left],.iubenda-tp-btn[data-tp-float][data-tp-float=bottom-right],.iubenda-uspr-btn[data-tp-float][data-tp-float=bottom-left],.iubenda-uspr-btn[data-tp-float][data-tp-float=bottom-right]{bottom:0!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-float=bottom-left][data-tp-anchored],.iubenda-tp-alert-btn[data-tp-float][data-tp-float=bottom-right][data-tp-anchored],.iubenda-tp-btn[data-tp-float][data-tp-float=bottom-left][data-tp-anchored],.iubenda-tp-btn[data-tp-float][data-tp-float=bottom-right][data-tp-anchored],.iubenda-uspr-btn[data-tp-float][data-tp-float=bottom-left][data-tp-anchored],.iubenda-uspr-btn[data-tp-float][data-tp-float=bottom-right][data-tp-anchored]{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important;border-bottom:0!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-float=top-left],.iubenda-tp-alert-btn[data-tp-float][data-tp-float=top-right],.iubenda-tp-btn[data-tp-float][data-tp-float=top-left],.iubenda-tp-btn[data-tp-float][data-tp-float=top-right],.iubenda-uspr-btn[data-tp-float][data-tp-float=top-left],.iubenda-uspr-btn[data-tp-float][data-tp-float=top-right]{top:0!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-float=top-left][data-tp-anchored],.iubenda-tp-alert-btn[data-tp-float][data-tp-float=top-right][data-tp-anchored],.iubenda-tp-btn[data-tp-float][data-tp-float=top-left][data-tp-anchored],.iubenda-tp-btn[data-tp-float][data-tp-float=top-right][data-tp-anchored],.iubenda-uspr-btn[data-tp-float][data-tp-float=top-left][data-tp-anchored],.iubenda-uspr-btn[data-tp-float][data-tp-float=top-right][data-tp-anchored]{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:0!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-float=bottom-left],.iubenda-tp-alert-btn[data-tp-float][data-tp-float=top-left],.iubenda-tp-btn[data-tp-float][data-tp-float=bottom-left],.iubenda-tp-btn[data-tp-float][data-tp-float=top-left],.iubenda-uspr-btn[data-tp-float][data-tp-float=bottom-left],.iubenda-uspr-btn[data-tp-float][data-tp-float=top-left]{left:0!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-float=bottom-right],.iubenda-tp-alert-btn[data-tp-float][data-tp-float=top-right],.iubenda-tp-btn[data-tp-float][data-tp-float=bottom-right],.iubenda-tp-btn[data-tp-float][data-tp-float=top-right],.iubenda-uspr-btn[data-tp-float][data-tp-float=bottom-right],.iubenda-uspr-btn[data-tp-float][data-tp-float=top-right]{right:0!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-hover][data-tp-label]:after,.iubenda-tp-btn[data-tp-float][data-tp-hover][data-tp-label]:after,.iubenda-uspr-btn[data-tp-float][data-tp-hover][data-tp-label]:after{max-width:0!important;overflow:hidden!important;display:block!important;padding:0!important;opacity:0!important;transition:max-width .6s ease,padding .6s ease,opacity .6s ease!important}.iubenda-tp-alert-btn[data-tp-float][data-tp-hover][data-tp-label]:hover:after,.iubenda-tp-btn[data-tp-float][data-tp-hover][data-tp-label]:hover:after,.iubenda-uspr-btn[data-tp-float][data-tp-hover][data-tp-label]:hover:after{max-width:192px!important;padding-left:calc(16px + 8px + 8px)!important;padding-right:10px!important;opacity:1!important}.iubenda-tp-alert-btn:focus,.iubenda-tp-btn:focus,.iubenda-uspr-btn:focus{outline-width:2px!important;outline-style:solid!important;outline-color:#005fcc!important;outline-offset:2px!important}.iubenda-uspr-btn{border:1px solid rgba(0,0,0,.2)!important;box-shadow:0 .25rem 1rem rgba(0,0,0,.1)!important;border-radius:.5rem!important;font-family:sans-serif!important;font-weight:700!important;overflow:hidden!important;display:inline-flex!important;flex-wrap:wrap!important;background:#fff!important;color:#280404!important}.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left],.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right]{border-radius:0!important;border-bottom-left-radius:6px!important;border-bottom-right-radius:6px!important;top:auto!important;bottom:32px!important;flex-wrap:nowrap!important}.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left] *,.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right] *{white-space:nowrap!important}.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-left]{left:0!important;transform:translateX(46px) rotate(-90deg)!important;transform-origin:left bottom!important}.iubenda-uspr-btn[data-tp-float][data-tp-anchored]:not([data-tp-hover]):not([data-tp-label])[data-tp-float=center-right]{right:0!important;transform:translateX(-46px) rotate(90deg)!important;transform-origin:right bottom!important}@media (min-width:480px){.iubenda-uspr-btn[data-tp-float=bottom-right],.iubenda-uspr-btn[data-tp-float=bottom-right] .iubenda-cs-preferences-link,.iubenda-uspr-btn[data-tp-float=top-right],.iubenda-uspr-btn[data-tp-float=top-right] .iubenda-cs-preferences-link{flex-direction:row-reverse!important}}.iubenda-uspr-btn a{padding:.75rem!important;cursor:pointer!important;flex:1 1 auto!important;display:inline-flex!important;align-items:center!important;grid-gap:0.5rem!important}.iubenda-uspr-btn a img{width:2.5rem!important;flex-shrink:0!important}.iubenda-uspr-btn a:hover{background-color:rgba(0,0,0,.025)!important}.iubenda-uspr-btn a:first-of-type{box-shadow:0 0 0 1px rgba(0,0,0,.2)!important}.iub__us-widget{color:#595959;margin:0;padding:.5em;display:flex;justify-content:center;align-items:center;font-family:-apple-system,sans-serif!important;font-size:1rem;font-weight:700}.iub__us-widget.left{justify-content:flex-start}.iub__us-widget.right{justify-content:flex-end}.iub__us-widget__wrapper{background-color:#fff;border:1px solid currentColor;border-radius:5px;overflow:hidden;display:flex}.iub__us-widget__wrapper[data-tp-circle]{border-radius:32px}.iub__us-widget__link{display:flex;justify-content:center;align-items:center;padding:.5em 1em;line-height:1;text-decoration:none;transition:background-color .3s ease;cursor:pointer}.iub__us-widget__link--privacy-choices{border-left:1px solid currentColor}.iub__us-widget__link--privacy-choices::after{content:url(\"data:image/svg+xml,%3Csvg width='40' height='18' viewBox='0 0 40 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0.5' y='0.5' width='39' height='17' rx='8.5' fill='white' stroke='%232569F6'/%3E%3Cpath d='M22.5 0H31C35.9706 0 40 4.02944 40 9C40 13.9706 35.9706 18 31 18H18L22.5 0Z' fill='%232569F6'/%3E%3Cpath d='M8 9.5L10.5 12L16.5 6' stroke='%232569F6' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M25.5 6L31.5 12' stroke='white' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M31.5 6L25.5 12' stroke='white' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E%0A\");height:18px;margin-left:.8em}.iub__us-widget__link:hover{background-color:#e4e6e8}@media screen and (max-width:480px){.iub__us-widget{justify-content:start}.iub__us-widget__wrapper{flex-direction:column-reverse}.iub__us-widget__link{justify-content:flex-start}.iub__us-widget__link--privacy-choices{flex-direction:row-reverse;border-left:none;border-bottom:1px solid currentColor;margin-left:0;margin-right:.8em}}",e),xt=!0}},Bt=function(e){if(!At&&!0===e.banner.applyStyles){var t={backgroundColor:e.banner.backgroundColor,textColor:e.banner.textColor,rejectButtonCaptionColor:e.banner.rejectButtonCaptionColor,rejectButtonColor:e.banner.rejectButtonColor,acceptButtonCaptionColor:e.banner.acceptButtonCaptionColor,acceptButtonColor:e.banner.acceptButtonColor,buttonTextColor:e.banner.customizeButtonCaptionColor,buttonBackgroundColor:e.banner.customizeButtonColor,brandBackgroundColor:e.banner.logo&&e.banner.brandBackgroundColor,brandTextColor:e.banner.logo&&e.banner.brandTextColor,fontSizeBody:e.banner.fontSize||e.banner.fontSizeBody,buttonExitFontSize:e.banner.fontSize||e.banner.fontSizeCloseButton,buttonExitTextColor:e.banner.logo&&e.banner.brandTextColor,buttonExitBackgroundColor:!e.banner.logo&&e.banner.backgroundColor,continueWithoutAcceptingButtonColor:e.banner.continueWithoutAcceptingButtonColor,continueWithoutAcceptingButtonCaptionColor:e.banner.continueWithoutAcceptingButtonCaptionColor},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="";return e.forEach((function(e){var i=e.selector||e.selectors.join(", "),o="";for(var a in e.properties)e.properties[a]&&(o+="".concat(a,": ").concat(e.properties[a]).concat(t?"!important":"",";"));o&&(n+="".concat(i," { ").concat(o," }"))})),n}([{selectors:["#iubenda-iframe.iubenda-iframe-branded .iubenda-modal-navigation-brand","#iubenda-iframe.iubenda-iframe-branded .purposes-header","#iubenda-iframe.iubenda-iframe-branded .purposes-header .iub-btn-cp","#iubenda-iframe.iubenda-iframe-branded .purposes-header .iub-btn-back","#iubenda-iframe.iubenda-iframe-branded .iub-cmp-header","#purposes-content-container .purposes-header","#iubenda-cs-banner .iubenda-cs-brand"],properties:{"background-color":t.brandBackgroundColor,color:t.brandTextColor}},{selector:"#iubenda-cs-banner .iub-toggle .iub-toggle-label",properties:{color:t.brandTextColor}},{selector:["#iubenda-iframe.iubenda-iframe-branded .purposes-header .iub-btn-cp:hover","#iubenda-iframe.iubenda-iframe-branded .purposes-header .iub-btn-back:hover"],properties:{"background-color":t.brandTextColor,color:t.brandBackgroundColor}},{selector:"#iubenda-cs-banner .iubenda-cs-content",properties:{"background-color":t.backgroundColor,color:t.textColor,"font-size":t.fontSizeBody}},{selector:"#iubenda-cs-banner .iubenda-cs-close-btn",properties:{"font-size":t.buttonExitFontSize,color:t.buttonExitTextColor,"background-color":t.buttonExitBackgroundColor}},{selector:"#iubenda-cs-banner .iubenda-cs-opt-group",properties:{color:t.backgroundColor}},{selector:["#iubenda-cs-banner .iubenda-cs-opt-group button",".iubenda-alert button.iubenda-button-cancel"],properties:{"background-color":t.buttonBackgroundColor,color:t.buttonTextColor}},{selectors:["#iubenda-cs-banner .iubenda-cs-opt-group button.iubenda-cs-accept-btn","#iubenda-cs-banner .iubenda-cs-opt-group button.iubenda-cs-btn-primary",".iubenda-alert button.iubenda-button-confirm"],properties:{"background-color":t.acceptButtonColor,color:t.acceptButtonCaptionColor}},{selector:"#iubenda-cs-banner .iubenda-cs-opt-group button.iubenda-cs-reject-btn",properties:{"background-color":t.rejectButtonColor,color:t.rejectButtonCaptionColor}},{selector:"#iubenda-cs-banner button.iubenda-cs-cwa-button",properties:{"background-color":t.continueWithoutAcceptingButtonColor,color:t.continueWithoutAcceptingButtonCaptionColor}}],!0),i=document.head||document.getElementsByTagName("head")[0];Le(n,i),At=!0}};function It(){var e="iubenda-cs__overlay-style";if(!!!document.querySelector(".".concat(e))){var t=document.createElement("style");t.className=e,t.innerHTML=".iubenda-cs__overlay{width:100%;height:100%;display:flex;overflow:auto;padding:1rem;background-color:rgba(0,0,0,.1);font-family:sans-serif;box-sizing:border-box}.iubenda-cs__dialog{max-width:320px;border-radius:.5rem;box-shadow:0 0 2rem rgba(0,0,0,.25),0 0 0 1px rgba(0,0,0,.05);margin:auto;overflow:hidden;padding:1.5rem;display:flex;flex-direction:column;grid-gap:1.5rem;background:#fff;color:#222;box-sizing:border-box}.iubenda-cs__body h1{font-size:1.25rem;margin:0 0 .5rem 0}.iubenda-cs__body p{margin:0;font-weight:300}.iubenda-cs__button{font-size:100%;border-radius:4rem;padding:.5rem 1rem;font-weight:700;background-color:#0073ce!important;color:#fff!important;border:0;width:100%;cursor:pointer}.iubenda-cs__button:hover{background-color:#005aa0!important}@media (max-height:320px) and (max-width:240px){.iubenda-cs__overlay{padding:0}}@media (max-height:320px) and (min-width:480px){.iubenda-cs__dialog{flex-direction:row;max-width:100%;align-items:center}.iubenda-cs__button{padding:1rem 3rem}}",document.body.appendChild(t)}}var Lt="en",Dt=Lt,Tt=function(e,t){for(var n=e,i=0;n&&i<t.length;i++){var o=t[i];if(!(o in n))return null;n=n[o]}return n},Ft=function(e,t){var n,i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.split("."),s=Tt(kt[Dt],r)||t||e;return void 0===s&&Dt!==Lt&&(s=Tt(kt.en,r)),oe(s=s||t||e,null!==(n=null===(i=_iub)||void 0===i||null===(o=i.cs)||void 0===o?void 0:o.options)&&void 0!==n?n:a)};Ft.setLang=function(e){Dt=e};var Et=Ft,Nt=function(e){return-1!==["en","it","de","es","fr","pt-BR","nl","da"].indexOf(e)?e.toLowerCase():"en"};function Rt(e){var t=null!=e?e:"en";return{brandLink:"https://www.iubenda.com/"+Nt(t)+"/cookie-solution?utm_source=cs&utm_medium=web&utm_campaign=csbr1",brandLinkTitle:kt[t].brand.linkTitle}}window._iub.csTranslate=Et;var Vt=function(e){for(var t=document.getElementsByClassName("iubenda-cs-preferences-link"),n=0,i=t.length;n<i;n++)jt(t[n],e)},jt=function(e,t){e.getAttribute("data-iub-enabled")||(e.addEventListener("click",(function(n){n.stopPropagation(),n.preventDefault();var i=e.getAttribute("data-accept-purposes"),o=null;i&&(o=i.split(",")),t.openPreferences({event:n,acceptPurposes:o})})),e.setAttribute("data-iub-enabled",1))},zt="iub-popover",Ut="iub-popover-header-title",Mt="iub-popover-content-body",Gt="iub-popover-header-close",Wt="iub-popover-visible",Ht=function(){function e(t){i(this,e),this.cs=t}return a(e,[{key:"onClick",value:function(e){var t=e.target;if(Se(t,"iub-popover-trigger")){var n=t.getAttribute("data-iub-popover"),i=t.getAttribute("data-iub-popover-title")||Et("tooltips."+n+".title",""),o=t.getAttribute("data-iub-popover-body")||Et("tooltips."+n+".body","");this.showPopover(t,i,o),e.preventDefault()}}},{key:"showPopover",value:function(e,t,n){var i=this,o=this.cs.ui,a=function(e,t){for(var n=e.parentNode;null!=n;){if(!0===t(n))return n;n=n.parentNode}return null}(e,(function(e){var t="iubenda-iframe-popup"===e.id;return t&&!e._iubPopupInit&&(Be(e,"click",(function(e){i.onIframePopupClick(e)})),e._iubPopupInit=1),t||Se(e,"iubenda-cs-container")})),r=this.createPopover(a);this.titleEl.innerHTML=t,this.bodyEl.innerHTML=n,o.bindOpenCmpBtns(r),o.bindVendorListBtns(r),r.offsetWidth,we(a.parentNode,Wt),ht(".".concat(zt))}},{key:"onIframePopupClick",value:function(e){var t=ce(zt)[0],n=e.target;n===t||ue(t,n)||this.close(),e.stopPropagation()}},{key:"close",value:function(){var e=ce(zt)[0];if(e&&e.parentNode){var t=ce(Wt)[0];t&&(ht(),Pe(t,Wt),setTimeout((function(){e.parentNode.removeChild(e)}),300))}}},{key:"createPopover",value:function(e){var t=this,n=ce(zt)[0];return n||((n=document.createElement("div")).className=zt,n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby","iub-popover-title"),n.setAttribute("aria-describedby","iub-popover-content"),n.innerHTML=['<div class="iub-popover-header">','<h2 class="'+Ut+'" id="iub-popover-title">[POPOVER TITLE]</h2>','<button class="'+Gt+'">&times</button>',"</div>",'<div class="iub-popover-content" id="iub-popover-content">','<div class="'+Mt+'">[POPOVER CONTENT]</div>',"</div>"].join(""),Be(n,"click",(function(e){return t.onPopoverClick(e)})),e.appendChild(n),n)}},{key:"onPopoverClick",value:function(e){Se(e.target,Gt)&&this.close()}},{key:"listen",value:function(e){var t=this;Be(e,"click",(function(e){t.onClick(e)}))}},{key:"isOpen",value:function(){return!!ce(Wt)[0]}},{key:"titleEl",get:function(){return ce(Ut)[0]}},{key:"bodyEl",get:function(){return ce(Mt)[0]}}]),e}(),qt=function(){function e(t){i(this,e),this.options=t,this.isActive=this.setActive();var n,o,a=(n=t.lang,{brandLink:"https://www.iubenda.com/"+Nt(o=null!=n?n:"en")+"/cookie-solution?utm_source=cs&utm_medium=web&utm_campaign=csbr2",brandLinkTitle:kt[o].brand.linkTitle});this.link=a.brandLink,this.linkTitle=a.brandLinkTitle}return a(e,[{key:"setActive",value:function(){var e=this.options.cookieSolutionWhiteLabeling;return!(!this.options.banner.theme&&!1===e)&&!(e>=1)}},{key:"getBadgeButton",value:function(){var e=document.createElement("a");e.className="iubenda-cs-brand-badge",e.href=this.link,e.setAttribute("target","_blank"),e.setAttribute("rel","noopener"),e.setAttribute("title",this.linkTitle),e.innerHTML="<span>Created with <span>iubenda</span></span>";var t=document.createElement("div");return t.className="iubenda-cs-brand-badge-outer",t.appendChild(e),t}},{key:"getBadgeText",value:function(){var e=document.createElement("div");return e.className="iubenda-cs-brand-badge-text",e.innerHTML='Created with\n        <a href="'.concat(this.link,'" target="_blank" rel="noopener" title="').concat(this.linkTitle,'">\n            iubenda\n        </a>'),e}},{key:"getBadge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isActive)return e?"":null;var t="inside",n=null;return 0===this.options.cookieSolutionWhiteLabeling||!1===this.options.cookieSolutionWhiteLabeling?(t="outside",n=this.getBadgeButton()):n=this.getBadgeText(),{position:t,element:e?n.outerHTML:n}}}]),e}(),Jt=function(){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e);var r=a.value,s=u(a,["value"]);this.options=t({disabled:!1},s),this.label=n,this.callback=o,this.value=r||!1,this.content=document.createElement("div"),this.toggleId=n;var c="iub-toggle-checkbox granular-control-checkbox";a.id&&(this.toggleId="iub-toggle-id-"+a.id,c+=" "+this.toggleId),this.content.className=c,this.createToggle()}return a(e,[{key:"createToggle",value:function(){var e=this,t=document.createElement("input");t.id=this.toggleId,t.name=this.label,t.className="style1",t.type="checkbox",t.checked=this.value,t.value=this.value,t.disabled=this.options.disabled,this.options.disabled&&this.content.classList.add("granular-control-checkbox--disabled"),t.addEventListener("change",(function(t){var n=t.target;t.isTrusted&&(n.value=n.checked),e.callback(e.options,Z(n.value))})),this.content.appendChild(t);var n=document.createElement("label");n.setAttribute("for",this.toggleId);var i=document.createElement("span");i.innerHTML=this.label,n.appendChild(i),this.content.appendChild(n)}},{key:"getNode",value:function(){return this.content}}]),e}(),Kt="bannerAcceptClicked",Yt={top:["iubenda-cs-default","iubenda-cs-top"],bottom:["iubenda-cs-default","iubenda-cs-bottom"],"float-top-left":["iubenda-cs-default-floating","iubenda-cs-top","iubenda-cs-left"],"float-top-right":["iubenda-cs-default-floating","iubenda-cs-top","iubenda-cs-right"],"float-bottom-left":["iubenda-cs-default-floating","iubenda-cs-bottom","iubenda-cs-left"],"float-bottom-right":["iubenda-cs-default-floating","iubenda-cs-bottom","iubenda-cs-right"],"float-top-center":["iubenda-cs-default-floating","iubenda-cs-top","iubenda-cs-center"],"float-bottom-center":["iubenda-cs-default-floating","iubenda-cs-bottom","iubenda-cs-center"],"float-center":["iubenda-cs-default-floating","iubenda-cs-center"]},Xt=function(){function e(t,n){i(this,e),this.cookiePolicyHref=n,this.banner=null,this.cs=t,this.popover=new Ht(this.cs),this.bannerShown=!1,this.hasTheUserScrolledToBottom=!1,this.numberOfPages=1,this.singlePageHeight=0}return a(e,[{key:"bannerSetup",value:function(){var e,t,n=this,i=this.cs.options,o=kt[i.lang].banner,a="",s="";(null==i||null===(e=i.banner)||void 0===e?void 0:e.linksColor)&&(s="style=color:"+i.banner.linksColor.replace(/\s+/g,"")+"!important;"),this.banner=document.createElement("div"),this.banner.id="iubenda-cs-banner",!0===i.banner.applyStyles&&(Ot(),i.banner.zIndex&&Te(this.banner,"z-index:"+i.banner.zIndex+" !important;"),i.banner.backgroundColor&&(a+="background-color: "+i.banner.backgroundColor+" !important;"),i.banner.textColor&&(a+="color: "+i.banner.textColor+" !important;"),i.banner.fontSize?a+="font-size: "+i.banner.fontSize+" !important;":i.banner.fontSizeBody&&(a+="font-size: "+i.banner.fontSizeBody+" !important;")),i.banner.backgroundColor&&"#000"===i.banner.backgroundColor&&this.banner.classList.add("iubenda-cs-black");var c=Yt[i.banner.position];c||(c=Yt.top);for(var l=0,u=c.length;l<u;l++)this.banner.classList.add(c[l]);!0===i.banner.backgroundOverlay&&this.banner.classList.add("iubenda-cs-overlay"),i.banner.slideDown&&this.banner.classList.add("iubenda-cs-slidein"),this.banner.setAttribute("role","alertdialog"),this.banner.setAttribute("aria-describedby","iubenda-cs-paragraph");var d=i.banner.content,p=!!d;if(!p&&i.banner.showTitle&&o.title?this.banner.setAttribute("aria-labelledby","iubenda-cs-title"):this.banner.setAttribute("aria-label",o.title),p)we(this.banner,"iubenda-cs-no-heading");else{var h=this.getIubendaCsParagraph(o,i),f="";i.banner.showTitle&&o.title&&(f='<h1 id="iubenda-cs-title">'+o.title+"</h1>"),d=f+'<div id="iubenda-cs-paragraph">'+h+"</div>"}var b=i.banner.cookiePolicyLinkCaption||o.cookie_policy_caption,g="<a ".concat(s,' href="').concat(this.cookiePolicyHref,'"')+' class="iubenda-cs-cookie-policy-lnk" target="_blank" rel="noopener">'+b+"</a>",m="<button "+s+' class="iubenda-advertising-preferences-link">'+o.advertising_preferences_caption+"</button>",v="<button "+s+' class="iubenda-vendor-list-link">'+o.vendor_list_caption+"</button>",y="<a ".concat(s,' href="').concat(this.cs.options.privacyPolicyUrl,'"')+(i.cookiePolicyInOtherWindow?' aria-label="'.concat(o.privacy_policy_caption," - ").concat(o.link_label_new_tab,'"'):"")+' class="iubenda-privacy-policy-link">'+o.privacy_policy_caption+"</a>",k="<button "+s+' class="iubenda-ccpa-opt-out iubenda-do-not-sell-link">'+o.do_not_sell_caption+"</button>";d=(d=(d=(d=(d=(d=(d=d.replace("%{total_number_of_ads_vendors}",(null===(t=this.cs.options.tcfVendors)||void 0===t?void 0:t.length)||window._iub.vendorsCountGVL3||0)).replace("%{cookie_policy_link}",g)).replace("%{advertising_preferences_link}",m)).replace("%{vendor_list_link}",v)).replace("%{privacy_policy}",y)).replace("%{do_not_sell}",k)).replace("%{purposes}",(function(){var e;return function(e,t){if(!t)return"";var n=Object.keys(t).filter((function(e){return 1!=+e}));e.enableTcf&&-1===n.indexOf("5")&&n.push("5");return Zt(e.lang,n)}(i,null===(e=n.cs.preferenceState.purposes)||void 0===e?void 0:e.data)}));var C=i.banner.html,w="";if(i.banner.logo&&(w='<div class="iubenda-cs-brand"><img src="'+i.banner.logo+'" alt="logo" /></div>',we(this.banner,"iubenda-cs-branded")),!i.banner.continueWithoutAcceptingButtonDisplay&&i.banner.closeButtonDisplay&&we(this.banner,"iubenda-cs-padded"),null===C){var P=new qt(i).getBadge(!0),S=P?" iubenda-cs-themed":"";this.banner.innerHTML='<div class="iubenda-cs-container'+S+'"><div class="iubenda-cs-content" style="'+a+'"><div class="iubenda-cs-rationale">'+w+function(e){if(e.banner.continueWithoutAcceptingButtonDisplay)return'<button class="iubenda-cs-cwa-button" tabindex="0" role="button" aria-pressed="false">'+e.banner.continueWithoutAcceptingButtonCaption+"</button>";return'<button type="button" class="iubenda-cs-close-btn" tabindex="0" role="button" aria-pressed="false"'+_e({display:e.banner.closeButtonDisplay?"":"none"})+">"+e.banner.closeButtonCaption+"</button>"}(i)+'<div class="iubenda-banner-content iubenda-custom-content'+(i.banner.closeButtonDisplay?" iubenda-banner-content-padded":"")+'" role="document">'+d+"</div>"+(i.banner.showPurposesToggles?'<div class="iubenda-granular-controls-container"></div>':"")+'<div class="iubenda-cs-counter"></div>'+function(e,t){var n=function(e,t){if(!e.banner.customizeButtonDisplay)return"";return'<button class="iubenda-cs-customize-btn" tabindex="0" role="button" aria-pressed="false">'+(e.banner.customizeButtonCaption||oe(t.customize_button_caption,e))+"</button>"}(e,t),i="iubenda-cs-opt-group-custom";e.banner.showPurposesToggles&&(i+=" iubenda-cs-opt-group-granular");n&&(n='<div class="'+i+'">'+n+"</div>");var o=function(e,t){if(!e.banner.rejectButtonDisplay)return"";return'<button class="iubenda-cs-reject-btn iubenda-cs-btn-primary" tabindex="0" role="button" aria-pressed="false">'+(e.banner.rejectButtonCaption||t.reject_button_caption)+"</button>"}(e,t)+function(e,t){var n=e.banner.acceptButtonCaption||t.accept_button_caption;if(!e.banner.acceptButtonDisplay)return"";return'<button class="iubenda-cs-accept-btn iubenda-cs-btn-primary" tabindex="0" role="button" aria-pressed="false">'+n+"</button>"}(e,t);o&&(o='<div class="iubenda-cs-opt-group-consent">'+o+"</div>");var a=n+o;if(!a)return"";return'<div class="iubenda-cs-opt-group"'+_e({color:e.banner.backgroundColor})+">"+a+"</div>"}(i,o)+("inside"===(null==P?void 0:P.position)?P.element:"")+"</div></div>"+("outside"===(null==P?void 0:P.position)?P.element:"")+"</div>",function(e,t){var n=e.options;if(!n.banner.showPurposesToggles||!t)return;var i=0,o=function(t){if(!t.preferenceState.getProperty("granularOptionsActive")){e.preferenceState.processState({granularOptionsActive:!0});var n=document.querySelector("#iubenda-cs-banner .iubenda-cs-accept-btn"),i=document.querySelector("#iubenda-cs-banner .iubenda-cs-reject-btn");n&&(n.innerHTML=Et("footer.btnCaption")),i&&i.style.setProperty("display","none","important")}},a=e.preferenceState.getFullState();if(Object.keys(a.purposes).forEach((function(n){if(void 0===a.tcfv2||"5"!==n){i++;var s=a.purposes[n],c=Et("per_purpose_banner.".concat(n,".name")),l=function(t,n){var i={purposes:r({},t.id,n)};e.preferenceState.processState(i),o(e)},u={value:s.value||!1,disabled:!!s.blocked,id:n},d=new Jt(c,l,u);t.appendChild(d.getNode())}})),void 0!==a.tcfv2){i++;var s=Et("per_purpose_banner.5.name"),c=new Jt(s,(function(t,i){var s=r({},t.id,i);a.purposes&&a.purposes[5]&&"boolean"==typeof i&&(s.purposes={5:i}),n.enableTcf&&(s.tcfv2={all:i},n.googleAdditionalConsentMode&&(s.gac={all:i})),e.preferenceState.processState(s),o(e)}),{value:!1,id:"mkt"});t.appendChild(c.getNode())}i%2||t.classList.add("grid")}(this.cs,this.banner.querySelector(".iubenda-granular-controls-container"))}else-1!==C.indexOf("%{banner_content}")&&(C=C.replace("%{banner_content}",d)),this.banner.innerHTML=C;if(p){var x=ce("iubenda-banner-content",this.banner)[0];x&&we(x,"iubenda-custom-content")}var A=!1,_=null,O=0,B="iubenda-cs-fix-height",I=function(){if(n.banner){var e=window.innerHeight;A&&e>O&&(n.banner.classList.remove(B),_.style.removeProperty("height"),A=!1);var t=_.clientHeight,o=_.querySelector(".iubenda-cs-brand-badge"),a=0;if(o){var r=getComputedStyle(o);t+=a=o.offsetHeight+parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}O=e,t>=e&&!A?(n.banner.classList.add(B),a&&_.style.setProperty("height","calc(100% - ".concat(a,"px)"),"important"),A=!0):t<e&&A&&(n.banner.classList.remove(B),_.style.removeProperty("height"),A=!1),n.handleScrollable(i)}};i.banner.prependOnBody?document.body.insertBefore(this.banner,document.body.firstChild):document.body.appendChild(this.banner),i.banner.backgroundOverlay&&ht("#iubenda-cs-banner"),this.setBannerElements(),Be(this.banner,"click",(function(e){n.cs.ui.emit("banner-click",e)}),!1),this.popover.listen(this.banner),this.destroyBanner=function(){Ie(window,"resize",I)},setTimeout((function(){var e=n.banner;e&&(e.classList.add("iubenda-cs-visible"),n.bannerShown=!0,(_=ce("iubenda-cs-container",e)[0])&&(I(),n.handleButtonHoverAndFocus(),Be(window,"resize",I)),n.handleScrollable(i),setTimeout((function(){n.cs.ui.emit("banner-shown")}),100))}),10),Bt(i)}},{key:"getIubendaCsParagraph",value:function(e,t){return t.dynamicBannerText&&this.isDynamicBannerTextApplicable()?e.dynamic.paragraph_1||e.dynamic.paragraph_2?this.createLegacyDynamicBannerText(e):this.createDynamicBannerText(e):e.paragraph_1+e.paragraph_2}},{key:"handleScrollable",value:function(e){return e.banner.applyStyles?e.banner.html?this.handleBannerNotScrollable(e):this.isBannerScrollable.call(this)?(!this.closeButton||e.banner.acceptButtonDisplay||e.banner.closeButtonDisplay||this.closeButton.style.removeProperty("display"),this.banner.classList.add("iubenda-cs-scrollable"),this.updateNumberOfPages.call(this),null):this.handleBannerNotScrollable(e):this.handleBannerNotScrollable(e)}},{key:"handleBannerNotScrollable",value:function(e){this.banner.classList.remove("iubenda-cs-scrollable"),e.banner.html?this.updateHasTheUserScrolledToBottom():this.hidePageCounter(e),e.banner.acceptButtonDisplay||e.banner.closeButtonDisplay||(this.closeButton.style.display="none")}},{key:"setBannerElements",value:function(){this.bannerContent=this.banner.querySelector(".iubenda-banner-content"),this.bannerContainer=this.banner.querySelector(".iubenda-cs-content"),this.bannerTitle=this.banner.querySelector("#iubenda-cs-title"),this.pageCounter=this.banner.querySelector(".iubenda-cs-counter"),this.buttonsGroup=this.banner.querySelector(".iubenda-cs-opt-group"),this.acceptButton=this.banner.querySelector(".iubenda-cs-accept-btn.iubenda-cs-btn-primary"),this.closeButton=this.banner.querySelector(".iubenda-cs-close-btn")}},{key:"handleButtonHoverAndFocus",value:function(){this.bannerBtns=this.bannerBtns||this.banner.querySelectorAll(".iubenda-cs-opt-group button");var e,t=m(this.bannerBtns);try{for(t.s();!(e=t.n()).done;){var n=e.value;Qt(n),en(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"showBanner",value:function(){var e=this;this.cs.ui.on("banner-shown",(function(){e.cs.fireCallback("onBannerShown"),e.cs.options.banner.backgroundOverlay&&e.cs.ui.disablePageScrolling("banner")})),this.cs.ui.on("banner-click",(function(t){setTimeout((function(){e.bannerClicked(t)}),0)})),this.bannerSetup(),this.cs.options.banner.html||this.bindBannerContentScroll()}},{key:"bindBannerContentScroll",value:function(){var e=this,t=null;Be(this.bannerContent,"scroll",(function(){null!==t&&clearTimeout(t),t=setTimeout((function(){e.isBannerScrolledToTop()&&e.hidePageCounter(),e.updateNumberOfPages()}),150)}),{passive:!0})}},{key:"isBannerScrolledToTop",value:function(){return 0===this.bannerContent.scrollTop}},{key:"bannerClicked",value:function(e){this.cs.debug("banner clicked");for(var t=e.target;t&&t instanceof HTMLElement;){if(Se(t,"iubenda-cs-accept-btn")){this.bannerAcceptBtnClicked(e);break}if(Se(t,"iubenda-cs-customize-btn")){(this.cs.options.perPurposeConsent||this.cs.options.usprApplies)&&(this.cs.ui.mustShowPerPurposeView=!0),!this.cs.options.enableTcf||this.cs.options.perPurposeConsent||this.cs.options.usprApplies||this.cs.ui.showCP(!1,!0),this.cs.ui.bannerCookiePolicyClicked({event:e});break}if(Se(t,"iubenda-cs-reject-btn")){this.cs.ui.onRejectButtonClick(e);break}if(t===e.currentTarget)break;t=t.parentNode}e.stopPropagation()}},{key:"bannerAcceptBtnClicked",value:function(e){this.cs.debug("banner Accept clicked"),this.scrollBannerIfNeeded.call(this,this.acceptConsent.bind(this),e)}},{key:"scrollBannerIfNeeded",value:function(e,t,n){null==t||t.stopPropagation(),this.hasTheUserReadTheFullBanner()?e(n):this.scrollBannerByOnePage(t)}},{key:"scrollBannerByOnePage",value:function(e){this.cs.debug("cannot give consent while banner text isn't scrolled to bottom"),this.cs.debug("scrolling banner by one page..."),this.cs.debug("displaying page counter on the banner..."),this.pageCounter.style.display="block",this.calculateSinglePageHeight(),this.updateNumberOfPages(),e.target.classList.remove("hover"),e.target.classList.remove("focus"),this.bannerContent&&(this.bannerContent.scrollTop+=this.singlePageHeight)}},{key:"acceptConsent",value:function(){if(this.cs.options.banner.showPurposesToggles&&this.cs.preferenceState.getProperty("granularOptionsActive")){var e=t({consent:!0,ccpa:!0,uspr:{sd5:!0,sd8:!0,sd9:!0}},this.cs.preferenceState.getState());this.cs.preferences.store(e,Kt)}else this.cs.ui.acceptAllPreferenceStatePurposes(),this.cs.acceptAll(Kt);this.cs.ui.consentAccepted=!0,this.removeBanner()}},{key:"isDynamicBannerTextApplicable",value:function(){return["cs","da","de","el","en","en-GB","es","fr","it","nl","pl","pt","pt-BR","ru","sv"].indexOf(this.cs.options.lang)>-1}},{key:"createLegacyDynamicBannerText",value:function(e){var t=e.dynamic,n=this.cs.options.banner.applyStyles,i=t.paragraph_1?oe(t.paragraph_1,this.cs.options):"",o=t.paragraph_2?oe(function(e){if(!(e.by_scrolling||e.by_clicking_on_links||e.by_browsing))return null==e?void 0:e.paragraph_2;return"[if gdprApplies][if not banner.acceptButtonDisplay or not banner.rejectButtonDisplay]\n".concat(e.paragraph_2,".[/if][/if]")}(t),this.cs.options):"";return $t(i,n)+$t(o,n)}},{key:"createDynamicBannerText",value:function(e){var t=e.dynamic,n=this.cs.options.banner.applyStyles;return $t(oe(t.body,this.cs.options),n)}},{key:"getBanner",value:function(){return this.banner}},{key:"isBannerScrolledToBottom",value:function(){if(!this.banner)return!0;if(!this.bannerContent)return!0;var e=this.bannerContent.scrollHeight,t=this.bannerContent.scrollTop+this.bannerContent.clientHeight,n=Math.abs(e-t);return this.bannerContent&&n<=10}},{key:"isBannerScrollable",value:function(){return!!this.calculateSinglePageHeight()&&this.bannerContent.scrollHeight>this.singlePageHeight}},{key:"calculateSinglePageHeight",value:function(){if(!this.bannerContainer||!this.bannerContent)return 0;var e=parseInt(window.getComputedStyle(this.bannerContainer).paddingTop[0]),t=parseInt(window.getComputedStyle(this.bannerContainer).paddingBottom[0])+e,n=this.bannerContainer.scrollHeight;return n-=t,this.buttonsGroup&&(n-=this.buttonsGroup.scrollHeight),this.bannerTitle&&(n-=this.bannerTitle.scrollHeight),"none"!==this.pageCounter.style.display&&(n-=parseInt(window.getComputedStyle(this.pageCounter).marginTop[0]),n-=this.pageCounter.scrollHeight),this.singlePageHeight=n,n}},{key:"updateNumberOfPages",value:function(){var e=Math.ceil(this.bannerContent.scrollHeight/this.singlePageHeight),t=Math.ceil(this.bannerContent.scrollTop/this.singlePageHeight);this.numberOfPages=e,this.updateHasTheUserScrolledToBottom(),this.pageCounter.innerText=Et("banner.page_counter_caption")+" "+t+"/"+e}},{key:"updateHasTheUserScrolledToBottom",value:function(){this.isBannerScrolledToBottom()&&(this.hasTheUserScrolledToBottom=!0)}},{key:"removeBanner",value:function(){var e;this.banner&&(this.cs.debug("closing banner ..."),ot&&(ot=!1,Ie(document.body,"focusin",lt),Ie(window,"keydown",ut),Ie(document,"mousedown",dt),Ie(document,"mouseup",pt)),it=null,he((e="iubenda-cs-banner",document.getElementById(e))),this.cs.ui.restorePageScrolling("banner"),this.cs.fireCallback("onBannerClosed"),"function"==typeof this.destroyBanner&&this.destroyBanner(),this.banner=null,this.cs.ui.previousTCFPreferences=null)}},{key:"isVisible",value:function(){return!!this.banner}},{key:"hidePageCounter",value:function(){this.pageCounter.style.display="none",this.calculateSinglePageHeight(),this.updateNumberOfPages()}},{key:"hasTheUserReadTheFullBanner",value:function(){return this.hasTheUserScrolledToBottom}},{key:"shown",get:function(){return this.bannerShown}}]),e}();function $t(e,t){return e?e.split("\n").map((function(e){return t?'<p class="iub-p">'+e+"</p>":e})).join(t?"":"<br/>"):""}function Zt(e,t){var n=Et("banner.dynamic.and");return"es"===e&&(n=function(e){return"i"===Et("per_purpose_banner.purposes."+e[e.length-1]+".bannerName")[0]?"e":"y"}(t)),ie(function(e){return e.map((function(e){return function(e){var t=Et("banner.dynamic.startQuote"),n=Et("banner.dynamic.endQuote");return isNaN(e)?t+Et("uspr.purposes."+e)+n:Et("per_purpose_banner."+e+".bannerName")}(e)}))}(t).join("[or] "),n)}function Qt(e){e.addEventListener("mouseenter",(function(){e.classList.add("hover")})),e.addEventListener("mouseleave",(function(){e.classList.remove("hover")}))}function en(e){e.addEventListener("focus",(function(){e.classList.add("focus")})),e.addEventListener("blur",(function(){e.classList.remove("focus")}))}var tn=["top-left","top-right","bottom-left","bottom-right","center-left","center-right"],nn=[].concat(tn,["inline-center","inline-left","inline-right"]),on="bottom-right",an=function(e){s(n,e);var t=p(n);function n(e,o){var a;return i(this,n),(a=t.call(this)).link=e,a.html='\n      <a\n        href="'.concat(a.link,'"\n        class="iubenda-tp-alert-btn iubenda-tp-btn--warning"\n        target="_blank"\n        data-tp-icon="data-tp-icon"\n        data-tp-float="').concat(a.getPosition(o),'"\n      >\n      </a>\n    '),a.content=document.createElement("div"),a.render(),a}return a(n,[{key:"render",value:function(){this.content.className="iubenda-tp-btn-container",this.content.style.position="relative",this.content.innerHTML=this.html}},{key:"getNode",value:function(){return this.content}},{key:"ensureVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null,i=this,o=i.getNode();setTimeout((function(){null!==n&&(clearInterval(n),n=null)}),e),n=setInterval((function(){null!==o&&document.body.children[document.body.children.length-1]!==o&&o.parentElement&&(o.parentElement.removeChild(o),document.body.appendChild(i.getNode()))}),t)}}]),n}(function(){function e(){i(this,e)}return a(e,[{key:"getPosition",value:function(e){return-1!==tn.indexOf(e)?e:on}}]),e}()),rn=function(e,t,n){var i="?",o=e;/\?.+/.test(e)?i="&":o=o.replace("?","");var a=o.split("#"),r="";return a[1]&&(r="#"+a[1]),o.split("#")[0]+i+t+"="+n+r},sn=function(e,t,n){return e+(-1!==e.indexOf("?")?"&":"?")+t+"="+n},cn=function(e){return/\#[^\?]+/.test(e)},ln=new U,un="rejectButtonClick",dn="bannerXClose";function pn(){var e={};this.cs.options.ccpaApplies&&(e.ccpa=!0),this.cs.options.usprApplies&&(e.consent=!0,e.uspr={sd5:!0,sd8:!0,sd9:!0}),(this.cs.options.gdprApplies||this.cs.options.lgpdApplies)&&(e.consent=!0,e.purposes={all:!0},e.tcfv2={all:!0},e.gac={all:!0}),this.cs.preferences.store(e,dn),this.banner.removeBanner()}function hn(){this.cs.rejectAll(un),this.consentRejected=!0,this.banner.removeBanner()}var fn=function(){function e(t){i(this,e),tt(this),this.cs=t,this.document=document,this.mainC=null,this.overlay=null,this.CPiFrame=null,this.isMobile=ln.isMobile(),this.consentRejected=!1,this.consentAccepted=!1,this.freezed=!1,this.showingCookiePolicy=!1,this.iFrameCloseBtnUrl="http://localhost.cs.origin:3010/cookie_solution/close.png",this.documentHead=this.document.head||this.document.getElementsByTagName("head")[0],this.pageCounter,this.buttonsGroup,this.bannerTitle,this.bannerContainer,this.acceptButton,this.bannerBtns,this.originalHtmlOverflow=[],this.WIDGET_PER_PURPOSE="per-purpose",this.WIDGET_TCF="tcf",this.WIDGET_POLICY="policy",this.popover=new Ht(this.cs);var n=this.getCookiePolicyHref();this.banner=new Xt(t,n)}return a(e,[{key:"start",value:function(e,t){this.cs.debug("starting UI (if needed) ..."),this.setCmpWidget(e,t),this.cs.shouldShowBanner()&&this.banner.showBanner(),this.bindButtons(),this.cs.debug("invoking callback.onReady (after starting UI) ..."),this.cs.csReady()}},{key:"setCmpWidget",value:function(e,t){this.cs.options.enableTcf?this.cmpWidget||this.createCmp(e,t):this.cmpWidget=null}},{key:"bindButtons",value:function(){this.cs.debug("binding button of cookie policy link and close banner ..."),this.bindOpenCPBtns(),this.bindCloseBannerBtns(),this.bindOpenCmpBtns(this.banner.getBanner()),this.bindCcpaBtns(),this.bindVendorListBtns()}},{key:"bindOpenCPBtns",value:function(){var e=this;ce("iubenda-cs-cookie-policy-lnk").forEach((function(t){Be(t,"click",(function(t){e.bannerCookiePolicyClicked({event:t,isCookiePolicyLink:!0})}),!0)}))}},{key:"bindCloseBannerBtns",value:function(){var e=this,t=ce("iubenda-cs-close-btn"),n=ce("iubenda-cs-cwa-button");t.concat(n).forEach((function(t){Be(t,"click",(function(t){setTimeout((function(){e.bannerCloseBtnClicked(t)}),0)}),!0)}))}},{key:"bindOpenCmpBtns",value:function(e){for(var t=ce("iubenda-advertising-preferences-link",e),n=0;n<t.length;n++)bt(t[n],this);for(var i=ce("iubenda-cs-preferences-link",this.banner.getBanner()),o=0;o<i.length;o++)jt(i[o],this)}},{key:"bindCcpaBtns",value:function(){var e=this.banner.getBanner();if(e)for(var t=e.querySelectorAll(".iubenda-ccpa-opt-out"),n=0;n<t.length;n++)this.cs.handleAskOptOutClick(t[n])}},{key:"showTcfVendors",value:function(){this.showCP(!1,!0,!0)}},{key:"bindVendorListBtns",value:function(){for(var e=this,t=le(["iubenda-vendor-list-link","iubenda-vendors-list-link"]),n=0;n<t.length;n++)t[n].getAttribute("data-iub-enabled")||(Be(t[n],"click",(function(t){t.stopPropagation(),t.preventDefault(),setTimeout((function(){e.showTcfVendors()}),0)})),t[n].setAttribute("data-iub-enabled",1))}},{key:"acceptAllPreferenceStatePurposes",value:function(){this.cs.preferenceState.purposes.setPreference({all:!0})}},{key:"createCmp",value:function(e,t){this.cs.createCmpWidget(e,t)}},{key:"scrollBannerByOnePage",value:function(e){var t=this.banner.getBanner();this.cs.debug("cannot give consent while banner text isn't scrolled to bottom"),this.cs.debug("scrolling banner by one page..."),this.cs.debug("displaying page counter on the banner..."),this.banner.pageCounter.style.display="block",t.calculateSinglePageHeight(),this.banner.updateNumberOfPages(),e.target.classList.remove("hover"),e.target.classList.remove("focus"),this.banner.bannerContent&&(this.banner.bannerContent.scrollTop+=this.singlePageHeight)}},{key:"getArrayOfElements",value:function(e){if(e&&"string"==typeof e){var t=function(e){try{return ae(e)}catch(e){return[]}}(e);return t.length>0?t:null}return e instanceof HTMLElement?[e]:null}},{key:"openPreferences",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cs.options.perPurposeConsent&&(this.cs.options.gdprApplies||this.cs.options.lgpdApplies||this.cs.options.fadpApplies)||this.cs.options.usprApplies?this.mustShowPerPurposeView=!0:this.cs.options.enableTcf&&(this.mustShowTCFView=!0),this.bannerCookiePolicyClicked(e)}},{key:"checkCPAnotherWindow",value:function(e){return!!this.cs.options.cookiePolicyInOtherWindow&&(!!e||!this.cs.options.usprApplies&&!this.cs.options.perPurposeConsent)}},{key:"bannerCookiePolicyClicked",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.event,i=t.isCookiePolicyLink,o=t.acceptPurposes;if(this.cs.debug("banner's cookie policy link clicked"),!this.cs.isCpOpen()){this.cs.options.cookiePolicyInOtherWindow||(this.showingCookiePolicy=!0),n&&(n.preventDefault(),n.stopPropagation());var a=this.checkCPAnotherWindow(i);setTimeout((function(){e.showCP(a,!1,!1,!1,o)}),0)}}},{key:"getSavedPreferences",value:function(){var e=this.cs.getSavedPreferences();if(!e.cmpCookie){var t=this.cs.preferenceState.getProperty("tcfv2");"string"==typeof t&&(e.cmpCookie=t)}if(!e.customPreferences){var n=this.cs.preferenceState.getProperty("gac");"string"==typeof n&&(e.customPreferences={gac:n})}return e}},{key:"preSelectPurposes",value:function(e){var t,n=this;if(!this.cs.options.isRejectionRecoveryDisabled()){var i=null!==(t=null==e?void 0:e.reduce((function(e,t){var i=n.CPiFrame.mainC.querySelector("#purpose-"+t);if(5==t){var o=n.CPiFrame.mainC.querySelector("#iub-checkbox4");i=o.offsetParent?o:i}return!i||i.checked&&!i.classList.contains("half")||e.push({toggle:i,purpose:t}),e}),[]))&&void 0!==t?t:[];if(null==i?void 0:i.length){var o=i[0].purpose;this.scrollWidgetToPurpose(o,(function(){i.forEach((function(e){var t=e.toggle;t.classList.contains("half")&&t.click(),t.click()}))}))}}}},{key:"createFrameLoadingElements",value:function(){var e=this,t=document.querySelector("#iubenda-iframe");t||((t=document.createElement("div")).id="iubenda-iframe",t.className="iubenda-iframe-visible",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),this.cs.options.banner.logo&&t.classList.add("iubenda-iframe-branded"),t.onclick=function(t){t.stopPropagation(),e.popover.isOpen()&&e.popover.close()});var n=t.querySelector(".iubenda-iframe-spinner");return n||((n=document.createElement("div")).className="iubenda-iframe-spinner",t.appendChild(n)),{mainC:t,spinner:n}}},{key:"showFrameLoading",value:function(e){!function(){if(!Pt){var e=document.getElementsByTagName("head")[0];Le('#iubenda-iframe{background-color:rgba(0,0,0,.8)!important;transition:opacity .4s ease,visibility .4s ease!important;font-size:16px!important;position:fixed!important;z-index:100000000!important;top:0!important;left:0!important;width:100%!important;height:100%!important;border:0!important;margin:0!important;padding:0!important;line-height:1.5!important;align-items:unset!important;flex-wrap:unset!important;align-items:center!important;justify-content:center!important;display:none!important}#iubenda-iframe.iubenda-iframe-visible{display:flex!important}@-webkit-keyframes iubenda-iframe-spinner{from{transform:rotate(0)}to{transform:rotate(359deg)}}@keyframes iubenda-iframe-spinner{from{transform:rotate(0)}to{transform:rotate(359deg)}}#iubenda-iframe .iubenda-iframe-spinner{position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important}#iubenda-iframe .iubenda-iframe-spinner:after{content:""!important;border:solid 2px transparent!important;border-top-color:currentColor!important;border-left-color:currentColor!important;-webkit-animation:iubenda-iframe-spinner .8s linear infinite!important;animation:iubenda-iframe-spinner .8s linear infinite!important;width:48px!important;height:48px!important;border-radius:48px!important;display:inline-block!important;vertical-align:middle!important;color:#fff!important}',e),Pt=!0}}(),document.getElementsByTagName("body")[0].appendChild(e),this.disablePageScrolling("iframe",document),this.hideFloatingPreferencesButton()}},{key:"showCP",value:function(t,n,i,o,a){var r=this,s=this.getCookiePolicyHref();if(o&&(!0===o?s=this.cs.options.privacyPolicyUrl:"uspr"===o&&(s=this.cs.options.privacyPolicyNoticeAtCollectionUrl)),this.popover.close(),this.consentRejected=!1,this.consentAccepted=!1,t)window.open(s,"_blank");else{this.secondLayerScript||(e.prepare2ndLayerDeps(),this.secondLayerScript=pe("https://cdn.iubenda.com/cookie_solution/iubenda_cs/1.58.3/second_layer-".concat(this.cs.options.lang,".js")),document.getElementsByTagName("head")[0].appendChild(this.secondLayerScript));var c=this.createFrameLoadingElements(),l=c.mainC,u=c.spinner;this.showFrameLoading(l),this.cs.setCpOpen(!0);var d=function(){r.secondLayerScriptLoaded=!0,r.showCPLayer2(window._iub.IubendaFrame,s,n,i,o,a,l,u)};this.secondLayerScriptLoaded?d():this.secondLayerScript.onload=d}}},{key:"showCPLayer2",value:function(e,t,n,i,o,a,r,s){var c=this,l=null,u=Et("banner.cookie_policy_caption");o&&(u=Et("banner.privacy_policy_caption")),o||(l={message:"string"==typeof this.cs.options.footer.message?this.cs.options.footer.message:kt[this.cs.options.lang].footer.message,btnCaption:"string"==typeof this.cs.options.footer.btnCaption?this.cs.options.footer.btnCaption:kt[this.cs.options.lang].footer.btnCaption});var d,p=this.getSavedPreferences();switch(this.cs.options.enableTcf&&this.createCmp(p.cmpCookie,p.customPreferences),(this.cs.options.perPurposeConsent||this.cs.options.usprApplies)&&this.mustShowPerPurposeView?(this.mustShowPerPurposeView=!1,d=this.WIDGET_PER_PURPOSE):this.cs.options.enableTcf&&this.cs.options.gdprApplies&&(this.mustShowTCFView||n)?(this.mustShowTCFView=!1,d=this.WIDGET_TCF):d=this.WIDGET_POLICY,d===this.WIDGET_PER_PURPOSE&&(this.cs.preferenceState.saveState(),this.cs.preferenceState.usPurposes.isActive&&this.cs.preferenceState.usPurposes.savePreferenceState()),d!==this.WIDGET_POLICY&&this.cs.updateGppApi(!0,!1,"initial"),Bt(this.cs.options),this.CPiFrame=new e({cs:this.cs,iFrUrl:t,inParent:!1,straightShow:!0,closeBtnUrl:this.iFrameCloseBtnUrl,mainC:r,spinner:s,embedP:document.getElementsByTagName("body")[0],disableESC:!0,baseZIndex:this.cs.options.banner.zIndex+1,scrolling:null!=this.cs.options.cookiePolicyUrl,showCcpa:o,footer:l,widgetToShow:d,frameTitle:u,lang:this.cs.options.lang,onLoad:function(){var e,t;c.cs.preferenceState.saveState(),d===c.WIDGET_PER_PURPOSE&&c.preSelectPurposes(a),c.cookiePolicyLoaded(),(null===(e=c.CPiFrame)||void 0===e||null===(t=e.perPurposeWidget)||void 0===t?void 0:t.adsSection)&&c.CPiFrame.perPurposeWidget.adsSection.populateByState()},onClose:function(){c.cs.preferenceState.usPurposes.isActive&&c.cs.preferenceState.usPurposes.clearPreferenceState(),c.cs.preferenceState.clearState(),c.cookiePolicyClosed({eventName:"cookiePolicyClosed"})},onReject:function(){c.cookiePolicyClosed({eventName:un})},onBack:function(){c.cs.options.banner.showPurposesToggles||c.cs.preferenceState.recoveryState(),c.banner.isVisible()||c.cs.updateGppApi(!1,!1,"processed"),c.cookiePolicyClosed({eventName:"backButtonClick"})}},this.cmpWidget),d){case this.WIDGET_PER_PURPOSE:this.CPiFrame.showPerPurposeWidget();break;case this.WIDGET_TCF:this.CPiFrame.showTCFWidget(i);break;default:this.CPiFrame.showPolicy()}}},{key:"scrollWidgetToPurpose",value:function(e,t){var n,i,o,a=this.CPiFrame.mainC.querySelector(".purposes-content"),r=this.CPiFrame.mainC.querySelector(".iub-consent-buttons.purposes-buttons"),s=a.querySelector(".purposes-header"),c=this.CPiFrame.mainC.querySelector("*[class*='purpose-item-".concat(e,"'], *[class*='purposes-item-").concat(e,"']"));a&&c&&r&&s&&(n=a.scrollTop,i=c.offsetTop-r.clientHeight-s.offsetTop-n,o=Date.now(),0===i?t():requestAnimationFrame((function e(){var r=Math.min((Date.now()-o)/250,1);a.scrollTop=n+i*r,1===r?t():requestAnimationFrame(e)})))}},{key:"showCcpaOptOutConfirmBox",value:function(){var e=this;if(!this.cs.state.ccpaOptOutConfirmationOpen){this.cs.state.ccpaOptOutConfirmationOpen=!0;var t=document.createElement("div");t.className="iubenda-alert",t.id="iubenda-alert",t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby","iubenda-alert-dialog-content"),t.setAttribute("aria-modal","true");var n=document.createElement("div");n.className="iubenda-alert-dialog";var i=document.createElement("div");i.className="iubenda-alert-dialog-content",i.id="iubenda-alert-dialog-content",i.innerText=Et("ccpa.opt_out_prompt");var o=document.createElement("div");o.className="iubenda-alert-dialog-buttons";var a=function(n){ht(),"confirm"==n&&e.cs.preferences.storage.usPrivacy.optOutCcpa(),document.body.removeChild(t),e.cs.state.ccpaOptOutConfirmationOpen=!1},r=document.createElement("button");r.className="iubenda-button-cancel",r.innerText=Et("ccpa.opt_out_cancel"),r.addEventListener("click",(function(){return a("cancel")}));var s=document.createElement("button");s.className="iubenda-button-confirm",s.innerText=Et("ccpa.opt_out_confirm"),s.addEventListener("click",(function(){return a("confirm")})),t.appendChild(n),n.appendChild(i),n.appendChild(o),o.appendChild(r),o.appendChild(s),document.body.appendChild(t),ht("#".concat(t.id))}}},{key:"checkUsprFloatingPreferences",value:function(){if(this.cs.options.usprApplies){var e=["#iubenda-cs-banner","#iubenda-iframe"],t=re(".iubenda-cs-preferences-link",e),n=re(".iubenda-cs-uspr-link",e);t.length&&n.length||(void 0===_iub.csConfiguration.floatingPreferencesButtonDisplay&&(this.forcedFloatingPreferencesButtonDisplay=!0),this.cs.options.usprPreferenceWidget={preference:!t.length,uspr:!n.length})}}},{key:"createPreferencesWidgets",value:function(){var t;(this.checkUsprFloatingPreferences(),this.cs.options.enableTcf&&!this.cs.options.skipTcfValidation&&void 0===_iub.csConfiguration.floatingPreferencesButtonDisplay)&&(0===document.querySelectorAll(".iubenda-advertising-preferences-link").length&&(this.forcedFloatingPreferencesButtonDisplay=!0));this.cs.options.fadpApplies&&void 0===_iub.csConfiguration.floatingPreferencesButtonDisplay&&0===document.querySelectorAll(".iubenda-cs-preferences-link").length&&(this.forcedFloatingPreferencesButtonDisplay=!0);var n=[];if(!document.querySelector(".iubenda-uspr-btn,.iub__us-widget")&&this.shouldHaveUsprWidget()){var i=e.parseWidgetPosition({position:this.cs.options.usPreferencesWidgetDisplay,validPositions:nn,defaultPosition:"inline-center"}),o=i.position,a=i.isAnchored,r=this.createUsprPreferenceWidget(this.cs.options.usprPreferenceWidget,o),s=r.widget,c=r.container;n.push({widget:s,container:c,isAnchored:a})}var l=null!==(t=this.forcedFloatingPreferencesButtonDisplay)&&void 0!==t?t:this.cs.options.floatingPreferencesButtonDisplay;if(!document.querySelector(".iubenda-tp-btn.iubenda-cs-preferences-link")&&this.shouldHaveGdprWidget(l)){var u=e.parseWidgetPosition({position:l,validPositions:tn,defaultPosition:on}),d=u.position,p=u.isAnchored,h=e.createGdprPreferenceWidget(this.cs.options,d);n.push({widget:h,container:h,isAnchored:p})}if(0===n.length)return n;!0===this.cs.options.banner.applyStyles&&Ot();for(var f=0,b=n;f<b.length;f++){var g=b[f],m=g.widget,v=g.container;g.isAnchored&&m.setAttribute("data-tp-anchored","data-tp-anchored"),this.cs.options.floatingPreferencesButtonRound&&m.setAttribute("data-tp-circle","data-tp-circle"),this.cs.options.floatingPreferencesButtonColor&&m.style.setProperty("background-color",this.cs.options.floatingPreferencesButtonColor,"important"),this.cs.options.floatingPreferencesButtonCaptionColor&&m.style.setProperty("color",this.cs.options.floatingPreferencesButtonCaptionColor,"important"),document.body.appendChild(v)}return n.map((function(e){return e.widget}))}},{key:"shouldHaveUsprWidget",value:function(){return!!this.cs.options.usprApplies&&(!!this.cs.options.usprPreferenceWidget&&(!(!this.cs.isPreferenceExpressed()&&this.cs.state.needsConsent)&&!!this.cs.options.usPreferencesWidgetDisplay))}},{key:"shouldHaveGdprWidget",value:function(e){var t=e&&this.cs.isPreferenceExpressed(),n=this.cs.options.floatingPreferencesButtonForceDisplay;return!!n||!(!t&&!n)&&(!(this.cs.options.showBannerForCH&&!this.cs.consent.timestamp)&&!!(this.cs.options.gdprApplies||this.cs.options.lgpdApplies||this.cs.options.fadpApplies))}},{key:"createUsprPreferenceWidget",value:function(e,t){return"boolean"==typeof t||"string"==typeof t&&0===t.indexOf("inline-")?this.createUsprInlinePreferenceWidget(e,t):this.createUsprFloatingPreferenceWidget(e,t)}},{key:"createUsprInlinePreferenceWidget",value:function(e,t){var n=document.querySelector(".iub__us-widget");switch(n||(n=document.createElement("div")),n.className="iub__us-widget",t){case"inline-left":n.className+=" left";break;case"inline-right":n.className+=" right"}var i="";e.uspr&&(i+='\n        <a class="iub__us-widget__link iubenda-cs-uspr-link" title="'.concat(Et("uspr.preference_widget.notice_caption"),'">').concat(Et("uspr.preference_widget.notice_caption"),"</a>\n      ")),e.preference&&(i+='\n        <a class="iub__us-widget__link iub__us-widget__link--privacy-choices iubenda-cs-preferences-link" title="'.concat(Et("uspr.preference_widget.preference_caption"),'">\n          ').concat(Et("uspr.preference_widget.preference_caption"),"\n        </a>\n      ")),n.innerHTML='<div class="iub__us-widget__wrapper">'.concat(i,"</div>");var o=n.querySelector(".iubenda-cs-uspr-link");return o&&this.cs.handleUsprPPClick(o),{container:n,widget:n.querySelector(".iub__us-widget__wrapper")}}},{key:"createUsprFloatingPreferenceWidget",value:function(e,t){var n=document.querySelector(".iubenda-uspr-btn");n||(n=document.createElement("div")),n.className="iubenda-uspr-btn",n.setAttribute("data-tp-nostyle",!0);var i="";if(e.preference){i+='\n        <a class="iubenda-cs-preferences-link" title="'.concat(Et("uspr.preference_widget.preference_caption"),'">\n          <img\n            src="').concat("data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 30 14' style='enable-background:new 0 0 30 14;' xml:space='preserve'%3e%3cstyle type='text/css'%3e .st0%7bfill-rule:evenodd;clip-rule:evenodd;fill:%23FFFFFF;%7d .st1%7bfill-rule:evenodd;clip-rule:evenodd;fill:%230066FF;%7d .st2%7bfill:%23FFFFFF;%7d .st3%7bfill:%230066FF;%7d %3c/style%3e%3cg%3e%3cg id='final---dec.11-2020_1_'%3e%3cg id='_x30_208-our-toggle_2_' transform='translate(-1275.000000, -200.000000)'%3e%3cg id='Final-Copy-2_2_' transform='translate(1275.000000, 200.000000)'%3e%3cpath class='st0' d='M7.4,12.8h6.8l3.1-11.6H7.4C4.2,1.2,1.6,3.8,1.6,7S4.2,12.8,7.4,12.8z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg id='final---dec.11-2020'%3e%3cg id='_x30_208-our-toggle' transform='translate(-1275.000000, -200.000000)'%3e%3cg id='Final-Copy-2' transform='translate(1275.000000, 200.000000)'%3e%3cpath class='st1' d='M22.6,0H7.4c-3.9,0-7,3.1-7,7s3.1,7,7,7h15.2c3.9,0,7-3.1,7-7S26.4,0,22.6,0z M1.6,7c0-3.2,2.6-5.8,5.8-5.8 h9.9l-3.1,11.6H7.4C4.2,12.8,1.6,10.2,1.6,7z'/%3e%3cpath id='x' class='st2' d='M24.6,4c0.2,0.2,0.2,0.6,0,0.8l0,0L22.5,7l2.2,2.2c0.2,0.2,0.2,0.6,0,0.8c-0.2,0.2-0.6,0.2-0.8,0 l0,0l-2.2-2.2L19.5,10c-0.2,0.2-0.6,0.2-0.8,0c-0.2-0.2-0.2-0.6,0-0.8l0,0L20.8,7l-2.2-2.2c-0.2-0.2-0.2-0.6,0-0.8 c0.2-0.2,0.6-0.2,0.8,0l0,0l2.2,2.2L23.8,4C24,3.8,24.4,3.8,24.6,4z'/%3e%3cpath id='y' class='st3' d='M12.7,4.1c0.2,0.2,0.3,0.6,0.1,0.8l0,0L8.6,9.8C8.5,9.9,8.4,10,8.3,10c-0.2,0.1-0.5,0.1-0.7-0.1l0,0 L5.4,7.7c-0.2-0.2-0.2-0.6,0-0.8c0.2-0.2,0.6-0.2,0.8,0l0,0L8,8.6l3.8-4.5C12,3.9,12.4,3.9,12.7,4.1z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e ",'"\n            alt="').concat(Et("uspr.preference_widget.preference_img_alt"),'"\n          />\n          ').concat(Et("uspr.preference_widget.preference_caption"),"\n        </a>\n      ")}e.uspr&&(i+='\n        <a class="iubenda-cs-uspr-link" title="'.concat(Et("uspr.preference_widget.notice_caption"),'">').concat(Et("uspr.preference_widget.notice_caption"),"</a>\n      ")),n.innerHTML=i;var o=n.querySelector(".iubenda-cs-uspr-link");return o&&this.cs.handleUsprPPClick(o),n.style.setProperty("z-index",e.floatingPreferencesButtonZIndex,"important"),n.setAttribute("data-tp-float",t),{widget:n,container:n}}},{key:"hideFloatingPreferencesButton",value:function(){var e=document.querySelector(".iubenda-tp-btn.iubenda-cs-preferences-link");if(e)e.style.setProperty("display","none","important");else{var t=document.querySelector(".iubenda-uspr-btn");t&&t.style.setProperty("display","none","important")}}},{key:"showFloatingPreferencesButton",value:function(){var e=document.querySelector(".iubenda-tp-btn.iubenda-cs-preferences-link");if(e)e.style.setProperty("display","inline-block","important");else{var t=document.querySelector(".iubenda-uspr-btn");t&&t.style.setProperty("display","inline-flex","important")}}},{key:"generateFloatingPreferencesButton",value:function(){var e=this;ke((function(){var t,n=m(e.createPreferencesWidgets());try{for(n.s();!(t=n.n()).done;){var i=t.value;jt(i,e)}}catch(e){n.e(e)}finally{n.f()}}),!0)}},{key:"generateWarningButton",value:function(e,t){var n=new an(e,t,{checkVisibility:!0});document.body.appendChild(n.getNode()),n.ensureVisibility()}},{key:"getCookiePolicyHref",value:function(){return this.cs.options.cookiePolicyUrl||"https://www.iubenda.com/privacy-policy/"+this.cs.options.cookiePolicyId+"/cookie-policy?an=no&s_ck=false&newmarkup=yes"}},{key:"cookiePolicyLoaded",value:function(){this.cs.debug("cookie policy shown"),this.showingCookiePolicy=!0,this.cs.fireCallback("onCookiePolicyShown")}},{key:"registerEvent",value:function(e){switch(e){case"documentClicked":this.consentAccepted=!0;break;case un:this.consentRejected=!0;break;case"bannerAcceptClicked":case dn:this.consentAccepted=!0}}},{key:"getPreferenceObject",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};if(this.cmpWidget){var o=this.cmpWidget.getCustomPreferences();i.tcfv2=this.cmpWidget.getPreferenceString()||{},i.gac=o.gac}this.cs.preferenceState.processState(i);var a=this.cs.preferenceState.getState(),r=this.cs.checkConsentGiven(e),s=t(t({consent:r,ccpa:r},a),n);return this.cs.preferenceState.usPurposes.isActive&&(s.uspr=this.cs.preferenceState.usPurposes.getPreferences()),s}},{key:"cookiePolicyClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eventName||"cookiePolicyClosed";if(this.cs.debug("cookie policy closed"),this.showingCookiePolicy=!1,"backButtonClick"!==t&&this.CPiFrame.closureTriggeredByFooterButton){this.registerEvent(t);var n=this.getPreferenceObject(t);this.cs.preferences.store(n,t,!0),this.banner.removeBanner(),this.emit("try-consent-given")}this.cs.setCpOpen(!1)}},{key:"showPPCcpaSection",value:function(e){this.showCP(e,!1,!1,!0)}},{key:"showPPUsprSection",value:function(e){this.showCP(e,!1,!1,"uspr")}},{key:"bannerCloseBtnClicked",value:function(e){this.cs.debug("banner X clicked"),this.cs.options.banner.closeButtonRejects?this.onRejectButtonClick(e):this.banner.scrollBannerIfNeeded(pn.bind(this),e)}},{key:"onRejectButtonClick",value:function(e){this.cs.debug("banner Reject clicked"),this.banner.scrollBannerIfNeeded(hn.bind(this),e)}},{key:"getViewportSize",value:function(e){var t=e||document;if(this.isMobile){var n=this.inParent?parent.window:window;return{width:n.innerWidth||t.clientWidth,height:n.innerHeight||t.clientHeight}}return{width:Math.max(t.clientWidth||0,window.innerWidth||0),height:Math.max(t.clientHeight||0,window.innerHeight||0)}}},{key:"disablePageScrolling",value:function(e,t){var n=(t||document).getElementsByTagName("html")[0].style,i=this.originalHtmlOverflow[this.originalHtmlOverflow.length-1];i&&i.callerName===e||(this.originalHtmlOverflow.push({callerName:e,general:n.overflow,x:n.overflowX,y:n.overflowY}),n.removeProperty("overflow"),n.overflowX=n.overflowY="hidden")}},{key:"restorePageScrolling",value:function(e,t){var n=this.originalHtmlOverflow[this.originalHtmlOverflow.length-1];if(n&&n.callerName===e){var i=(t||document).getElementsByTagName("html")[0].style;i.overflow=n.general,i.overflowX=n.x,i.overflowY=n.y,this.originalHtmlOverflow.pop()}}},{key:"isOnlyCcpaConsentGiven",value:function(){return!(!this.cs.options.ccpaApplies||this.cs.options.gdprApplies||this.cs.options.lgpdApplies||this.cs.options.showBannerForUS)&&""!==this.cs.usPrivacyCookie}},{key:"getDocHeight",value:function(){var e=window.document;return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}},{key:"closeCPiFrame",value:function(){this.CPiFrame&&this.CPiFrame.closeIFrame(!1)}}],[{key:"prepare2ndLayerDeps",value:function(){_iub._2ndLayerDeps={dom:{domAddEventListener:Be,domRemoveClass:Pe,domHasClass:Se,domGetElementsByClassName:ce,domAddClass:we,domCreateEvent:xe,domRemove:he,setStyle:Te,domText:Oe,domCreate:de},i18n:{i18nForBanner:kt,updateI18nForBanner:Ct,setSecondLayerI18n:wt},brand_badge:{BrandBadge:qt},browser_detect:{BrowserDetect:U},focus:{setFocusActive:ht},uri:{uriAddParamToUri:rn,uriHasHash:cn},ui_i18n:{csTranslate:Et,iubendaFrameLink:Rt},logger:{logger:Ke}}}},{key:"parseWidgetPosition",value:function(e){var t=e.position,n=e.validPositions,i=e.defaultPosition,o=!1;return"string"==typeof t&&/^anchored\-/.test(t)&&(t=t.replace(/^anchored\-/,""),o=!0),-1===n.indexOf(t)&&(t=i,o=!1),{position:t,isAnchored:o}}},{key:"createGdprPreferenceWidget",value:function(e,t){var n,i=document.createElement("button");return i.className="iubenda-tp-btn iubenda-cs-preferences-link",i.setAttribute("title",Et("per_purpose_banner.widget_title")),(e.floatingPreferencesButtonIcon||!e.floatingPreferencesButtonCaption||e.floatingPreferencesButtonHover)&&i.setAttribute("data-tp-icon","data-tp-icon"),e.floatingPreferencesButtonHover&&i.setAttribute("data-tp-hover","data-tp-hover"),"string"==typeof e.floatingPreferencesButtonCaption?n=e.floatingPreferencesButtonCaption:!0===e.floatingPreferencesButtonCaption&&(n=Et("floating_preferences_button.caption")),n&&i.setAttribute("data-tp-label",n),i.style.setProperty("z-index",e.floatingPreferencesButtonZIndex,"important"),i.setAttribute("data-tp-float",t),i}}]),e}();window._iub.setStyle=Te,window._iub.onLoadCall=function(e,t){e.onload=t};var bn,gn,mn,vn,yn=function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o>=n.length?i&&i():t(n[o],(function(){e(t,n,i,o+1)}))},kn={s:!0,sh:!0,adv:!0,sd5:!1,sd8:!1,sd9:!1},Cn=["s","sh","adv"],wn=function(e){return e?e.filter((function(e){return void 0!==kn[e.toString().trim()]})):[]},Pn=function(){function e(t){i(this,e),this.purposes={},this.preferenceState={},this.GPCSignalPurposes=null,this.userConsentGiven=!1,this.hasSensitiveData=!1,this.isActive=t.options.usprApplies,this.setInitialActivePurposes(t)}return a(e,[{key:"setInitialActivePurposes",value:function(e){var t=e.options.usprPurposes;this.setActivePurposes(t)||this.setActivePurposes(_iub.csPurposes)||this.setActivePurposes(Cn)}},{key:"getGPCSignalPurposes",value:function(){if(null!==this.GPCSignalPurposes)return this.GPCSignalPurposes;var e=navigator.globalPrivacyControl;return this.GPCSignalPurposes=e?["s","sh"]:[],this.GPCSignalPurposes}},{key:"validatePurposes",value:function(e){if(!e)return[];var t=e;"string"==typeof e&&(t=e.split(",").map((function(e){return e.trim()})));var n=Object.keys(kn);return t&&(n=n.filter((function(e){return t.indexOf(e)>=0}))),n}},{key:"setAllPurposesValue",value:function(e){var t=this;Ke.debug("expressing all uspr options ".concat(e));var n=Object.keys(this.purposes),i=this.getGPCSignalPurposes();n.forEach((function(n){i.indexOf(n)<0&&(t.purposes[n]=e)}))}},{key:"setPurposesValue",value:function(e,t){var n={};e.forEach((function(e){n[e]=t})),this.purposes=n}},{key:"setPurposesDefaultValue",value:function(e){var t={},n=this.getGPCSignalPurposes();e.forEach((function(e){var i=kn[e];n.indexOf(e)>=0&&(i=!navigator.globalPrivacyControl);t[e]=i})),this.purposes=t}},{key:"setActivePurposes",value:function(e){var t=this.validatePurposes(e);return!!t.length&&(this.setPurposesDefaultValue(t),this.setHasSensitiveData(),!0)}},{key:"setHasSensitiveData",value:function(){var e=Object.keys(this.purposes);this.hasSensitiveData=this.itHasSensitiveData(e)}},{key:"itHasSensitiveData",value:function(e){return e.some((function(e){return/^sd\d+/.test(e)}))}},{key:"setPreferences",value:function(e){var t=this,n=e.all,i=u(e,["all"]),o=Object.keys(i);this.userConsentGiven=!0,"boolean"==typeof n&&this.setPurposesValue(Object.keys(this.purposes),n),o.forEach((function(n){"boolean"==typeof e[n]&&void 0!==t.purposes[n]&&(t.purposes[n]=e[n])}))}},{key:"checkPurposes",value:function(e){var t=this,n=this.validatePurposes(e);if(!n.length)return null;if(!this.userConsentGiven&&this.hasSensitiveData)return!1;var i=n.filter((function(e){return!!t.purposes[e]}));return y(i,n)}},{key:"savePreferenceState",value:function(){this.preferenceState=t({},this.purposes)}},{key:"clearPreferenceState",value:function(){this.preferenceState={}}},{key:"recoveryPreferenceState",value:function(){Object.keys(this.preferenceState).length&&(this.purposes=t({},this.preferenceState),this.clearPreferenceState())}},{key:"getPreferences",value:function(){return this.purposes}},{key:"filterUsprPurpose",value:function(e){return wn(e)}}]),e}(),Sn=null!==(bn=null===(gn=_iub.csConfiguration)||void 0===gn?void 0:gn.rebuildIframe)&&void 0!==bn?bn:Je.rebuildIframe,xn=null!==(mn=null===(vn=_iub.csConfiguration)||void 0===vn?void 0:vn.inlineDelay)&&void 0!==mn?mn:Je.inlineDelay,An=["_iub_cs_activate-inline","_iub_cs_activate","_iub_cs_activate_iframe","_iub_cs_activate_notused","_iub_cs_prompt"],_n="_iub_cs_activate-activated",On="_iub_cs_activate-overlay",Bn="_iub_cs_prompt",In="data-iub-purposes",Ln=document.write,Dn=document.writeln;function Tn(e,t){var n=t.addRef,i=t.removeRef,o=e.parentNode,a=e.nextSibling,r="",s=o,c=null,l=function(){var e=document.implementation.createHTMLDocument("");return e.open(),e.write("<html><head></head><body>"),e}(),u=ge(l.body);u.reiterate(),u.next();var d=l.body;function p(e){var t=/(\<[\n\s]*\/[\n\s]*script[\n\s]*>)/gi,p=r+e,f=[];t.lastIndex=r.length;for(var b=t.lastIndex;t.exec(p);){var g=t.lastIndex;f.push({chunk:p.substring(b,g),lastNodeIsScript:!0}),b=g}var m=p.substring(b);m&&f.push({chunk:m,lastNodeIsScript:!1}),f.forEach((function(e){var t=e.chunk,p=e.lastNodeIsScript;r+=t,function(e,t){l.write(e),u.reiterate();var r,p=function(e){for(var t=e;t.childNodes.length;)t=t.childNodes[t.childNodes.length-1];return t}(l.body);if(c&&(c.nodeValue=d.nodeValue),p!==d||t)for(d=p;;){var f=h(u.next().value,2),b=f[0],g=f[1];if(g)if("enter"===b){var m=g.cloneNode(!1);m.nodeType===Node.ELEMENT_NODE&&me(m)&&((r=m).hasAttribute("type")&&r.setAttribute("data-iub-type",r.getAttribute("type")),r.setAttribute("type","text/plain"),r.setAttribute("data-iub-script","true"));var v=s===o?a:null;if(s.insertBefore(m,v),m.nodeType===Node.ELEMENT_NODE&&(s=m),c=m.nodeType===Node.TEXT_NODE?m:null,!t&&g===p)break}else if(c=null,g.nodeType===Node.ELEMENT_NODE){if(me(s)){var y=s,k=document.createElement("script");ye(k,ye(y)),ve(k),k.appendChild(document.createTextNode(y.innerHTML)),k.hasAttribute("src")&&(k.async=!1,k.addEventListener("load",(function(){return i()})),k.addEventListener("error",(function(){return i()})),n()),s=y.parentNode,y.parentNode.replaceChild(k,y);break}s=s.parentNode}}}(t,p)}))}document.write=p,document.writeln=function(e){return p(e+"\n")}}function Fn(e){return e.getAttribute("data-suppressedsrc")||e.getAttribute("suppressedsrc")||e.getAttribute("src")}function En(e,t){return e.getAttribute("data-suppressed"+t)||e.getAttribute("suppressed"+t)||e.getAttribute(t)}function Nn(e,t){if(!e.src)return t(null,e);var n="onreadystatechange",i=e.onload,o=e.onerror,a=e.onreadystatechange;function r(n,r){if(e.onload=i,e.onerror=o,e.onreadystatechange=a,e[n])try{e[n].apply(e,r)}catch(e){console.error(e)}!e.readyState||/^c|loade/.test(e.readyState)?t(null,e):s()}function s(){e.onload=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r("onload",t)},e.onerror=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r("onerror",t)},e.onreadystatechange=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r(n,t)}}s()}var Rn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Vn=function(e){return new Error("Error on loading tag "+e.nodeName+" with id "+e.id+" and class "+e.className)},jn=function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i&&t.removeEventListener("load",e),Mn(n,null,t)},zn=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n&&e.removeEventListener("error",jn);var i=Vn(e);"function"==typeof t&&t(i,e)},Un=function(e,t){e.removeAttribute("data-suppressed"+t),e.removeAttribute("suppressed"+t)},Mn=function(e,t,n){"function"==typeof e&&e(t,n)},Gn=function(e,t){e.addEventListener("load",jn.bind(null,e,t)),e.addEventListener("error",zn.bind(null,e,t)),e.setAttribute("href",En(e,"href")),Un(e,"href"),we(e,_n)},Wn=function(e,t){var n=Fn(e),i=En(e,"poster");i&&(e.setAttribute("poster",i),Un(e,"poster"));n&&Xn(e,t),e.querySelectorAll("source").forEach((function(e){Xn(e)})),e.querySelectorAll("track").forEach((function(e){Xn(e)})),e.addEventListener("loadedmetadata",(function n(){Mn(t,null,e),e.removeEventListener("loadedmetadata",n)})),e.addEventListener("error",(function n(){Mn(t,Vn(e),e),e.removeEventListener("error",n)})),e.load(),we(e,_n)},Hn=Wn;function qn(e,t){var n=Fn(e),i=e.text||e.textContent||e.innerHTML||"";i=i.replace(Rn,"");var o=ye(e);delete o["data-suppressedsrc"],delete o.suppressedsrc,delete o.type,delete o.src,o.async=!1;var a=de("div");be(e,a),he(e);var r=function(e,t){var n=document.createElement("iframe");return e&&n.setAttribute("src",e),"string"==typeof t&&(n.text=t),n}(n,i);ye(r,o),Nn(r,t),we(r,_n),fe(a,r)}var Jn=function(e,t,n){var i,o,a=function(){s+=1},r=function(){(s-=1)<=0&&(document.write=Ln,document.writeln=Dn,o&&Ke.error("Snippet activation failed",o,i||e),t&&t(!o&&i),t=c=e=null)},s=0;a(),Tn(e,{addRef:a,removeRef:r});var c=function(e){return!!e.className.match(/\b_iub_cs_activate-inline\b/)}(e)?xn:0;n((function(e,t){setTimeout((function(){o=e,i=t,r()}),c)}))},Kn=function(e,t){var n=e.getAttribute("data-iub-cs-wait-for");if(n)var i=setInterval((function(){(function(e){try{return eval.call(window,e)}catch(e){return!1}})(n)&&(clearInterval(i),t())}),100);else t()},Yn=function(e,t){e[t]=En(e,t),e.removeAttribute("suppressed"+t),e.removeAttribute("data-suppressed"+t)},Xn=function(e,t){Yn(e,"src"),e.removeAttribute("type"),Mn(t,null,e)},$n=function(e,t){Yn(e,"srcset"),Mn(t,null,e)},Zn=function(e,t){try{se(e,"script")?function(e,t){var n=Fn(e),i=e.text||e.textContent||e.innerHTML||"";i=i.replace(Rn,"");var o=ye(e),a=o.suppressedtype||o["data-iub-type"]||"text/javascript";delete o["data-suppressedsrc"],delete o.suppressedsrc,delete o.type,delete o.src,delete o.suppressedtype,delete o["data-iub-type"],o.async=!1;var r=pe(n,i);if(r.setAttribute("type",a),e.nonce&&(r.nonce=e.nonce),ye(r,o),we(r,_n),Nn(r,t),ue(document,e)){var s=de("div");be(e,s),he(e),fe(s,r)}else document.body.appendChild(r)}(e,t):se(e,"iframe")&&Sn?qn(e,t):se(e,"link")?Gn(e,t):se(e,"video")?Wn(e,t):se(e,"audio")?Hn(e,t):se(e,"object")?function(e,t){var n=En(e,"data");n?(e.setAttribute("data",n),Un(e,"data"),Mn(t,null,e)):Mn(t,Vn(e),e),we(e,_n)}(e,t):se(e,"picture")?function(e,t){var n=e.querySelector("img");if(n){var i=Fn(n);n.setAttribute("src",i),Un(n,"src")}e.querySelectorAll("source").forEach((function(e){$n(e)})),Mn(t,null,e),we(e,_n)}(e,t):e.getAttribute("suppressedcontent")?function(e,t){var n=ye(e).suppressedcontent;e.innerHTML=n,Mn(t,null,e),we(e,_n)}(e,t):(Xn(e,t),we(e,_n))}catch(e){t(e)}},Qn=0,ei=1,ti=2,ni=function(){function e(t){i(this,e),this.cs=t,this.lastActivationParams={},tt(this)}return a(e,[{key:"purposeIdsForElement",value:function(e,t){var n,i,o=e.getAttribute(In);return null!==o?(null==t||null===(i=t.purposes)||void 0===i?void 0:i.processPurposesString(o))||[]:this.cs&&(null===(n=this.cs.preferenceState)||void 0===n?void 0:n.purposes)?this.cs.preferenceState.purposes.activeIds:(null==t?void 0:t.purposes)?t.purposes.activeIds:[]}},{key:"hasAllPurposesApproved",value:function(e,t){var n,i=this.purposeIdsForElement(e,t);return!i.length||(null==t||null===(n=t.purposes)||void 0===n?void 0:n.hasApproved(i))}},{key:"activateSnippet",value:function(e,t){var n=this;Jn(e,t,(function(t){Kn(e,(function(){Zn(e,(function(e,i){!n.activateSuppressedContent?(n.emit("snippet-activated",i),t(e,i)):n.activateSuppressedContent(e,i,(function(e,i){n.emit("snippet-activated",i),t(e,i)}))}))}))}))}},{key:"activateSuppressedContent",value:function(e,t,n){var i=this;t?!t.getAttribute("suppressedcontent")||e?n(e,t):ae("._iub_cs_activate-inline,._iub_cs_activate").forEach((function(e){i.getElementActivationStatus(e,i.lastActivationParams.options,i.lastActivationParams.preference,i.lastActivationParams.isCcpaOptedOut)===ei&&Zn(e,n)})):n(e,t)}},{key:"insertOverlay",value:function(e,t,n,i){var o=this,a=function(e,t){if(!(null==t?void 0:t.isActive))return[];var n=e.getAttribute(In);return t.validatePurposes(n)}(n,t.usPurposesPreference),r=this.purposeIdsForElement(n,t.state),s=[].concat(f(a),f(r));if("IFRAME"!==n.nodeName)return n.classList.add(On),n.setAttribute("suppressedcontent",n.innerHTML),n.innerHTML=e(this.cs.options.lang,s,!0),n.querySelector(".iubenda-cs__preferences-link").addEventListener("click",(function(){o.cs.api.openPreferences({acceptPurposes:s})})),void i();var c=function t(){"about:blank"===n.src&&(n.removeEventListener("load",t),n.contentDocument.open(),n.contentDocument.write(e(o.cs.options.lang,s)),n.contentDocument.close(),n.contentDocument.querySelector(".iubenda-cs__preferences-link").addEventListener("click",(function(){o.cs.api.openPreferences({acceptPurposes:s})})),o.emit("overlay-inserted",n),i())};if("about:blank"!==n.src){if(Sn){var l=document.createElement("iframe");ye(l,ye(n)),n.parentNode.replaceChild(l,n),n=l}return n.classList.add(On),n.addEventListener("load",c),void(n.src="about:blank")}c()}},{key:"activateSnippets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.emit("before-activate-snippets",e),Ke.debug("Running activateSnippets on",e.length,"elems"),yn(this.activateSnippet.bind(this),e,t)}},{key:"insertOverlays",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};e?(Ke.debug("Running insertOverlays on",n.length,"elems"),yn(this.insertOverlay.bind(this,e,t),n,i)):i()}},{key:"activateAllSnippets",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.lastActivationParams={options:n,preference:i,isCcpaOptedOut:o},Ke.debug("Running activateAllSnippets");var a=le(An),r=[],s=[],c=[],l=n.promptToAcceptOnBlockedElements&&(n.perPurposeConsent||n.usprApplies);a.forEach((function(e){var a=t.getElementActivationStatus(e,n,i,o);a!==ei?a===ti&&!e.classList.contains(On)&&l&&("IFRAME"===e.nodeName?s.push(e):e.classList.contains(Bn)&&c.push(e)):r.push(e)}));var u=function(e,t,i){return i&&It(),n.renderOverlay(e,t,{styleOptions:n.banner},i)},d=n.renderOverlay?u:null;this.activateSnippets(r,(function(){var n=[].concat(s,c);t.insertOverlays(d,i,n,(function(){Ke.debug("activateAllSnippets done, calling done callback..."),t.emit("all-snippets-activated"),e&&e()}))}))}},{key:"activateOnDomReady",value:function(e,t,n,i){var o=this;ke((function(){o.activateAllSnippets(e,t,n,i)}),!0)}},{key:"hasAllUSPurposeApproved",value:function(e,t){var n=e.getAttribute(In);return(null==t?void 0:t.isActive)&&n?t.checkPurposes(n):null}},{key:"hasOnlyUSPurposes",value:function(e){var t=e.getAttribute(In);if(!t)return null;var n=t.split(",").map((function(e){return e.trim()}));return y(n,wn(n))}},{key:"getElementActivationStatus",value:function(e,t,n,i){if(Se(e,_n))return Qn;if(this.isNecessaryPurpose(e))return ei;if(i&&this.shouldElementBeBlockedForCcpa(e))return ti;if(!1===this.hasAllUSPurposeApproved(e,n.usPurposesPreference))return ti;if(!1===t.gdprApplies&&!1===t.lgpdApplies&&!1===t.fadpApplies)return ei;var o=this.hasAllPurposesApproved(e,n.state);if(t.perPurposeConsent&&!o)return ti;var a=this.hasOnlyUSPurposes(e);return t.perPurposeConsent||n.consent||a?!1===this.purposesPreferenceIsValid(e,n.state,t)&&!a?ti:ei:ti}},{key:"shouldElementBeBlockedForCcpa",value:function(e){var t=e.getAttribute("data-iub-blockifccpaoptout");return null!==t&&"false"!==t.toLowerCase()}},{key:"purposesPreferenceIsValid",value:function(e,t,n){if(!n.perPurposeConsent)return null;if(!this.purposeIdsForElement(e,t).length||!(null==t?void 0:t.purposes))return null;var i=t.purposes.processPurposesString(n.purposes);return t.purposes.hasExpressed(i)}},{key:"isNecessaryPurpose",value:function(e){return 1===Number(e.getAttribute(In))||"neccessary"===e.getAttribute(In)}}]),e}(),ii=function(e){var t=new Date(e);return Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())};function oi(e){return function(e){for(var t=atob(e),n=new Array(8*t.length),i=0;i<t.length;i++)for(var o=t.charCodeAt(i),a=7;a>=0;a--){var r=o&1<<a?1:0;n[8*i+(7-a)]=r}return n}(function(e){var t=e.split(".")[0].replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Exception("Illegal base64url string!")}return t}(e))}function ai(e){return parseInt(e.join(""),2)}function ri(e){return 100*ai(e)}function si(e){var t=e?oi(e):[];return{getTcfVersion:function(){return ai(t.slice(0,6))},getPurposeOneTreatment:function(){return ai(t.slice(200,201))},getIsServiceSpecific:function(){return ai(t.slice(138,139))},getVendorListVersion:function(){return ai(t.slice(120,132))},getLastUpdate:function(){return ri(t.slice(42,78))},getCreationDate:function(){return ri(t.slice(7,42))}}}function ci(e,t,n,i){var o=i,a=n;"function"==typeof a&&(o=a,a={}),o=o||function(){};var r,s=((a=a||{}).method||"GET").toUpperCase(),c=!1!==a.async,l=a.xhr||new XMLHttpRequest,u=a.headers||{};"GET"!==s&&"form"!==a.type||(r=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(t));var d,p=e;return"GET"===s&&(p+=r.length?"?"+r:""),l.open(s,p,c),l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status||304===l.status){var e=(l.getResponseHeader("Content-Type")||"").match(/^application\/json\s*(;|$)/);o(null,e?JSON.parse(l.responseText||""):l.responseText)}else o(l)},"GET"!==s&&("json"===a.type?(l.setRequestHeader("Content-Type","application/json"),d=JSON.stringify(t)):"form"===a.type?(l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d=r):d=""+t),Object.keys(u).forEach((function(e){l.setRequestHeader(e,u[e])})),l.send(d),l}var li=function(){function e(t){var n;i(this,e),this.cs=t,this.browserDetect=new U,this.settings={inDelay:100,influx:{serverUrl:"https://hits-i.iubenda.com",dbName:"hits1"}};var o=!0;!0===(null===(n=this.cs.state)||void 0===n?void 0:n.fromSDK)&&(o=!this.cs.options.isUsingNewPricing()),this.state={enabled:o}}return a(e,[{key:"start",value:function(e){var t=this;setTimeout((function(){t.track("pageview",{e_c:t.cs.options.cookiePolicyId,e_a:e?"page_view_consent":"page_view_no_consent"})}),this.settings.inDelay)}},{key:"track",value:function(e,t){var n=this;if(this.unsupported()||!this.state.enabled)return!0;try{var i="hits,cp="+t.e_c;"pageview"===e?i+=this.addPriorConsentValue(t.e_a)+",sf=1":"consent_given"===e&&(i+=",cg=1"+this.addPerPurposeAnalyticsToString()+","+this.addConsentTypeTag(t.e_n)+"=1"),i+=" value=1",ci(this.settings.influx.serverUrl+"/write?db="+this.settings.influx.dbName,i,{method:"POST",async:!0},(function(e,t){n.cs.debug(e||t)}))}catch(n){this.cs.debug("Exception while hitting (I) for "+e+", parameters: (see below), exception : "+(n.message||n)),this.cs.debug(t)}return!1}},{key:"unsupported",value:function(){return"Explorer"===this.browserDetect.browser&&this.browserDetect.version<10||(!!this.browserDetect.isBotAndShouldSkipBots()||!navigator.cookieEnabled)}},{key:"addPriorConsentValue",value:function(e){var t="",n=_iub.csEnabled&&(this.cs.isPriorConsent()||this.cs.options.usprApplies);return"page_view_consent"===e?(t+=n?",pv_cs=1":",pv_cs=1,pv_cs_nopc=1",t+=this.addPerPurposeAnalyticsToString()):"page_view_no_consent"===e&&(t+=n?",pv_nocs=1":",pv_nocs=1,pv_nocs_nopc=1"),t}},{key:"addPerPurposeAnalyticsToString",value:function(){var e="";this.cs.isConsentGiven()?e+=",cg_a=1":this.cs.isConsentRejected()?e+=",cg_r=1":e+=",cg_p=1";var t=this.getAcceptedPurposes();return t&&(e+=","+t),e}},{key:"getAcceptedPurposes",value:function(){if(!this.cs.options.perPurposeConsent)return"";var e=this.cs.consent.purposes;return Object.keys(e).map((function(t){return"p"+t+"="+(e[t]?1:0)})).join(",")}},{key:"addConsentTypeTag",value:function(e){var t;switch(e){case"bannerXClose":t="cg_bx";break;case"rejectButtonClick":t="cg_br";break;case"bannerAcceptClicked":t="cg_ba";break;case"documentClicked":t="cg_dc";break;case"cookiePolicyClosed":t="cg_cpc";break;default:t="cg_na"}return t}},{key:"consentGiven",value:function(e){this.track("consent_given",{e_c:this.cs.options.cookiePolicyId,e_a:"consent_given",e_n:e})}}]),e}(),ui={code:0,message:"Not recognized"},di={code:1,message:"Invalid type"},pi={code:2,message:"Invalid format"},hi={code:3,message:"Mismatch"},fi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),this.invalidType=t,this.errorType=a,this.propertyName=n,this.propertyValue=o}return a(e,null,[{key:"fromProperty",value:function(t,n,i,o){return new e(i,t,n,o)}},{key:"fromPropertyName",value:function(t,n,i){return new e(n,t,null,i)}},{key:"fromInvalidType",value:function(t,n){return new e(t,null,null,n)}}]),e}(),bi=0,gi=function e(t,i){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bi,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=r||[],c=0,l=Object.keys(t);c<l.length;c++){var u=l[c],d=""!==a?"".concat(a,".").concat(u):u;if(t.hasOwnProperty(u)&&!i.hasOwnProperty(u))s.push(fi.fromPropertyName(d,ui,o));else if("object"===n(t[u])&&null!==t[u]&&"object"===n(i[u])&&null!==i[u])return e(t[u],i[u],o,d,s)}return s},mi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bi,i=[];return Object.keys(e).forEach((function(o){e.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&i.push(fi.fromProperty(o,e[o],ui,n))})),i};function vi(e){var t=n(e);return"string"!==t||"string"===t&&null===e.match(/^[a-z]{2}$|^[a-z]{2}-[a-z]{2}$/i)}function yi(e,t){return e[t].callback&&"string"!=typeof e[t].callback}function ki(e,t,n){return e[n]instanceof HTMLElement&&!(void 0!==t[n])}function Ci(e,t,i){return"i18n"!==i&&"object"===n(e[i])&&null!==e[i]&&"object"===n(t[i])&&Object.keys(e[i]).length>1}var wi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var o=x(Je,!0);if(this.i18nForBanner=kt,this.RENAMED_OPTIONS={enableCMP:"enableTcf","banner.usesThirdParties":"banner.useThirdParties","banner.innerHtmlCloseBtn":"banner.closeButtonCaption",noticeAtCollectionUrl:"privacyPolicyNoticeAtCollectionUrl"},this._remoteConfig=n||{},Object.freeze(this.remoteConfig),this.userConfig={showBannerForUS:t.showBannerForUS,floatingPreferencesButtonDisplay:t.floatingPreferencesButtonDisplay},t.lang&&!this.isLanguageSupported(t.lang)&&(t.i18n&&t.i18n[t.lang]&&(S(vt,{en:t.i18n[t.lang]}),Ct()),t.lang="en"),delete t.skipTcfValidation,delete t.consApiKey,S(this,o),this.applyRemoteConfigurations(t),this.removeUnsupportedOptions(),this.prepareGetters(),this.setConfiguredI18n(),this.logDeprecatedOptionWarning(t,this.RENAMED_OPTIONS),this.forceAcceptButtonDisplayIfNeeded(),this.setContinueWithoutAccepting(),this.setTranslationLanguage(),this.setGdprApplies(),this.setLgpdApplies(),this.setTcfOptions(),this.setGoogleAdditionalConsentMode(),this.setUsprApplies(),this.setCcpaApplies(),this.setExplicitWithdrawal(),this.setEnableGpp(),this.setShowBannerForUS(),this.setHasCookiePolicy(),this.setHasPrivacyPolicy(),this.hasPrivacyPolicy&&!this.privacyPolicyUrl&&(this.privacyPolicyUrl="https://www.iubenda.com/privacy-policy/"+this.cookiePolicyId+"/legal?an=no&s_ck=false&newmarkup=yes"),!this.privacyPolicyNoticeAtCollectionUrl){var a=this.privacyPolicyUrl;a||(a="https://www.iubenda.com/privacy-policy/"+this.cookiePolicyId+"/legal"),this.privacyPolicyNoticeAtCollectionUrl=a+"#notice_at_collection"}this.ccpaCookie&&this.ccpaCookie.expireAfter&&this.ccpaCookie.expireAfter<365&&(this.ccpaCookie.expireAfter=365),this.disableGdprOptionsIfNeeded(),this.setShowPurposesToggles(),this.setShowPurposesCollapsed(),this.isFullCustomizationDisabled()&&(Object.keys(yt).forEach((function(e){return delete yt[e]})),Ct()),this.forceCustomizeButtonDisplayIfNeeded(),this.forceAcceptButtonDisplayIfNeeded(),this.forceRejectButtonDisplayIfNeeded(),this.forceCloseButtonDisplayIfNeeded(),this.setInvalidateConsentBefore(),this.merge(o,t),this.validationErrors=this.validate(o,t),this.validationErrors.map((function(e){e.errorType===bi&&Ke.warn("Configuration ".concat(e.propertyName).concat(e.propertyValue?" ["+e.propertyValue+"]":"",": ").concat(e.invalidType.message))}))}return a(e,[{key:"setHasCookiePolicy",value:function(){void 0===this.hasCookiePolicy&&(this.hasCookiePolicy=!!this.cookiePolicyUrl||!!_iub.cpUpd)}},{key:"setHasPrivacyPolicy",value:function(){void 0===this.hasPrivacyPolicy&&(this.hasPrivacyPolicy=!!this.privacyPolicyUrl||!!_iub.ppUpd||!!_iub.cpUpd)}},{key:"setShowPurposesToggles",value:function(){!1!==this.perPurposeConsent&&(!0!==this.usprApplies||!0!==this.hasSensitiveData)||(this.banner.showPurposesToggles=!1)}},{key:"removeUnsupportedOptions",value:function(){this.usprPurposes&&(this.usprPurposes=this.usprPurposes.replace(/,?(sd5|sd9)/g,"").replace(/,+\s*$/,""))}},{key:"setInvalidateConsentBefore",value:function(){if(this.invalidateConsentBefore&&(this.invalidateConsentBefore=new Date(this.invalidateConsentBefore).getTime()),this.askConsentAtCookiePolicyUpdate&&void 0!==_iub.cpUpd){var e=new Date(1e3*_iub.cpUpd).getTime();this.invalidateConsentBefore=Math.max(this.invalidateConsentBefore||0,e)}}},{key:"setTcfOptions",value:function(){if(this.enableTcf){this.googleAdsPreferenceManagement=!1,this.setTcfValidationOptions(),this.enableTcf=!0;var t=this.tcfPurposes,n=!1;e.tcfDefaultPurposes().forEach((function(e){e in t?"1"===e||"li_only"!==t[e]&&!0!==t[e]||(n=!0):t[e]=!0})),this.LIRestricted=!n}}},{key:"isBannerHtmlValid",value:function(e){if(!e)return!1;var t=document.createElement("div");t.innerHTML=e;var n=/\%\{banner_content\}/.test(t.textContent),i=t.querySelectorAll(".iubenda-cs-accept-btn").length>0,o=t.querySelectorAll(".iubenda-cs-customize-btn").length>0;return n&&i&&o}},{key:"applyRemoteConfigurations",value:function(e){S(this,this._remoteConfig.csSiteConf||{}),S(this,e),S(this,this.getRenamedOptions(e,this.RENAMED_OPTIONS)),S(this,this._remoteConfig.csRC||{})}},{key:"setTcfValidationOptions",value:function(){var e,t,n;this.skipTcfValidation||(null===(e=yt[this.lang])||void 0===e||(null===(t=e.banner)||void 0===t||(null===(n=t.dynamic)||void 0===n||delete n.body)),Ct(),this.banner.acceptButtonDisplay=!0,this.banner.customizeButtonDisplay=!0)}},{key:"setGoogleAdditionalConsentMode",value:function(){this.enableTcf||(this.googleAdditionalConsentMode=!1)}},{key:"forceCustomizeButtonDisplayIfNeeded",value:function(){(this.perPurposeConsent&&(this.gdprApplies||this.lgpdApplies)||this.usprApplies)&&this.banner&&(this.banner.customizeButtonDisplay=!0),this.fadpApplies&&(this.banner.customizeButtonDisplay=this.usprApplies&&this.hasUsprPurposesSensitiveData())}},{key:"forceCloseButtonDisplayIfNeeded",value:function(){var e=this.banner,t=e.acceptButtonDisplay,n=e.rejectButtonDisplay,i=e.closeButtonRejects,o=e.continueWithoutAcceptingButtonDisplay;this.fadpApplies?this.banner.closeButtonDisplay=!0:(t&&n&&!i||o)&&(this.banner.closeButtonDisplay=!1)}},{key:"forceAcceptButtonDisplayIfNeeded",value:function(){(this.hasUsprPurposesSensitiveData()||this.banner.showPurposesToggles)&&(this.banner.acceptButtonDisplay=!0),this.banner.acceptButtonDisplay||this.banner.closeButtonDisplay||(this.banner.acceptButtonDisplay=!0),this.fadpApplies&&(this.banner.acceptButtonDisplay=this.usprApplies&&this.hasUsprPurposesSensitiveData())}},{key:"forceRejectButtonDisplayIfNeeded",value:function(){this.hasUsprPurposesSensitiveData()&&(this.banner.rejectButtonDisplay=!0),this.fadpApplies&&(this.banner.rejectButtonDisplay=this.usprApplies&&this.hasUsprPurposesSensitiveData())}},{key:"setTranslationLanguage",value:function(){this.lang&&Et.setLang(this.lang)}},{key:"setGdprApplies",value:function(){if(!this.enableGdpr)return this.gdprAppliesGlobally=!1,void(this.gdprApplies=!1);if(this.gdprAppliesGlobally)return Ke.info("Setting gdprApplies=true since gdprAppliesGlobally is true"),void(this.gdprApplies=!0);if(void 0===this.gdprApplies){if(this.countryDetection&&"CH"===_iub.cc&&this.applyGdprForCH)return Ke.info("Setting gdprApplies=true since applyGdprForCH is true and user is detected from Switzerland"),void(this.gdprApplies=!0);if(!this.gdprAppliesGlobally&&this.countryDetection&&"EU"!==_iub.cc)return Ke.info("Setting gdprApplies=false since countryDetection is true and user is detected from outside EU ("+_iub.cc+")."),void(this.gdprApplies=!1);Ke.info("Setting gdprApplies=true by default"),this.gdprApplies=!0}}},{key:"setLgpdApplies",value:function(){if(!this.enableLgpd)return this.lgpdAppliesGlobally=!1,void(this.lgpdApplies=!1);if(void 0===this.lgpdApplies){if(!this.lgpdAppliesGlobally&&this.countryDetection&&"BR"!==_iub.cc)return Ke.info("Setting lgpdApplies=false since countryDetection is true and user is detected from outside BR ("+_iub.cc+")."),void(this.lgpdApplies=!1);Ke.info("Setting lgpdApplies=true by default"),this.lgpdApplies=!0}}},{key:"setCcpaApplies",value:function(){if(this.usprApplies)return this.enableCcpa=!0,void(this.ccpaApplies=!0);this.enableCcpa&&void 0===this.ccpaApplies&&(this.countryDetection&&"US-CA"!==_iub.cc?this.ccpaAppliesToEntireUSA&&/^US/.test(_iub.cc)&&(this.ccpaApplies=!0):this.ccpaApplies=!0)}},{key:"setUsprApplies",value:function(){!1!==this.enableUspr?void 0===this.usprApplies&&(!1!==this.countryDetection?this.enableUspr&&this.countryDetection&&/^US/.test(_iub.cc)?this.usprApplies=!0:this.usprApplies=!1:this.usprApplies=!0):this.usprApplies=!1}},{key:"setShowBannerForUS",value:function(){if(!1!==this.usprApplies){if(!0!==this.userConfig.showBannerForUS){var e=this.hasUsprPurposesSensitiveData();this.ccpaNoticeDisplay=e,this.showBannerForUS=e}}else this.showBannerForUS=!1}},{key:"hasUsprPurposesSensitiveData",value:function(){if(!this.usprPurposes&&!this.usprApplies)return!1;var e=this.usprPurposes?this.usprPurposes.split(","):_iub.csPurposes,t=wn(e);if(!t.length&&!0===this.usprApplies)return this.hasSensitiveData=!1,!1;var n=t.some((function(e){return/^sd\d+/.test(e.toString().trim())}));return this.hasSensitiveData=n,n}},{key:"setExplicitWithdrawal",value:function(){this.enableTcf&&(this.banner.explicitWithdrawal=!0)}},{key:"setEnableGpp",value:function(){this.usprApplies&&(this.enableGpp=!0)}},{key:"setShowPurposesCollapsed",value:function(){(this.banner.showPurposesToggles||this.lgpdApplies)&&(this.showPurposesCollapsed=!1)}},{key:"setContinueWithoutAccepting",value:function(){this.banner.continueWithoutAcceptingButtonDisplay&&(this.banner.closeButtonRejects=!0)}},{key:"disableGdprOptionsIfNeeded",value:function(){this.gdprApplies||this.lgpdApplies||!this.banner||(this.banner.acceptButtonDisplay=!1,this.banner.rejectButtonDisplay=!1,this.banner.customizeButtonDisplay=!1,this.banner.closeButtonDisplay=!0,this.banner.closeButtonRejects=!1)}},{key:"setConfiguredI18n",value:function(){this.i18n&&(S(yt,this.i18n),Ct())}},{key:"isLanguageSupported",value:function(e){return"string"==typeof e&&this.i18nForBanner.hasOwnProperty(e)}},{key:"get",value:function(e,t){return function(e,t,i){if(!t)return e;for(var o,a=t.split("."),r=e,s=0;s<a.length;s++){var c=a[s];if(s===a.length-1){o=r[c];break}if("object"!==n(r[c])||!r[c]){o=void 0;break}r=r[c]}return o||!1===o?o:i}(this,e,t)}},{key:"validate",value:function(e,t){var i=-1!==[0,2,3,4].indexOf(Ke.level),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=mi(e,t);return!0!==n||Object.keys(e).forEach((function(n){ki(e,t,n)?i.push(fi.fromPropertyName(n,ui,bi)):Ci(e,t,n)&&(i=i.concat(gi(e[n],t[n],bi,n)))})),i}(t,e,i),a=function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0===e)return[];var a=[];if("object"!==n(e)||null===e)return a.push(fi.fromPropertyName("i18n",hi,bi)),a;"object"===n(t)&&"object"===n(e)||a.push(fi.fromInvalidType(di,bi));var r=Object.keys(e).reduce((function(t,r){var s=[];return"object"!==n(e[r])?a.push(fi.fromProperty("lang",r,hi,bi)):(vi(r)&&a.push(fi.fromProperty("lang",r,pi,bi)),yi(e,r)&&a.push(new fi(hi,"".concat(r,".callback"),null,bi)),i&&i.en&&!0===o&&(s=gi(e[r],i.en,bi,r))),t.concat(s)}),[]);return a.concat(r)}(t.i18n,e.i18n,this.i18nForBanner,i);return[].concat(f(o),f(a))}},{key:"merge",value:function(e,t){var i=this;Object.keys(t).forEach((function(o){t[o]instanceof HTMLElement?void 0!==e[o]&&(e[o]=t[o]):"object"===n(t[o])||void 0===t[o]?"object"===n(e[o])?"object"===n(t[o])&&null!==t[o]&&Object.keys(t[o]).length>1?Object.keys(t[o]).forEach((function(n){void 0===e[o][n]&&void 0===i.RENAMED_OPTIONS["".concat(o,".").concat(n)]||(e[o][n]=t[o][n])})):e[o]=t[o]:void 0===e[o]&&(e[o]=t[o]):null!==e[o]&&"object"===n(e[o])||void 0===e[o]&&void 0===i.RENAMED_OPTIONS[o]||(e[o]=t[o])}))}},{key:"getObjValueByPath",value:function(e,t){for(var n,i=e,o=t.split("."),a=0;a<o.length;a++){var r=o[a];if(a===o.length-1)i&&void 0!==i[r]&&(n=i[r]);else{if(!i[r])break;i=i[r]}}return n}},{key:"setObjValueByPath",value:function(e,t,n){var i=e,o=t.split(".");return o.forEach((function(e,t){t===o.length-1?i[e]=n:(i[e]||(i[e]={}),i=i[e])})),i}},{key:"getRenamedOptions",value:function(e,t){var n=this;return Object.keys(t).reduce((function(i,o){var a=t[o],r=n.getObjValueByPath(e,a),s=n.getObjValueByPath(e,o),c=void 0!==r?r:s;return void 0===c||(n.setObjValueByPath(i,a,c),n.setObjValueByPath(i,o,c)),i}),{})}},{key:"logDeprecatedOptionWarning",value:function(e,t){var n=this;Object.keys(t).forEach((function(i){var o=t[i];n.getObjValueByPath(e,i)&&Ke.warn("deprecated parameter ["+i+"], use ["+o+"] instead")}))}},{key:"isUsingNewPricing",value:function(){return!!this.remoteConfig.csFeatures}},{key:"isFullCustomizationDisabled",value:function(){return!!this.isUsingNewPricing()&&!this.remoteConfig.csFeatures.full_customization}},{key:"getCSWhiteLabeling",value:function(){if(this.isUsingNewPricing()&&void 0!==this.remoteConfig.csFeatures.cookie_solution_white_labeling){var e=this.remoteConfig.csFeatures.cookie_solution_white_labeling;return"boolean"==typeof e?e:Number(e)}return!1}},{key:"isGeolocationDisabled",value:function(){return!!this.isUsingNewPricing()&&!this.remoteConfig.csFeatures.geolocation_setting}},{key:"isRejectionRecoveryDisabled",value:function(){return!!this.isUsingNewPricing()&&!this.remoteConfig.csFeatures.rejection_recovery}},{key:"prepareGetters",value:function(){var t=this;this.mergedOptions={},Object.keys(e.getters).forEach((function(n){for(var i,o=n.split("."),a=t,r=0;r<o.length-1;++r)a=a[o[r]];var s=o[o.length-1];(null===(i=Object.getOwnPropertyDescriptor(a,s))||void 0===i?void 0:i.get)||(t.setObjValueByPath(t.mergedOptions,n,a[s]),delete a[s],Object.defineProperty(a,s,{get:e.getters[n].bind(t),enumerable:!0,configurable:!1}))}))}},{key:"remoteConfig",get:function(){return this._remoteConfig}}],[{key:"tcfDefaultPurposes",value:function(){return["1","2","3","4","5","6","7","8","9","10","11"]}}]),e}();function Pi(e,t){var n=document.createElement("canvas").getContext("2d");return n.fillStyle=e,n.fillRect(0,0,1,1),n.fillStyle=t,n.fillRect(1,0,1,1),n.getImageData(0,0,1,1).data.join(",")===n.getImageData(1,0,1,1).data.join(",")}wi.getters={"banner.content":function(){return this.isFullCustomizationDisabled()?Je.banner.content:this.enableTcf&&!this.skipTcfValidation?null:this.mergedOptions.banner.content},"banner.html":function(){return this.isFullCustomizationDisabled()?Je.banner.html:!this.enableTcf||this.skipTcfValidation||this.isBannerHtmlValid(this.mergedOptions.banner.html)?this.mergedOptions.banner.html:(Ke.log("warn","banner.html changed to default since it doesn't respect the TCF requirements"),null)},floatingPreferencesButtonDisplay:function(){return!(!this.isFullCustomizationDisabled()||this.mergedOptions.floatingPreferencesButtonDisplay)||this.mergedOptions.floatingPreferencesButtonDisplay},usPreferencesWidgetDisplay:function(){return void 0===this.mergedOptions.usPreferencesWidgetDisplay?!1!==this.userConfig.floatingPreferencesButtonDisplay&&"inline-center":this.mergedOptions.usPreferencesWidgetDisplay},floatingPreferencesButtonCaption:function(){return this.isFullCustomizationDisabled()?Je.floatingPreferencesButtonCaption:this.mergedOptions.floatingPreferencesButtonCaption},floatingPreferencesButtonColor:function(){return this.isFullCustomizationDisabled()?Je.floatingPreferencesButtonColor:this.mergedOptions.floatingPreferencesButtonColor},floatingPreferencesButtonCaptionColor:function(){return this.isFullCustomizationDisabled()?Je.floatingPreferencesButtonCaptionColor:this.mergedOptions.floatingPreferencesButtonCaptionColor},floatingPreferencesButtonIcon:function(){return this.isFullCustomizationDisabled()?Je.floatingPreferencesButtonIcon:this.mergedOptions.floatingPreferencesButtonIcon},"banner.fontSize":function(){return this.isFullCustomizationDisabled()?Je.banner.fontSize:this.mergedOptions.banner.fontSize},"banner.fontSizeBody":function(){return this.isFullCustomizationDisabled()?Je.banner.fontSizeBody:this.mergedOptions.banner.fontSizeBody},"banner.slideDown":function(){return this.isFullCustomizationDisabled()?Je.banner.slideDown:this.mergedOptions.banner.slideDown},"banner.fontSizeCloseButton":function(){return this.isFullCustomizationDisabled()?Je.banner.fontSizeCloseButton:this.mergedOptions.banner.fontSizeCloseButton},"banner.prependOnBody":function(){return this.isFullCustomizationDisabled()?Je.banner.prependOnBody:this.mergedOptions.banner.prependOnBody},reloadOnConsent:function(){return this.isFullCustomizationDisabled()?Je.reloadOnConsent:this.mergedOptions.reloadOnConsent},askConsentAtCookiePolicyUpdate:function(){return!!this.isFullCustomizationDisabled()||this.mergedOptions.askConsentAtCookiePolicyUpdate},enableRemoteConsent:function(){return!this.previewMode&&(this.isFullCustomizationDisabled()?Je.enableRemoteConsent:this.mergedOptions.enableRemoteConsent)},"preferenceCookie.expireAfter":function(){return this.isFullCustomizationDisabled()?Je.preferenceCookie.expireAfter:this.mergedOptions.preferenceCookie.expireAfter},inlineDelay:function(){return this.isFullCustomizationDisabled()?Je.inlineDelay:this.mergedOptions.inlineDelay},logLevel:function(){return this.isFullCustomizationDisabled()?Je.logLevel:this.mergedOptions.logLevel},rebuildIframe:function(){return this.isFullCustomizationDisabled()?Je.rebuildIframe:this.mergedOptions.rebuildIframe},skipSaveConsent:function(){return!!this.previewMode||(this.isFullCustomizationDisabled()?Je.skipSaveConsent:this.mergedOptions.skipSaveConsent)},"banner.cookiePolicyLinkCaption":function(){return this.isFullCustomizationDisabled()?Je.banner.cookiePolicyLinkCaption:this.mergedOptions.banner.cookiePolicyLinkCaption},"banner.acceptButtonCaption":function(){return this.isFullCustomizationDisabled()||!this.mergedOptions.banner.acceptButtonCaption?Et("banner.accept_button_caption",null,this):this.mergedOptions.banner.acceptButtonCaption},"banner.customizeButtonCaption":function(){return this.isFullCustomizationDisabled()?Je.banner.customizeButtonCaption:this.mergedOptions.banner.customizeButtonCaption},"banner.rejectButtonCaption":function(){return this.isFullCustomizationDisabled()||!this.mergedOptions.banner.rejectButtonCaption?Et("banner.reject_button_caption",null,this):this.mergedOptions.banner.rejectButtonCaption},"banner.continueWithoutAcceptingButtonCaption":function(){return this.isFullCustomizationDisabled()||!this.mergedOptions.banner.continueWithoutAcceptingButtonCaption?Et("banner.continue_acception_button_caption"):this.mergedOptions.banner.continueWithoutAcceptingButtonCaption},"banner.closeButtonCaption":function(){return this.isFullCustomizationDisabled()?Je.banner.closeButtonCaption:this.gdprApplies||this.lgpdApplies||!this.banner?this.mergedOptions.banner.closeButtonCaption:"&times;"},"banner.backgroundColor":function(){return this.isFullCustomizationDisabled()&&!Pi(this.mergedOptions.banner.backgroundColor,"white")?Je.banner.backgroundColor:this.mergedOptions.banner.backgroundColor},"banner.textColor":function(){return this.isFullCustomizationDisabled()&&!Pi(this.mergedOptions.banner.textColor,"black")?Je.banner.textColor:this.mergedOptions.banner.textColor},"banner.linksColor":function(){return this.isFullCustomizationDisabled()?Je.banner.linksColor:this.mergedOptions.banner.linksColor},"banner.acceptButtonColor":function(){return this.isFullCustomizationDisabled()&&!Pi(this.mergedOptions.banner.acceptButtonColor,"#0073CE")?Je.banner.acceptButtonColor:this.mergedOptions.banner.acceptButtonColor},"banner.acceptButtonCaptionColor":function(){return this.isFullCustomizationDisabled()&&!Pi(this.mergedOptions.banner.acceptButtonCaptionColor,"white")?Je.banner.acceptButtonCaptionColor:this.mergedOptions.banner.acceptButtonCaptionColor},"banner.customizeButtonColor":function(){return this.isFullCustomizationDisabled()&&!Pi(this.mergedOptions.banner.customizeButtonColor,"#DADADA")?Je.banner.customizeButtonColor:this.mergedOptions.banner.customizeButtonColor},"banner.customizeButtonCaptionColor":function(){return this.isFullCustomizationDisabled()&&!Pi(this.mergedOptions.banner.customizeButtonCaptionColor,"#4D4D4D")?Je.banner.customizeButtonCaptionColor:this.mergedOptions.banner.customizeButtonCaptionColor},"banner.rejectButtonColor":function(){return this.isFullCustomizationDisabled()&&!Pi(this.mergedOptions.banner.rejectButtonColor,"#0073CE")?Je.banner.rejectButtonColor:this.mergedOptions.banner.rejectButtonColor},"banner.rejectButtonCaptionColor":function(){return this.isFullCustomizationDisabled()&&!Pi(this.mergedOptions.banner.rejectButtonCaptionColor,"white")?Je.banner.rejectButtonCaptionColor:this.mergedOptions.banner.rejectButtonCaptionColor},"banner.continueWithoutAcceptingButtonColor":function(){return this.isFullCustomizationDisabled()?Je.banner.continueWithoutAcceptingButtonColor:this.mergedOptions.banner.continueWithoutAcceptingButtonColor},"banner.continueWithoutAcceptingButtonCaptionColor":function(){return this.isFullCustomizationDisabled()?Je.banner.continueWithoutAcceptingButtonCaptionColor:this.mergedOptions.banner.continueWithoutAcceptingButtonCaptionColor},"banner.brandBackgroundColor":function(){return this.isFullCustomizationDisabled()?Je.banner.brandBackgroundColor:this.mergedOptions.banner.brandBackgroundColor},"banner.brandTextColor":function(){return this.isFullCustomizationDisabled()?Je.banner.brandTextColor:this.mergedOptions.banner.brandTextColor},"banner.logo":function(){return this.isFullCustomizationDisabled()?Je.banner.logo:this.mergedOptions.banner.logo},whitelabel:function(){var e=this.getCSWhiteLabeling();return!(this.isFullCustomizationDisabled()||2!==e&&!1!==e)&&this.mergedOptions.whitelabel},"banner.applyStyles":function(){return this.isFullCustomizationDisabled()?Je.banner.applyStyles:this.mergedOptions.banner.applyStyles},countryDetection:function(){return this.isGeolocationDisabled()?Je.countryDetection:this.mergedOptions.countryDetection},promptToAcceptOnBlockedElements:function(){return this.isRejectionRecoveryDisabled()?Je.promptToAcceptOnBlockedElements:this.mergedOptions.promptToAcceptOnBlockedElements},previewMode:function(){return this.mergedOptions.previewMode&&Ze()},previewRemoteConfigurationUrl:function(){return this.mergedOptions.previewRemoteConfigurationUrl},cookieSolutionWhiteLabeling:function(){return this.getCSWhiteLabeling()},skipTcfValidation:function(){var e;return(null===(e=this._remoteConfig.csRC)||void 0===e?void 0:e.skipTcfValidation)||!1},acceptTcfSpecialFeaturesWithAcceptBtn:function(){return this.mergedOptions.acceptTcfSpecialFeaturesWithAcceptBtn},fadpApplies:function(){return!1!==this.mergedOptions.fadpApplies&&(!!this.mergedOptions.enableFadp&&(!this.gdprApplies&&!this.lgpdApplies&&(this.mergedOptions.countryDetection?"CH"===_iub.cc:this.mergedOptions.enableFadp)))},enableFadp:function(){return this.mergedOptions.enableFadp},showBannerForCH:function(){return!!this.fadpApplies&&this.mergedOptions.showBannerForCH},perPurposeConsent:function(){return!this.hasCookiePolicy||(!(!this.fadpApplies||this.gdprApplies||this.lgpdApplies)||this.mergedOptions.perPurposeConsent)},storage:function(){return this.mergedOptions.storage},tcfVendors:function(){var e=this.mergedOptions.tcfVendors||this.vendors||_iub.tcfV;return"string"==typeof e?e.split(",").map((function(e){return parseInt(e,10)})):e},gppVersion:function(){switch(this.mergedOptions.gppVersion.toString()){case"1.1":return 1.1;case"1":default:return 1}},tcfVersion:function(){return Ue.TCF_VERSION},tcfV2_2:function(){return 2.2===Ue.TCF_VERSION},"banner.totalNumberOfProviders":function(){var e;if(!0===(null===(e=this.banner)||void 0===e?void 0:e.showTotalNumberOfProviders)){var t;if("number"==typeof(null===(t=this.mergedOptions.banner)||void 0===t?void 0:t.totalNumberOfProviders))return this.mergedOptions.banner.totalNumberOfProviders;if("number"==typeof _iub.totalNumberOfProviders)return _iub.totalNumberOfProviders}return 0}};var Si=function(){function e(t){i(this,e),this.cs=t,this.logger=Ke,this.ui=t.ui,window.addEventListener("message",this._onMessageEventHandler.bind(this))}return a(e,[{key:"consentGiven",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.force||!1;if(this.ui.banner.shown||t){var n=e.eventName||"cookiePolicyClosed";switch(this.ui.registerEvent(n),n){case"rejectButtonClick":this.cs.rejectAll(n);break;case"bannerXClose":this.cs.options.banner.closeButtonRejects?this.cs.rejectAll(n):this.cs.acceptAll(n);break;default:this.cs.acceptAll(n)}this.ui.banner.removeBanner()}}},{key:"showTcfVendors",value:function(){this.ui.showTcfVendors()}},{key:"showCP",value:function(){var e=new MouseEvent("click",{bubbles:!0,cancelable:!1});this.ui.bannerCookiePolicyClicked({event:e})}},{key:"openPreferences",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.acceptPurposes;this.ui.openPreferences({acceptPurposes:t})}},{key:"printErrors",value:function(){var e=this,t=this.cs.state.errors;t.length||this.logger.log("info","No errors","info",!1),Object.keys(t).forEach((function(n){e.logger.log("info",t[n],"error",!1)}))}},{key:"isConsentGiven",value:function(){return this.cs.isConsentGiven()}},{key:"isCcpaAcknowledged",value:function(){return this.cs.state.ccpaAcknowledged}},{key:"isCcpaOptedOut",value:function(){return this.cs.state.ccpaOptedOut}},{key:"ccpaApplies",value:function(){return this.cs.options.ccpaApplies}},{key:"gdprApplies",value:function(){return this.cs.options.gdprApplies}},{key:"lgpdApplies",value:function(){return this.cs.options.lgpdApplies}},{key:"askCcpaOptOut",value:function(){this.cs.askCcpaOptOut()}},{key:"isPreferenceExpressed",value:function(){return this.cs.isPreferenceExpressed()}},{key:"storeConsent",value:function(e){var t=this.cs.consent;this.cs.consent={timestamp:(new Date).toISOString(),version:this.cs.settings.version};var i,o=null==e||e,a=!1;if("boolean"==typeof o)i=o;else if("object"===n(o)){if("tcfv2"in o&&(this.cs.state.tcfv2String=o.tcfv2||""),"consent"in o&&(i=!1!==o.consent),"purposes"in o){var r=x(o.purposes);r[1]=!0,this.cs.consent.purposes=r,a=!0}"uspr"in o&&(this.cs.preferences.state.usPurposes.setPreferences(o.uspr),this.cs.preferences.storage.uspr.storeUSPurposeCookie()),"ccpa"in o&&this.cs.options.ccpaApplies&&this.cs.preferences.storage.usPrivacy.setCcpaCookie(o.ccpa,!0),"timestamp"in o&&(this.cs.consent.timestamp=o.timestamp),this.cs.consent.cons="cons"in o?o.cons:{rand:"123456"}}"boolean"==typeof i&&(this.cs.consent.consent=i,a=!0),a&&this.cs.cookie.storeConsent(),this.cs.consent=t}},{key:"activateSnippets",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cs.firstActivationCompletedPromise.then((function(){e.cs.startActivation(t.runOnActivationDoneCallback,!0)}))}},{key:"setConsentOnScrollOnElement",value:function(){}},{key:"isGoogleNonPersonalizedAds",value:function(){return!0}},{key:"getGoogleAdditionalConsent",value:function(){if(this.cs.options.googleAdditionalConsentMode&&this.cs.customPreferences)return this.cs.customPreferences.gac}},{key:"resetCookies",value:function(){this.cs.storage.reset({local:!0,remote:this.cs.options.enableRemoteConsent})}},{key:"_callAPIFunction",value:function(t,n,i){this.logger.debug({command:t,params:n,callback:i});var o=n||[];if("_onMessageEventHandler"===t||"_callAPIFunction"===t||!e.prototype.hasOwnProperty(t)||"function"!=typeof this[t])return this.logger.error("iub CS API called with undefined command: ",t),void i(null,!1);i(this[t].apply(this,o),!0)}},{key:"_onMessageEventHandler",value:function(t){try{var n="string"==typeof t.data?e._parseJson(t.data):t.data,i=n?n.__iubCsCall:null;if(!i)return;var o=i.command,a=i.parameters,r=i.callId;this._callAPIFunction(o,a,(function(e,n){var i={__iubCsReturn:{returnValue:e,success:n,callId:r}};t.source.frames.postMessage(JSON.stringify(i),t.origin)}))}catch(e){this.logger.error("Error: "+e)}}},{key:"getSupportedOptions",value:function(){return A(Je)}},{key:"acceptAll",value:function(){this.cs.acceptAllUltimate("cookiePolicyClosed")}},{key:"rejectAll",value:function(){this.cs.rejectAll("rejectButtonClick")}},{key:"showBanner",value:function(){this.cs.ui.banner.removeBanner(),this.cs.ui.banner.showBanner(),this.cs.ui.bindButtons(),this.cs.enablePrivacyPolicyLinks()}},{key:"getPreferences",value:function(){return this.cs.getPreferences()}},{key:"openAdvertisingPreferences",value:function(){this.cs.openAdvertisingPreferences()}}],[{key:"_parseJson",value:function(e){try{return JSON.parse(e)}catch(e){}return null}}]),e}(),xi="body{margin:0;font-family:sans-serif}*{box-sizing:border-box}.iubenda-cs__overlay{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;overflow:auto;padding:1rem;background-color:rgba(0,0,0,.1)}.iubenda-cs__dialog{max-width:320px;border-radius:.5rem;box-shadow:0 0 2rem rgba(0,0,0,.25),0 0 0 1px rgba(0,0,0,.05);margin:auto;overflow:hidden;padding:1.5rem;display:flex;flex-direction:column;grid-gap:1.5rem;background:#fff;color:#222}.iubenda-cs__body h1{font-size:1.25rem;margin:0 0 .5rem 0}.iubenda-cs__body p{margin:0;font-weight:300}.iubenda-cs__button{font-size:100%;border-radius:4rem;padding:.5rem 1rem;font-weight:700;background-color:#0073ce;color:#fff;border:0;width:100%;cursor:pointer}.iubenda-cs__button:hover{background-color:#005aa0}@media (max-height:320px) and (max-width:240px){.iubenda-cs__overlay{padding:0}}@media (max-height:320px) and (min-width:480px){.iubenda-cs__dialog{flex-direction:row;max-width:100%;align-items:center}.iubenda-cs__button{padding:1rem 3rem}}";function Ai(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.styleOptions,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Zt(e,t),r=t.join(","),s=Et("blocked_overlay.title"),c=Et("blocked_overlay.paragraph").replace("%{purposes}",a),l=Et("blocked_overlay.accept_button"),u=_e({"background-color":null==i?void 0:i.backgroundColor,color:null==i?void 0:i.textColor}),d=_e({"background-color":null==i?void 0:i.acceptButtonColor,color:null==i?void 0:i.acceptButtonCaptionColor}),p='\n    <div class="iubenda-cs__overlay">\n      <div class="iubenda-cs__dialog" '.concat(u,'>\n        <div class="iubenda-cs__body">\n          <h1>').concat(s,"</h1>\n          <p>").concat(c,'</p>\n        </div>\n        <div class="iubenda-cs__footer">\n          <button\n            class="iubenda-cs__button iubenda-cs__preferences-link"\n            ').concat(d,'\n            data-accept-purposes="').concat(r,'"\n          >\n            ').concat(l,"\n          </button>\n        </div>\n      </div>\n    </div>\n  ");return o?p:'\n    <!DOCTYPE html>\n    <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta http-equiv="X-UA-Compatible" content="IE=edge">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>'.concat(s,"</title>\n        <style>").concat(xi,"</style>\n      </head>\n      <body>\n        ").concat(p,"\n      </body>\n    </html>\n  ")}function _i(e){var t,n,i,o=null==e||null===(t=e.preferenceCookie)||void 0===t||null===(n=t.tcfV2Name)||void 0===n?void 0:n.trim();return"string"==typeof o&&o?o.trim().replace(/%\{cookie_policy_id\}/g,null!==(i=null==e?void 0:e.cookiePolicyId)&&void 0!==i?i:""):"euconsent-v2"}var Oi="loading",Bi="loaded",Ii="visible",Li="hidden",Di="ready",Ti="not ready",Fi="initial",Ei="processing",Ni="processed",Ri=function(){function e(t,n){i(this,e);var o={cmpId:t,cmpStatus:Oi,cmpDisplayStatus:Li,supportedAPIs:[],supportedAPIs_1_1:[],sectionList:[],applicableSections:[],gppVersion:n||"1.0",signalStatus:Ti,gppString:"",gppUpdatedSectionIds:{},parsedSections:{}};this.data=o,this.fireEvent=function(){}}return a(e,[{key:"setFireEvent",value:function(e){this.fireEvent=e}},{key:"updateData",value:function(e){this.data=P(this.data,e)}},{key:"getModelStructure",value:function(e){return"1.1"===e?["gppVersion","cmpStatus","cmpDisplayStatus","signalStatus","supportedAPIs","cmpId","sectionList","applicableSections","gppString","parsedSections"]:["gppVersion","cmpStatus","cmpDisplayStatus","supportedAPIs","cmpId"]}},{key:"getItemValue",value:function(e,t){switch(t){case"sectionList":return Object.keys(this.data.gppUpdatedSectionIds).map(Number);case"supportedAPIs":return this.data["1.1"===e?"supportedAPIs_1_1":"supportedAPIs"];default:return this.data[t]}}},{key:"getPingData",value:function(e){var t=this,n=this.getModelStructure(e.toString()),i={};return n.forEach((function(n){i[n]=t.getItemValue(e,n)})),i}}]),e}();function Vi(e){if("string"!=typeof e)return{section:null,data:null};var t=e.split(".");return{section:t[0],data:t.slice(1).join(".")}}function ji(e){if(!e)return e;var t=e;return"string"==typeof e&&(t=Number(e)),t.toString()}var zi=[1.1,1],Ui=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;i(this,e),this.model=t,this.pluginManager=n,this.gppVersion=o;try{this.callQueue=window.__gpp.queue}catch(e){this.callQueue=[]}try{this.events=window.__gpp.events}catch(e){this.events=[]}try{this.lastId=window.__gpp.lastId}catch(e){this.lastId=0}for(window.__gpp=this.apiCall.bind(this);this.callQueue.length;){var a=this.callQueue.shift();this.apiCall.apply(this,f(a))}}return a(e,[{key:"registerListener",value:function(e,t,n){var i=0,o=!1;return"function"==typeof e&&(o=!0,i=++this.lastId,this.events.push({id:i,callback:e,parameter:t,version:n})),{eventName:"listenerRegistered",listenerId:i,data:o}}},{key:"unregisterListener",value:function(e){for(var t=!1,n=0;n<this.events.length;++n)if(this.events[n].id===e){this.events.splice(n,1),t=!0;break}return{eventName:"listenerRemoved",listenerId:e,data:t}}},{key:"getCustomCommand",value:function(e){var t=Vi(e),n=t.section,i=t.data,o=this.pluginManager.get(n);if(o){var a=o.customCommands()[i];if(a)return a}}},{key:"apiCall",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],o=t[1],a=t[2],r=t[3],s=void 0===r?this.gppVersion:r,c=ji(s);return"1"===c?this.apiCall_1_0(i,o,a,c):this.apiCall_1_1(i,o,a,c)}},{key:"apiCall_1_0",value:function(e,t,n,i){if("1"===i&&"string"==typeof e){var o=Number(i);switch(e){case"addEventListener":var a=this.registerListener(t,n,i);return{eventName:a.eventName,listenerId:a.listenerId,data:a.data};case"removeEventListener":var r=this.unregisterListener(n);return{eventName:r.eventName,listenerId:r.listenerId,data:r.data};case"ping":return this.model.getPingData(i);case"hasSection":return!!this.pluginManager.get(n);case"getSection":var s;return null===(s=this.pluginManager.get(n))||void 0===s?void 0:s.getSection(o);case"getField":var c,l=Vi(n),u=l.section,d=l.data;return null===(c=this.pluginManager.get(u))||void 0===c?void 0:c.getField(o,d);case"getGPPData":var p=Object.keys(this.model.data.gppUpdatedSectionIds).map(Number),h=this.model.data.applicableSections.filter((function(e){return-1!==p.indexOf(e)}));return{sectionId:3,gppVersion:3,sectionList:p,applicableSections:h.length?h:-1,gppString:this.model.data.gppString,pingData:this.model.getPingData(i)};default:var f=this.getCustomCommand(e);if(f)return f(t,n,i)}}}},{key:"apiCall_1_1",value:function(t,n,i,o){if("1.1"===o&&"string"==typeof t&&"function"==typeof n){var a=Number(o);switch(t){case"addEventListener":var r=this.registerListener(n,i,o),s={eventName:r.eventName,listenerId:r.listenerId,data:r.data,pingData:this.model.getPingData(o)};this.events.forEach((function(t){e.callCallback(t.callback,s,!0)}));break;case"removeEventListener":var c=this.unregisterListener(i),l=c.eventName,u=c.listenerId,d=c.data;e.callCallback(n,d,!0);var p={eventName:l,listenerId:u,data:d,pingData:this.model.getPingData(o)};this.events.forEach((function(t){e.callCallback(t.callback,p,!0)}));break;case"ping":var h=this.model.getPingData(o);e.callCallback(n,h,!0);break;case"hasSection":var f=!!this.pluginManager.get(i);e.callCallback(n,f,!0);break;case"getSection":var b=this.pluginManager.get(i);if(b){var g=b.getSection(a);e.callCallback(n,g,!0)}else e.callCallback(n,null,!1);break;case"getField":var m=Vi(i),v=m.section,y=m.data,k=this.pluginManager.get(v);if(k&&y){var C=k.getField(a,y);e.callCallback(n,C,!0)}else e.callCallback(n,null,!1);break;default:var w=this.getCustomCommand(t);w?w(n,i,o):e.callCallback(n,null,!1)}}else"function"==typeof n&&e.callCallback(n,null,!1)}}],[{key:"callCallback",value:function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.apply(void 0,n)}catch(e){}}}]),e}();function Mi(){this.ncache=[1,2,3,5,8,13,21,34,55,89,144,233],this.ecache=[],this.maxfibo=30,this.fibo=function(e){if(e in this.ncache)return this.ncache[e];var t=e-1,n=e-2;if(t in this.ncache&&n in this.ncache)return this.ncache[e]=this.ncache[t]+this.ncache[n],this.ncache[e];for(var i=0,o=1,a=0,r=0;r<e;r++)a=i,i=o,o+=a;return this.ncache[e]=i,i},this.largeOrEqual=function(e){for(var t=0,n=1;n<this.maxfibo&&this.fibo(n)<=e;n++)t=n;return t},this.encode=function(e){if(e<=0)return"";if(e in this.ecache)return this.ecache[e];for(var t=e,n=this.largeOrEqual(e),i=[],o=0;o<n+3;o++)i[o]=0;o=n;for(var a=0;e>0&&a<=this.maxfibo&&o>=0;)for(a++,i[o]="1",e-=this.fibo(o),o--;o>=0&&this.ncache[o]>e;)i[o]="0",o--;return i[n+1]="1",i=i.slice(0,n+2),this.ecache[t]=i.join(""),this.ecache[t]},this.decode=function(e){if(""==e)return 0;for(var t=(e=e.substring(0,e.length-1)).length,n=0,i=0;i<t;i++)"1"==e.substring(i,i+1)&&(n+=this.fibo(i));return n}}function Gi(e,t){this.rpl=function(e,t,n){return e.split(t).join(n)},this.repeat=function(e){for(var t="",n=0;n<e;n++)t+="0";return t},this.padLeft=function(e,t){return this.repeat(Math.max(0,t))+e},this.base64toBits=function(e){for(e=this.rpl(e,"%2B","+"),e=this.rpl(e,"%2F","/"),e=this.rpl(e,"-","+"),e=this.rpl(e,"_","/"),e=this.rpl(e," ","+"),e=this.rpl(e,"%2B","+");e.length%4!=0;)e+="=";var t;try{t=window.atob2(e)}catch(n){try{t=window.atob(e)}catch(e){t=""}}for(var n="",i=0;i<t.length;i++){var o=t.charCodeAt(i).toString(2);n+=this.padLeft(o,8-o.length)}return n},this.read=function(e){var t=this.cs.substring(0,e);return this.cs=this.cs.substring(e,99999999),t},this.readInt=function(e){return parseInt(this.read(e),2)},this.readIntFibo=function(){var e=this.cs.substring(0,this.cs.indexOf("11")+2);return""!=e?(this.cs=this.cs.substring(e.length),this.fibo.decode(e)):""},this.readDate=function(){return new Date(100*this.readInt(36))},this.readLang=function(){return this.readString(2).toLowerCase()},this.readString=function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(this.readInt(6)+65);return t},this.readBool=function(){return 1===parseInt(this.read(1),2)},this.readBitField=function(e){var t=this.read(e);if(""===t)return[];t=t.split("");for(var n=[],i=0;i<e;i++)1===parseInt(t[i])&&-1===n.indexOf(i+1)&&n.push(i+1);return n},this.readNBitField=function(e,t){for(var n=[],i=1;i<=e;i++)n.push(this.readInt(t));return n},this.readVarBitField=function(){var e=this.readInt(16);return this.readBitField(e)},this.readRange=function(){for(var e=this.readInt(12),t=[],n=0,i=0,o=0;o<e;o++){this.readBool()?(n=this.readInt(16),i=this.readInt(16)):i=n=this.readInt(16);for(var a=n;a<=i;a++)a<1||t.push(a)}return t},this.readRangeFibo=function(){for(var e=this.readInt(12),t=[],n=0,i=0,o=0,a=0;a<e;a++){o=i=this.readBool()?(n=this.readIntFibo()+o)+this.readIntFibo():n=this.readIntFibo()+o;for(var r=n;r<=i;r++)r<1||t.push(r)}return t},this.readOptimizedRange=function(){return!0===this.readBool()?this.readRangeFibo():this.readVarBitField()},this.readOptimizedIntRange=function(){var e=this.readInt(16);return!0===this.readBool()?this.readRange():this.readBitField(e)},this.cs="string"==typeof t&&""!==t?t:this.base64toBits(e),this.fibo=new Mi}function Wi(){this.cs="",this.fibo=new Mi,this.clear=function(){this.cs=""},this.getCS=function(){return this.cs},this.setCS=function(e){this.cs=e},this.getBase64CS=function(){return this.bitsToBase64(this.cs)},this.rpl=function(e,t,n){return e.split(t).join(n)},this.repeat=function(e){for(var t="",n=0;n<e;n++)t+="0";return t},this.padRight=function(e,t){return e+this.repeat(Math.max(0,t))},this.bitsToBase64=function(e){if(e){e=this.padRight(e,7-(e.length+7)%8);for(var t="",n=0;n<e.length;n+=8)t+=String.fromCharCode(parseInt(e.substring(n,n+8),2));var i=t;try{t=window.btoa2(i)}catch(e){try{t=window.btoa(i)}catch(e){t=""}}return t=this.rpl(t,"+","-"),t=this.rpl(t,"/","_"),t=(t=this.rpl(t," ","+")).replace(/=+$/,"")}return null},this.padLeft=function(e,t){return this.repeat(Math.max(0,t))+e},this.repeat=function(e){for(var t="",n=0;n<e;n++)t+="0";return t},this.getMaxId=function(e){for(var t=0,n=0;n<e.length;n++)t<e[n]&&(t=e[n]);return t},this.write=function(e){this.cs+=e},this.writeBool=function(e){this.writeInt(!0===e||1===e?1:0,1)},this.writeInt=function(e,t){var n;t>=(n=parseInt(e,10).toString(2)).length&&(n=this.padLeft(n,t-n.length)),n.length>t&&(n=n.substring(0,t)),this.write(n)},this.writeDate=function(e){e instanceof Date?this.writeInt(e.getTime()/100,36):this.writeInt(e,36)},this.writeString=function(e,t){for(e=e.substring(e,t);e.length<t;)e+=" ";for(var n=0;n<e.length;n++)this.writeInt(e.substring(n,n+1).toUpperCase().charCodeAt(0)-65,6)},this.writeLang=function(e){this.writeString(e.substring(0,2),2)},this.writeBitField=function(e,t){for(var n=1;n<=t;n++)this.writeBool(-1!==cmp_fnd(e,n))},this.writeNBitField=function(e,t,n){for(var i=0;i<t;i++)this.writeInt(i in e?parseInt(e[i]):0,n)},this.writeVarBitField=function(e){var t=this.getMaxId(e);this.writeInt(t,16),this.writeBitField(e,t)},this.ids2range=function(e){for(e.sort((function(e,t){return parseInt(e)<parseInt(t)?-1:parseInt(e)>parseInt(t)?1:0}));e.length>0&&0===e[0];)e.shift();for(var t=[],n=0,i=0,o=0,a=0,r=0;r<e.length;r++)o=parseInt(e[r]),0===r&&(n=o,i=o),i<o-1&&(a=i,t.push({s:n,e:i}),n=o),i=o;return n>0&&a!=i&&t.push({s:n,e:i}),t},this.writeRange=function(e){var t=this.ids2range(e);this.writeInt(t.length,12);for(var n=0;n<t.length;n++)t[n].s<t[n].e?(this.writeBool(!0),this.writeInt(t[n].s,16),this.writeInt(t[n].e,16)):(this.writeBool(!1),this.writeInt(t[n].s,16))},this.writeBitFieldOrRange=function(e){var t=this.getMaxId(e);this.writeInt(t,16);var n=this.cs;this.cs="",this.writeBool(!1),this.writeBitField(e,t);var i=this.cs;this.cs="",this.writeBool(!0),this.writeRange(e);var o=this.cs;i.length>o.length?n+=o:n+=i,this.cs=n},this.writeIntFibo=function(e){this.cs+=this.fibo.encode(e)},this.writeRangeFibo=function(e){var t=this.ids2range(e),n=t.length;this.writeInt(n,12);for(var i=0,o=0;o<n;o++)t[o].s<t[o].e?(this.writeBool(!0),this.writeIntFibo(t[o].s-i),this.writeIntFibo(t[o].e-t[o].s),i=t[o].e):(this.writeBool(!1),this.writeIntFibo(t[o].s-i),i=t[o].s)},this.writeOptimizedRange=function(e){var t=this.cs;this.cs=t,this.writeBool(0),this.writeVarBitField(e);var n=this.cs;this.cs=t,this.writeBool(1),this.writeRangeFibo(e);var i=this.cs;this.cs=n.length<=i.length?n:i},this.writeOptimizedIntRange=function(e){var t=this.getMaxId(e),n=this.cs;this.cs=n,this.writeInt(t,16),this.writeBool(0),this.writeBitField(e,t);var i=this.cs;this.cs=n,this.writeInt(t,16),this.writeBool(1),this.writeRange(e);var o=this.cs;this.cs=i.length<=o.length?i:o}}function Hi(e,t,n){"boolean"!=typeof n&&(n=!1),this.sectionID=e,this.apiPrefix=t,this.isCustomFormat=n,this.segmentDelimiter=".",this.fieldDefintion=[],this.input="",this.fieldTypes={bool:{read:"readBool",write:"writeBool",jstype:"boolean"},int:{read:"readInt",write:"writeInt",jstype:"number",requireLength:!0},fibo:{read:"readIntFibo",write:"writeIntFibo",jstype:"number"},date:{read:"readDate",write:"writeDate",jstype:"Date"},datetime:{read:"readDate",write:"writeDate",jstype:"Date"},lang:{read:"readLang",write:"writeLang",jstype:"string"},string:{read:"readString",write:"writeString",jstype:"string",requireLength:!0},bits:{read:"readBitField",write:"writeBitField",jstype:"number[]",requireLength:!0},varbits:{read:"readVarBitField",write:"writeVarBitField",jstype:"number[]"},nbits:{read:"readNBitField",write:"writeNBitField",jstype:"number[]",requireLength:!0,requireSize:!0},range:{read:"readRange",write:"writeRange",jstype:"number[]"},rangefibo:{read:"readRangeFibo",write:"writeRangeFibo",jstype:"number[]"},optimizedrange:{read:"readOptimizedRange",write:"writeOptimizedRange",jstype:"number[]"},optimizedintrange:{read:"readOptimizedIntRange",write:"writeOptimizedIntRange",jstype:"number[]"}},this.clone=function(){var e=new Hi(this.sectionID,this.apiPrefix,this.isCustomFormat);return e.fieldDefintion=JSON.parse(JSON.stringify(this.fieldDefintion)),e.input=this.input,e},this.addField=function(e,t,n,i,o,a,r){return"number"!=typeof n&&(n=0),"number"!=typeof i&&(i=0),"number"!=typeof o&&(o=0),"boolean"!=typeof a&&(a=!1),null!=r&&a||(r=!1),t in this.fieldTypes&&this.fieldDefintion.push({name:e,definitiontype:t,length:n,size:o,segment:i,value:null,hasfixedvalue:a,fixedvalue:r}),this},this.read=function(e){if(this.input=e,this.isCustomFormat)return!1;for(var t=e.split(this.segmentDelimiter),n=0;n<t.length;n++)for(var i=new Gi(t[n]),o=0;o<this.fieldDefintion.length;o++)if(this.fieldDefintion[o].segment==n){var a=this.fieldTypes[this.fieldDefintion[o].definitiontype];this.fieldDefintion[o].value=this.sanitizeType(i[a.read](this.fieldDefintion[o].length,this.fieldDefintion[o].size),a.jstype)}},this.write=function(){if(this.isCustomFormat)return this.input;for(var e=[],t=0;t<this.fieldDefintion.length;t++){this.fieldDefintion[t].segment in e||(e[this.fieldDefintion[t].segment]=new Wi);var n=this.fieldTypes[this.fieldDefintion[t].definitiontype],i=this.fieldDefintion[t].value;this.fieldDefintion[t].hasfixedvalue&&(i=this.fieldDefintion[t].fixedvalue);var o=this.fieldDefintion[t].length,a=this.fieldDefintion[t].size;e[this.fieldDefintion[t].segment][n.write](this.sanitizeType(i,n.jstype),o,a)}for(var r=0;r<e.length;r++)e[r]=e[r].getBase64CS();return this.input=e.join(this.segmentDelimiter),this.input},this.sanitizeType=function(e,t){if("[]"==t.substring(t.length-2)){t=t.substring(0,t.length-2),Array.isArray(e)||(e=[]);for(var n=0;n<e.length;n++)e[n]=this.sanitizeType(e[n],t);return e}switch(t){case"boolean":case"bool":return!0===e||1===e;case"number":case"int":return isNaN(parseInt(e))?0:parseInt(e);case"float":return isNaN(parseFloat(e))?0:parseFloat(e);case"string":return"string"==typeof e?e:"number"==typeof e?e+"":"";case"Date":case"date":case"datetime":return e instanceof Date&&!isNaN(e)?e:"number"==typeof e?new Date(e):new Date}return null},this.setValue=function(e,t){for(var n=!1,i=0;i<this.fieldDefintion.length;i++)if(this.fieldDefintion[i].name==e){var o=this.fieldTypes[this.fieldDefintion[i].definitiontype];this.fieldDefintion[i].value=this.sanitizeType(t,o.jstype),n=!0;break}return n},this.getValue=function(e){for(var t=0;t<this.fieldDefintion.length;t++)if(this.fieldDefintion[t].name==e){var n=this.fieldTypes[this.fieldDefintion[t].definitiontype],i=this.fieldDefintion[t].value;return this.fieldDefintion[t].hasfixedvalue&&(i=this.fieldDefintion[t].fixedvalue),this.sanitizeType(i,n.jstype)}return null},this.toObject=function(){for(var e={},t=0;t<this.fieldDefintion.length;t++){var n=this.fieldTypes[this.fieldDefintion[t].definitiontype];e[this.fieldDefintion[t].name]=this.sanitizeType(this.fieldDefintion[t].value,n.jstype)}return e}}var qi=new Hi(2,"tcfeuv2").addField("Version","int",6).addField("Created","datetime").addField("LastUpdated","datetime").addField("CmpId","int",12).addField("CmpVersion","int",12).addField("ConsentScreen","int",6).addField("ConsentLanguage","string",2).addField("VendorListVersion","int",12).addField("TcfPolicyVersion","int",6).addField("IsServiceSpecific","bool").addField("UseNonStandardStacks","bool").addField("SpecialFeatureOptIns","bits",12).addField("PurposeConsent","bits",24).addField("PurposesLITransparency","bits",24).addField("PurposeOneTreatment","bool").addField("PublisherCC","string",2).addField("VendorConsent","optimizedintrange").addField("VendorLegitimateInterest","optimizedintrange").addField("NumPubRestrictions","int",12),Ji=new Hi(7,"usnat").addField("Version","int",6).addField("SharingNotice","int",2).addField("SaleOptOutNotice","int",2).addField("SharingOptOutNotice","int",2).addField("TargetedAdvertisingOptOutNotice","int",2).addField("SensitiveDataProcessingOptOutNotice","int",2).addField("SensitiveDataLimitUseNotice","int",2).addField("SaleOptOut","int",2).addField("SharingOptOut","int",2).addField("TargetedAdvertisingOptOut","int",2).addField("SensitiveDataProcessing","nbits",12,0,2).addField("KnownChildSensitiveDataConsents","nbits",2,0,2).addField("PersonalDataConsents","int",2).addField("MspaCoveredTransaction","int",2).addField("MspaOptOutOptionMode","int",2).addField("MspaServiceProviderMode","int",2).addField("SubsectionType","int",2,1,0,!0,1).addField("Gpc","bool",1,1);function Ki(e){this.Version=1,this.SubVersions=[],this.Created="cmp_debug_overridetime"in window?window.cmp_debug_overridetime:new Date(1),this.LastUpdated="cmp_debug_overridetime"in window?window.cmp_debug_overridetime:new Date(1),this.CmpId=0,this.CmpVersion=0,this.ConsentScreen=0,this.ConsentLanguage="en",this.VendorListVersion=0,this.PurposesAllowed=[],this.VendorsAllowed=[],this.TcfPolicyVersion=2,this.IsServiceSpecific=1,this.UseNonStandardStacks=0,this.SpecialFeatureOptIns=[],this.PurposesLI=[],this.PurposeOneTreatment=0,this.PublisherCC="",this.VendorsLI=[],this.PublisherRestrictions=[],this.hasDisclosedVendors=!1,this.DisclosedVendors=[],this.hasAllowedVendors=!1,this.AllowedVendors=[],this.hasPublisherTC=!1,this.PubPurposesConsent=[],this.PubPurposesLI=[],this.CustomPurposesConsent=[],this.CustomPurposesLI=[],this.hasUserChoice=!1,this.CustomVendorsAllowed=[],this.gppManifests=[qi,Ji],this.gppVersion=1,this.gppSectionIds=[],this.gppSections=[],this.newFromManifest=function(e){for(var t=0;t<this.gppManifests.length;t++)if(this.gppManifests[t].sectionID==e)return this.gppManifests[t].clone()},this.fromString=function(e){if("B"==e.substring(0,1)){var t=new Gi(e);this.Version=t.readInt(6),this.SubVersions=[1],this.Created=t.readDate(),this.LastUpdated=t.readDate(),this.CmpId=t.readInt(12),this.CmpVersion=t.readInt(12),this.ConsentScreen=t.readInt(6),this.ConsentLanguage=t.readLang(),this.VendorListVersion=t.readInt(12),this.PurposesAllowed=t.readBitField(24);var n=t.readInt(16);t.readBool()?(t.readBool(),this.VendorsAllowed=t.readRange()):this.VendorsAllowed=t.readBitField(n)}else if("C"==e.substring(0,1)){var i=e.split(".");t=new Gi(e=i[0]);this.Version=t.readInt(6),this.SubVersions=[2],this.Created=t.readDate(),this.LastUpdated=t.readDate(),this.CmpId=t.readInt(12),this.CmpVersion=t.readInt(12),this.ConsentScreen=t.readInt(6),this.ConsentLanguage=t.readLang(),this.VendorListVersion=t.readInt(12),this.TcfPolicyVersion=t.readInt(6),this.IsServiceSpecific=t.readBool(),this.UseNonStandardStacks=t.readBool(),this.SpecialFeatureOptIns=t.readBitField(12),this.PurposesAllowed=t.readBitField(24),this.PurposesLI=t.readBitField(24),this.PurposeOneTreatment=t.readBool(),this.PublisherCC=t.readLang();n=t.readInt(16);t.readBool()?this.VendorsAllowed=t.readRange():this.VendorsAllowed=t.readBitField(n);n=t.readInt(16);if(t.readBool()?this.VendorsLI=t.readRange():this.VendorsLI=t.readBitField(n),this.IsServiceSpecific){this.PublisherRestrictions=[];for(var o=t.readInt(12),a=0;a<o;a++){var r=t.readInt(6),s=t.readInt(2),c=t.readRange();this.PublisherRestrictions.push({purposeID:r,type:s,vendors:c})}}this.hasDisclosedVendors=!1,this.hasAllowedVendors=!1,this.hasPublisherTC=!1;for(a=1;a<i.length;a++){var l=(t=new Gi(i[a])).readInt(3);if(1==l){this.hasDisclosedVendors=!0;n=t.readInt(16);t.readBool()?this.DisclosedVendors=t.readRange():this.DisclosedVendors=t.readBitField(n)}else if(2==l){this.hasAllowedVendors=!0;n=t.readInt(16);t.readBool()?this.AllowedVendors=t.readRange():this.AllowedVendors=t.readBitField(n)}else if(3==l){this.hasPublisherTC=!0,this.PubPurposesConsent=t.readBitField(24),this.PubPurposesLI=t.readBitField(24);var u=t.readInt(6);this.CustomPurposesConsent=t.readBitField(u),this.CustomPurposesLI=t.readBitField(u)}}}else if("D"==e.substring(0,1)){var d=(i=e.split("~"))[0];t=new Gi("",this.fromB64ws(d));this.Version=t.readInt(6),this.SubVersions=[],this.gppVersion=t.readInt(6),this.gppSectionIds=t.readRangeFibo(),this.gppSections=[];for(a=1;a<i.length;a++){for(var p=this.gppSectionIds.length>=a?this.gppSectionIds[a-1]:0,h=i[a],f=null,b=0;b<this.gppManifests.length;b++)if(this.gppManifests[b].sectionID==p){f=this.gppManifests[b].clone();break}if(null==f&&(f=new Hi(p,"",!0)),f.read(h),2==p){var g=new Ki(h);this.SubVersions.push(2),this.Created=g.Created,this.LastUpdated=g.LastUpdated,this.CmpId=g.CmpId,this.CmpVersion=g.CmpVersion,this.ConsentScreen=g.ConsentScreen,this.ConsentLanguage=g.ConsentLanguage,this.VendorListVersion=g.VendorListVersion,this.PurposesAllowed=g.PurposesAllowed,this.VendorsAllowed=g.VendorsAllowed,this.TcfPolicyVersion=g.TcfPolicyVersion,this.IsServiceSpecific=g.IsServiceSpecific,this.UseNonStandardStacks=g.UseNonStandardStacks,this.SpecialFeatureOptIns=g.SpecialFeatureOptIns,this.PurposesLI=g.PurposesLI,this.PurposeOneTreatment=g.PurposeOneTreatment,this.PublisherCC=g.PublisherCC,this.VendorsLI=g.VendorsLI,this.PublisherRestrictions=g.PublisherRestrictions}else 5==p&&(this.SubVersions.push(5),this.Created=f.getValue("Created"),this.LastUpdated=f.getValue("LastUpdated"),this.CmpId=f.getValue("CmpId"),this.CmpVersion=f.getValue("CmpVersion"),this.ConsentScreen=f.getValue("ConsentScreen"),this.ConsentLanguage=f.getValue("ConsentLanguage"),this.VendorListVersion=f.getValue("VendorListVersion"),this.PurposesAllowed=f.getValue("PurposesExpressConsent"),this.VendorsAllowed=f.getValue("VendorExpressConsent"),this.TcfPolicyVersion=f.getValue("TcfPolicyVersion"),this.UseNonStandardStacks=f.getValue("UseNonStandardStacks"),this.SpecialFeatureOptIns=f.getValue("SpecialFeatureExpressConsent"),this.PurposesLI=f.getValue("PurposesImpliedConsent"),this.VendorsLI=f.getValue("VendorImpliedConsent"));this.gppSections.push(f)}}else if("a"==e.substring(0,1)){(t=new Gi(e)).readInt(6),this.Version=t.readInt(6),this.SubVersions=[99],1==this.Version&&(this.Created=t.readDate(),this.hasUserChoice=t.readBool(),this.PurposesAllowed=t.readRange(),this.VendorsAllowed=t.readRange(),this.CustomVendorsAllowed=t.readRange())}},this.toString=function(e){if("boolean"!=typeof e&&(e=!0),e){if(this.Version<=1){for(var t=0,n=0;n<this.VendorsAllowed.length;n++)t<this.VendorsAllowed[n]&&(t=this.VendorsAllowed[n]);(m=new Wi).writeInt(1,6),m.writeDate("cmp_debug_overridetime"in window?window.cmp_debug_overridetime:this.Created),m.writeDate("cmp_debug_overridetime"in window?window.cmp_debug_overridetime:this.LastUpdated),m.writeInt(this.CmpId,12),m.writeInt(this.CmpVersion,12),m.writeInt(this.ConsentScreen,6),m.writeLang(this.ConsentLanguage),m.writeInt(this.VendorListVersion,12),m.writeBitField(this.PurposesAllowed,24),m.writeInt(t,16);var i=m.getCS();m.clear(),m.writeBool(!1),m.writeBitField(this.VendorsAllowed,t);var o=i+m.getCS();m.clear(),m.writeBool(!0),m.writeBool(!1),m.writeRange(this.VendorsAllowed);var a=i+m.getCS();return o.length>a.length?m.setCS(a):m.setCS(o),m.getBase64CS()}if(2==this.Version){if((m=new Wi).writeInt(2,6),this.LastUpdated.setHours(0),this.LastUpdated.setMinutes(0),this.LastUpdated.setSeconds(0),this.LastUpdated.setMilliseconds(0),m.writeDate("cmp_debug_overridetime"in window?window.cmp_debug_overridetime:this.LastUpdated),m.writeDate("cmp_debug_overridetime"in window?window.cmp_debug_overridetime:this.LastUpdated),m.writeInt(this.CmpId,12),m.writeInt(this.CmpVersion,12),m.writeInt(this.ConsentScreen,6),m.writeLang(this.ConsentLanguage),m.writeInt("cmp_debug_gvlversion"in window?window.cmp_debug_gvlversion:this.VendorListVersion,12),m.writeInt(this.TcfPolicyVersion,6),m.writeBool(!0),m.writeBool(this.UseNonStandardStacks),m.writeBitField(this.SpecialFeatureOptIns,12),m.writeBitField(this.PurposesAllowed,24),m.writeBitField(this.PurposesLI,24),m.writeBool(this.PurposeOneTreatment),2!=this.PublisherCC.length&&(this.PublisherCC="EU"),m.writeLang(this.PublisherCC),m.writeBitFieldOrRange(this.VendorsAllowed),m.writeBitFieldOrRange(this.VendorsLI),this.IsServiceSpecific){m.writeInt(this.PublisherRestrictions.length,12);for(n=0;n<this.PublisherRestrictions.length;n++){var r=this.PublisherRestrictions[n];m.writeInt(r.purposeID,6),m.writeInt(r.type,2),m.writeRange(r.vendors)}}else m.writeInt(0,12);var s=m.getBase64CS(),c="",l="",u="";if(this.hasDisclosedVendors&&((m=new Wi).writeInt(1,3),m.writeBitFieldOrRange(this.DisclosedVendors),c=m.getBase64CS()),this.hasAllowedVendors&&((m=new Wi).writeInt(2,3),m.writeBitFieldOrRange(this.AllowedVendors),l=m.getBase64CS()),this.hasPublisherTC){(m=new Wi).writeInt(3,3),m.writeBitField(this.PubPurposesConsent,24),m.writeBitField(this.PubPurposesLI,24);var d=0;for(n=0;n<this.CustomPurposesConsent.length;n++)this.CustomPurposesConsent[n]>d&&(d=this.CustomPurposesConsent[n]);for(n=0;n<this.CustomPurposesLI.length;n++)this.CustomPurposesLI[n]>d&&(d=this.CustomPurposesLI[n]);m.writeInt(d,6),m.writeBitField(this.CustomPurposesConsent,d),m.writeBitField(this.CustomPurposesLI,d),u=m.getBase64CS()}return s+(c.length>0?".":"")+c+(l.length>0?".":"")+l+(u.length>0?".":"")+u}if(3==this.Version){for(n=0;n<this.SubVersions.length;n++)if(2==this.SubVersions[n]){var p=new Ki("");p.Version=2,p.Created=this.Created,p.LastUpdated=this.LastUpdated,p.CmpId=this.CmpId,p.CmpVersion=this.CmpVersion,p.ConsentScreen=this.ConsentScreen,p.ConsentLanguage=this.ConsentLanguage,p.VendorListVersion=this.VendorListVersion,p.PurposesAllowed=this.PurposesAllowed,p.VendorsAllowed=this.VendorsAllowed,p.TcfPolicyVersion=this.TcfPolicyVersion,p.IsServiceSpecific=this.IsServiceSpecific,p.UseNonStandardStacks=this.UseNonStandardStacks,p.SpecialFeatureOptIns=this.SpecialFeatureOptIns,p.PurposesLI=this.PurposesLI,p.PurposeOneTreatment=this.PurposeOneTreatment,p.PublisherCC=this.PublisherCC,p.VendorsLI=this.VendorsLI,p.PublisherRestrictions=this.PublisherRestrictions;var h=p.toString();(f=this.newFromManifest(2)).isCustomFormat=!0,f.read(h),-1==this.gppSectionIds.indexOf(2)?(this.gppSections.push(f),this.gppSectionIds.push(2)):this.gppSections[this.gppSectionIds.indexOf(2)]=f}else if(5==this.SubVersions[n]){var f;(f=this.newFromManifest(5)).setValue("Version",1),f.setValue("Created",this.Created),f.setValue("LastUpdated",this.LastUpdated),f.setValue("CmpId",this.CmpId),f.setValue("CmpVersion",this.CmpVersion),f.setValue("ConsentScreen",this.ConsentScreen),f.setValue("ConsentLanguage",this.ConsentLanguage),f.setValue("VendorListVersion",this.VendorListVersion),f.setValue("PurposesExpressConsent",this.PurposesAllowed),f.setValue("VendorExpressConsent",this.VendorsAllowed),f.setValue("TcfPolicyVersion",this.TcfPolicyVersion),f.setValue("UseNonStandardStacks",this.UseNonStandardStacks),f.setValue("SpecialFeatureExpressConsent",this.SpecialFeatureOptIns),f.setValue("PurposesImpliedConsent",this.PurposesLI),f.setValue("VendorImpliedConsent",this.VendorsLI),-1==this.gppSectionIds.indexOf(5)?(this.gppSections.push(f),this.gppSectionIds.push(5)):this.gppSections[this.gppSectionIds.indexOf(5)]=f}(m=new Wi).writeInt(3,6),m.writeInt(this.gppVersion,6);var b=[],g=[];this.gppSections.sort((function(e,t){return parseInt(e.sectionID)<parseInt(t.sectionID)?-1:parseInt(e.sectionID)>parseInt(t.sectionID)?1:0}));for(n=0;n<this.gppSections.length;n++)-1==b.indexOf(this.gppSections[n].sectionID)&&(b.push(this.gppSections[n].sectionID),g.push(this.gppSections[n].write()));return this.gppSectionIds=b,m.writeRangeFibo(b),g.unshift(this.toB64ws(m.getCS())),g.join("~")}}else{var m;if(this.Version<=1)return(m=new Wi).writeInt(26,6),m.writeInt(1,6),m.writeDate("cmp_debug_overridetime"in window?window.cmp_debug_overridetime:this.Created),m.writeBool(this.hasUserChoice),m.writeRange(this.PurposesAllowed),m.writeRange(this.VendorsAllowed),m.writeRange(this.CustomVendorsAllowed),m.getBase64CS()}},this.setGppField=function(e,t,n){for(var i=-1,o=0;o<this.gppSections.length;o++)this.gppSections[o].apiPrefix==e&&(i=o);if(-1==i)for(o=0;o<this.gppManifests.length;o++)if(this.gppManifests[o].apiPrefix==e){this.gppSections.push(this.gppManifests[o].clone()),i=this.gppSections.length-1;break}return!!this.gppSections[i]&&this.gppSections[i].setValue(t,n)},this.getGppField=function(e,t){for(var n=-1,i=0;i<this.gppSections.length;i++)this.gppSections[i].apiPrefix==e&&(n=i);return this.gppSections[n]?this.gppSections[n].getValue(t):null},this.hasGppField=function(e,t){return null===this.getGppField(e,t)},this.b64wschars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",this.toB64ws=function(e){for(var t="";e.length%6!=0;)e+="0";for(var n=0;n<e.length;n+=6){var i=e.substring(n,n+6),o=parseInt(i,2);t+=this.b64wschars.substring(o,o+1)}return t},this.fromB64ws=function(e){for(var t="",n=0;n<e.length;n++){var i=e.charAt(n),o=this.b64wschars.indexOf(i);if(-1==o)break;for(var a=o.toString(2);a.length<6;)a="0"+a;t+=a}return t},"string"==typeof e&&""!=e&&this.fromString(e)}var Yi=function(){function e(t,n){i(this,e),this.manager=t,this.model=n}return a(e,[{key:"sectionId",value:function(){throw new Error("Not implemented")}},{key:"update",value:function(){throw new Error("Not implemented")}},{key:"getString",value:function(){throw new Error("Not implemented")}},{key:"getSection",value:function(){throw new Error("Not implemented")}},{key:"getField",value:function(){throw new Error("Not implemented")}},{key:"customCommands",value:function(){return{}}}],[{key:"sectionName",value:function(){throw new Error("Not implemented")}}]),e}(),Xi=function(){function e(t){i(this,e),this.model=t,this.plugins={}}return a(e,[{key:"register",value:function(e){if(!((null==e?void 0:e.prototype)instanceof Yi)||(null==e?void 0:e.prototype)===Yi.prototype)throw new TypeError("plugin is not valid");var t=e.sectionName();t in this.plugins?console.warn("A plugin for section ".concat(t," already exists")):this.plugins[t]=new e(this,this.model)}},{key:"get",value:function(e){return this.plugins[e]}},{key:"sectionNames",value:function(){return Object.keys(this.plugins)}},{key:"sectionIds",value:function(){var e=this;return this.sectionNames().map((function(t){return e.plugins[t].sectionId()}))}}]),e}(),$i=function(){function e(t,n){var o=this,a=t.cmpId,r=t.plugins,s=t.applicableApis;i(this,e),this.model=new Ri(a,n),this.model.setFireEvent(this.fireEvent.bind(this));var c=new Xi(this.model.data);this.pluginManager=c,r.forEach((function(e){return c.register(e)})),this.model.data.supportedAPIs=c.sectionNames(),this.model.data.supportedAPIs_1_1=c.sectionNames().map((function(e){return"".concat(c.get(e).sectionId(),":").concat(e)})),this.model.data.applicableSections=s.filter((function(e){return-1!==o.model.data.supportedAPIs.indexOf(e)})).map((function(e){return c.get(e).sectionId()})),this.callResponder=new Ui(this.model,c,n),this.fireEvent("cmpStatus",this.model.data.cmpStatus)}return a(e,[{key:"fireEvent",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=zi.reduce((function(e,t){return e[t]=n.model.getPingData(t),e}),{}),a=ji(i);this.callResponder.events.forEach((function(n){var i=n.id,r=n.callback,s=n.version,c=ji(void 0===s?1:s);try{a&&a!==c||r({eventName:e,listenerId:i,data:t,pingData:o[c]})}catch(t){console.error("Error occured in while handling event '".concat(e,"' by listener ").concat(i,":"),t)}}))}},{key:"setParsedSections",value:function(e){var t=this;this.model.data.parsedSections={},e.forEach((function(e){var n=null==e?void 0:e.parsedSection,i=null==n?void 0:n.apiPrefix;t.model.data.parsedSections[i]=null==n?void 0:n.toObject()}))}},{key:"update",value:function(e,t){var n,i,o=this,a=e.updatedSections,s=e.displayStatus,c=[];if(this.model.data.cmpStatus===Oi&&(this.model.data.cmpStatus=Bi,c.push(["cmpStatus",Bi])),s&&s!==this.model.data.cmpDisplayStatus&&(this.model.data.cmpDisplayStatus=s,c.push(["cmpDisplayStatus",s])),a){Object.keys(a).forEach((function(e){var t=o.pluginManager.get(e);t&&(t.update(a[e])&&(o.model.data.gppUpdatedSectionIds[t.sectionId()]=!0,c.push(["sectionChange",e])))}));var l=this.pluginManager.sectionNames().map((function(e){return o.pluginManager.get(e)})).filter((function(e){return e.sectionId()in o.model.data.gppUpdatedSectionIds}));this.setParsedSections(l),this.model.data.gppString=(n=l,(i=new Ki).Version=3,i.gppSections=n.map((function(e){return{sectionID:e.sectionId(),write:function(){return e.getString()}}})),i.toString())}if(t!==Ei){var u,d=(r(u={},Fi,Ti),r(u,Ni,Di),u);if(this.model.data.signalStatus!==d[t])switch(this.model.data.signalStatus=d[t],t){case Fi:c.unshift(["signalStatus",this.model.data.signalStatus,"1.1"]);break;case Ni:c.push(["signalStatus",this.model.data.signalStatus,"1.1"])}}c.forEach((function(e){return o.fireEvent.apply(o,f(e))}))}}]),e}();function Zi(){this.ncache=[1,2,3,5,8,13,21,34,55,89,144,233],this.ecache=[],this.maxfibo=30,this.fibo=function(e){if(e in this.ncache)return this.ncache[e];var t=e-1,n=e-2;if(t in this.ncache&&n in this.ncache)return this.ncache[e]=this.ncache[t]+this.ncache[n],this.ncache[e];for(var i=0,o=1,a=0,r=0;r<e;r++)a=i,i=o,o+=a;return this.ncache[e]=i,i},this.largeOrEqual=function(e){for(var t=0,n=1;n<this.maxfibo&&this.fibo(n)<=e;n++)t=n;return t},this.encode=function(e){if(e<=0)return"";if(e in this.ecache)return this.ecache[e];for(var t=e,n=this.largeOrEqual(e),i=[],o=0;o<n+3;o++)i[o]=0;o=n;for(var a=0;e>0&&a<=this.maxfibo&&o>=0;)for(a++,i[o]="1",e-=this.fibo(o),o--;o>=0&&this.ncache[o]>e;)i[o]="0",o--;return i[n+1]="1",i=i.slice(0,n+2),this.ecache[t]=i.join(""),this.ecache[t]},this.decode=function(e){if(""==e)return 0;for(var t=(e=e.substring(0,e.length-1)).length,n=0,i=0;i<t;i++)"1"==e.substring(i,i+1)&&(n+=this.fibo(i));return n}}function Qi(e,t){this.rpl=function(e,t,n){return e.split(t).join(n)},this.repeat=function(e){for(var t="",n=0;n<e;n++)t+="0";return t},this.padLeft=function(e,t){return this.repeat(Math.max(0,t))+e},this.base64toBits=function(e){for(e=this.rpl(e,"%2B","+"),e=this.rpl(e,"%2F","/"),e=this.rpl(e,"-","+"),e=this.rpl(e,"_","/"),e=this.rpl(e," ","+"),e=this.rpl(e,"%2B","+");e.length%4!=0;)e+="=";var t;try{t=window.atob2(e)}catch(n){try{t=window.atob(e)}catch(e){t=""}}for(var n="",i=0;i<t.length;i++){var o=t.charCodeAt(i).toString(2);n+=this.padLeft(o,8-o.length)}return n},this.read=function(e){var t=this.cs.substring(0,e);return this.cs=this.cs.substring(e,99999999),t},this.readInt=function(e){return parseInt(this.read(e),2)},this.readIntFibo=function(){var e=this.cs.substring(0,this.cs.indexOf("11")+2);return""!=e?(this.cs=this.cs.substring(e.length),this.fibo.decode(e)):""},this.readDate=function(){return new Date(100*this.readInt(36))},this.readLang=function(){return this.readString(2).toLowerCase()},this.readString=function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(this.readInt(6)+65);return t},this.readBool=function(){return 1===parseInt(this.read(1),2)},this.readBitField=function(e){var t=this.read(e);if(""===t)return[];t=t.split("");for(var n=[],i=0;i<e;i++)1===parseInt(t[i])&&-1===n.indexOf(i+1)&&n.push(i+1);return n},this.readNBitField=function(e,t){for(var n=[],i=1;i<=e;i++)n.push(this.readInt(t));return n},this.readVarBitField=function(){var e=this.readInt(16);return this.readBitField(e)},this.readRange=function(){for(var e=this.readInt(12),t=[],n=0,i=0,o=0;o<e;o++){this.readBool()?(n=this.readInt(16),i=this.readInt(16)):i=n=this.readInt(16);for(var a=n;a<=i;a++)a<1||t.push(a)}return t},this.readRangeFibo=function(){for(var e=this.readInt(12),t=[],n=0,i=0,o=0,a=0;a<e;a++){o=i=this.readBool()?(n=this.readIntFibo()+o)+this.readIntFibo():n=this.readIntFibo()+o;for(var r=n;r<=i;r++)r<1||t.push(r)}return t},this.readOptimizedRange=function(){return!0===this.readBool()?this.readRangeFibo():this.readVarBitField()},this.readOptimizedIntRange=function(){var e=this.readInt(16);return!0===this.readBool()?this.readRange():this.readBitField(e)},this.cs="string"==typeof t&&""!==t?t:this.base64toBits(e),this.fibo=new Zi}function eo(){this.cs="",this.fibo=new Zi,this.clear=function(){this.cs=""},this.getCS=function(){return this.cs},this.setCS=function(e){this.cs=e},this.getBase64CS=function(){return this.bitsToBase64(this.cs)},this.rpl=function(e,t,n){return e.split(t).join(n)},this.repeat=function(e){for(var t="",n=0;n<e;n++)t+="0";return t},this.padRight=function(e,t){return e+this.repeat(Math.max(0,t))},this.bitsToBase64=function(e){if(e){e=this.padRight(e,7-(e.length+7)%8);for(var t="",n=0;n<e.length;n+=8)t+=String.fromCharCode(parseInt(e.substring(n,n+8),2));var i=t;try{t=window.btoa2(i)}catch(e){try{t=window.btoa(i)}catch(e){t=""}}return t=this.rpl(t,"+","-"),t=this.rpl(t,"/","_"),t=(t=this.rpl(t," ","+")).replace(/=+$/,"")}return null},this.padLeft=function(e,t){return this.repeat(Math.max(0,t))+e},this.repeat=function(e){for(var t="",n=0;n<e;n++)t+="0";return t},this.getMaxId=function(e){for(var t=0,n=0;n<e.length;n++)t<e[n]&&(t=e[n]);return t},this.write=function(e){this.cs+=e},this.writeBool=function(e){this.writeInt(!0===e||1===e?1:0,1)},this.writeInt=function(e,t){var n;t>=(n=parseInt(e,10).toString(2)).length&&(n=this.padLeft(n,t-n.length)),n.length>t&&(n=n.substring(0,t)),this.write(n)},this.writeDate=function(e){e instanceof Date?this.writeInt(e.getTime()/100,36):this.writeInt(e,36)},this.writeString=function(e,t){for(e=e.substring(e,t);e.length<t;)e+=" ";for(var n=0;n<e.length;n++)this.writeInt(e.substring(n,n+1).toUpperCase().charCodeAt(0)-65,6)},this.writeLang=function(e){this.writeString(e.substring(0,2),2)},this.writeBitField=function(e,t){for(var n=1;n<=t;n++)this.writeBool(-1!==cmp_fnd(e,n))},this.writeNBitField=function(e,t,n){for(var i=0;i<t;i++)this.writeInt(i in e?parseInt(e[i]):0,n)},this.writeVarBitField=function(e){var t=this.getMaxId(e);this.writeInt(t,16),this.writeBitField(e,t)},this.ids2range=function(e){for(e.sort((function(e,t){return parseInt(e)<parseInt(t)?-1:parseInt(e)>parseInt(t)?1:0}));e.length>0&&0===e[0];)e.shift();for(var t=[],n=0,i=0,o=0,a=0,r=0;r<e.length;r++)o=parseInt(e[r]),0===r&&(n=o,i=o),i<o-1&&(a=i,t.push({s:n,e:i}),n=o),i=o;return n>0&&a!=i&&t.push({s:n,e:i}),t},this.writeRange=function(e){var t=this.ids2range(e);this.writeInt(t.length,12);for(var n=0;n<t.length;n++)t[n].s<t[n].e?(this.writeBool(!0),this.writeInt(t[n].s,16),this.writeInt(t[n].e,16)):(this.writeBool(!1),this.writeInt(t[n].s,16))},this.writeBitFieldOrRange=function(e){var t=this.getMaxId(e);this.writeInt(t,16);var n=this.cs;this.cs="",this.writeBool(!1),this.writeBitField(e,t);var i=this.cs;this.cs="",this.writeBool(!0),this.writeRange(e);var o=this.cs;i.length>o.length?n+=o:n+=i,this.cs=n},this.writeIntFibo=function(e){this.cs+=this.fibo.encode(e)},this.writeRangeFibo=function(e){var t=this.ids2range(e),n=t.length;this.writeInt(n,12);for(var i=0,o=0;o<n;o++)t[o].s<t[o].e?(this.writeBool(!0),this.writeIntFibo(t[o].s-i),this.writeIntFibo(t[o].e-t[o].s),i=t[o].e):(this.writeBool(!1),this.writeIntFibo(t[o].s-i),i=t[o].s)},this.writeOptimizedRange=function(e){var t=this.cs;this.cs=t,this.writeBool(0),this.writeVarBitField(e);var n=this.cs;this.cs=t,this.writeBool(1),this.writeRangeFibo(e);var i=this.cs;this.cs=n.length<=i.length?n:i},this.writeOptimizedIntRange=function(e){var t=this.getMaxId(e),n=this.cs;this.cs=n,this.writeInt(t,16),this.writeBool(0),this.writeBitField(e,t);var i=this.cs;this.cs=n,this.writeInt(t,16),this.writeBool(1),this.writeRange(e);var o=this.cs;this.cs=i.length<=o.length?i:o}}function to(e,t,n){"boolean"!=typeof n&&(n=!1),this.sectionID=e,this.apiPrefix=t,this.isCustomFormat=n,this.subsectionDelimiter=".",this.fieldDefinition=[],this.input="",this.disabledCommands=[],this.fieldTypes={bool:{read:"readBool",write:"writeBool",jstype:"boolean"},int:{read:"readInt",write:"writeInt",jstype:"number",requireLength:!0},fibo:{read:"readIntFibo",write:"writeIntFibo",jstype:"number"},date:{read:"readDate",write:"writeDate",jstype:"Date"},datetime:{read:"readDate",write:"writeDate",jstype:"Date"},lang:{read:"readLang",write:"writeLang",jstype:"string"},string:{read:"readString",write:"writeString",jstype:"string",requireLength:!0},bits:{read:"readBitField",write:"writeBitField",jstype:"number[]",requireLength:!0},varbits:{read:"readVarBitField",write:"writeVarBitField",jstype:"number[]"},nbits:{read:"readNBitField",write:"writeNBitField",jstype:"number[]",requireLength:!0,requireSize:!0},range:{read:"readRange",write:"writeRange",jstype:"number[]"},rangefibo:{read:"readRangeFibo",write:"writeRangeFibo",jstype:"number[]"},optimizedrange:{read:"readOptimizedRange",write:"writeOptimizedRange",jstype:"number[]"},optimizedintrange:{read:"readOptimizedIntRange",write:"writeOptimizedIntRange",jstype:"number[]"}},this.clone=function(){var e=new to(this.sectionID,this.apiPrefix,this.isCustomFormat);return e.fieldDefinition=JSON.parse(JSON.stringify(this.fieldDefinition)),e.input=this.input,e.disabledCommands=JSON.parse(JSON.stringify(this.disabledCommands)),e},this.addField=function(e,t,n,i,o,a,r){return"number"!=typeof n&&(n=0),"number"!=typeof i&&(i=0),"number"!=typeof o&&(o=0),"boolean"!=typeof a&&(a=!1),null!=r&&a||(r=!1),t in this.fieldTypes&&this.fieldDefinition.push({name:e,definitiontype:t,length:n,size:o,subsectionIndex:i,value:null,hasfixedvalue:a,fixedvalue:r,read:this.fieldTypes[t].read,write:this.fieldTypes[t].write,jstype:this.fieldTypes[t].jstype}),this},this.disableAPICommand=function(e){return this.disabledCommands.push(e),this},this.read=function(e){if(this.input=e,this.isCustomFormat)return!1;for(var t=e.split(this.subsectionDelimiter),n=0;n<t.length;n++)for(var i=new Qi(t[n]),o=0;o<this.fieldDefinition.length;o++)if(this.fieldDefinition[o].subsectionIndex==n){var a=this.fieldTypes[this.fieldDefinition[o].definitiontype];this.fieldDefinition[o].value=this.sanitizeType(i[a.read](this.fieldDefinition[o].length,this.fieldDefinition[o].size),a.jstype)}},this.write=function(){if(this.isCustomFormat)return this.input;for(var e=[],t=0;t<this.fieldDefinition.length;t++){this.fieldDefinition[t].subsectionIndex in e||(e[this.fieldDefinition[t].subsectionIndex]=new eo);var n=this.fieldTypes[this.fieldDefinition[t].definitiontype],i=this.fieldDefinition[t].value;this.fieldDefinition[t].hasfixedvalue&&(i=this.fieldDefinition[t].fixedvalue);var o=this.fieldDefinition[t].length,a=this.fieldDefinition[t].size;e[this.fieldDefinition[t].subsectionIndex][n.write](this.sanitizeType(i,n.jstype),o,a)}for(var r=0;r<e.length;r++)e[r]=e[r].getBase64CS();return this.input=e.join(this.subsectionDelimiter),this.input},this.sanitizeType=function(e,t){if("[]"==t.substring(t.length-2)){t=t.substring(0,t.length-2),Array.isArray(e)||(e=[]);for(var n=0;n<e.length;n++)e[n]=this.sanitizeType(e[n],t);return e}switch(t){case"boolean":case"bool":return!0===e||1===e;case"number":case"int":return isNaN(parseInt(e))?0:parseInt(e);case"float":return isNaN(parseFloat(e))?0:parseFloat(e);case"string":return"string"==typeof e?e:"number"==typeof e?e+"":"";case"Date":case"date":case"datetime":return e instanceof Date&&!isNaN(e)?e:"number"==typeof e?new Date(e):new Date}return null},this.setValue=function(e,t){for(var n=!1,i=0;i<this.fieldDefinition.length;i++)if(this.fieldDefinition[i].name==e){var o=this.fieldTypes[this.fieldDefinition[i].definitiontype];this.fieldDefinition[i].value=this.sanitizeType(t,o.jstype),n=!0;break}return n},this.getValue=function(e){for(var t=0;t<this.fieldDefinition.length;t++)if(this.fieldDefinition[t].name==e){var n=this.fieldTypes[this.fieldDefinition[t].definitiontype],i=this.fieldDefinition[t].value;return this.fieldDefinition[t].hasfixedvalue&&(i=this.fieldDefinition[t].fixedvalue),this.sanitizeType(i,n.jstype)}return null},this.toObject=function(){for(var e=[],t=0,n={},i=!0,o=0;o<this.fieldDefinition.length;o++){var a=this.fieldTypes[this.fieldDefinition[o].definitiontype];this.fieldDefinition[o].subsectionIndex!=t&&(i||e.push(n),n={},i=!0,t=this.fieldDefinition[o].subsectionIndex);var r=this.fieldDefinition[o].value;this.fieldDefinition[o].hasfixedvalue&&(r=this.fieldDefinition[o].fixedvalue),n[this.fieldDefinition[o].name]=this.sanitizeType(r,a.jstype),i=!1}return i||e.push(n),e}}var no=new to(2,"tcfeuv2").addField("Version","int",6).addField("Created","datetime").addField("LastUpdated","datetime").addField("CmpId","int",12).addField("CmpVersion","int",12).addField("ConsentScreen","int",6).addField("ConsentLanguage","string",2).addField("VendorListVersion","int",12).addField("TcfPolicyVersion","int",6).addField("IsServiceSpecific","bool").addField("UseNonStandardStacks","bool").addField("SpecialFeatureOptIns","bits",12).addField("PurposeConsent","bits",24).addField("PurposesLITransparency","bits",24).addField("PurposeOneTreatment","bool").addField("PublisherCC","string",2).addField("VendorConsent","optimizedintrange").addField("VendorLegitimateInterest","optimizedintrange").addField("NumPubRestrictions","int",12).disableAPICommand("getSection"),io=function(e){s(n,e);var t=p(n);function n(e,o){var a,r,s;return i(this,n),s=t.call(this,e,o),null===(a=(r=window).__tcfapi)||void 0===a||a.call(r,"addEventListener",2,(function(e,t){t&&o.fireEvent(n.sectionName(),e)})),s}return a(n,[{key:"sectionId",value:function(){return 2}},{key:"update",value:function(e){if(!e||e===this.tcString)return!1;var t=qi.clone();t.isCustomFormat=!1,t.read(e);var n=no.clone();return n.isCustomFormat=!1,n.read(e),this.parsedSection=t,this.parsedSection_1_1=n,this.tcString=e,!0}},{key:"getString",value:function(){var e;return null!==(e=this.tcString)&&void 0!==e?e:""}},{key:"getSection",value:function(e){var t,n,i,o;return 1===e?null!==(i=null===(o=this.parsedSection)||void 0===o?void 0:o.toObject())&&void 0!==i?i:null:null!==(t=null===(n=this.parsedSection_1_1)||void 0===n?void 0:n.toObject())&&void 0!==t?t:null}},{key:"getField",value:function(e,t){var n,i,o,a;return 1===e?null!==(o=null===(a=this.parsedSection)||void 0===a?void 0:a.getValue(t))&&void 0!==o?o:void 0:null!==(n=null===(i=this.parsedSection_1_1)||void 0===i?void 0:i.getValue(t))&&void 0!==n?n:void 0}},{key:"customCommands",value:function(){return{getTCData:n.getTCData}}}],[{key:"sectionName",value:function(){return"tcfeuv2"}},{key:"getTCData",value:function(e){var t,n;null===(t=(n=window).__tcfapi)||void 0===t||t.call(n,"addEventListener",2,(function(t,n){var i;null===(i=window.__tcfapi)||void 0===i||i.__tcfapi("removeEventListener",2,(function(){}),t.listenerId),e(t,n)}))}}]),n}(Yi),oo=new to(7,"usnat").addField("Version","int",6).addField("SharingNotice","int",2).addField("SaleOptOutNotice","int",2).addField("SharingOptOutNotice","int",2).addField("TargetedAdvertisingOptOutNotice","int",2).addField("SensitiveDataProcessingOptOutNotice","int",2).addField("SensitiveDataLimitUseNotice","int",2).addField("SaleOptOut","int",2).addField("SharingOptOut","int",2).addField("TargetedAdvertisingOptOut","int",2).addField("SensitiveDataProcessing","nbits",12,0,2).addField("KnownChildSensitiveDataConsents","nbits",2,0,2).addField("PersonalDataConsents","int",2).addField("MspaCoveredTransaction","int",2).addField("MspaOptOutOptionMode","int",2).addField("MspaServiceProviderMode","int",2).addField("SubsectionType","int",2,1,0,!0,1).addField("Gpc","bool",1,1),ao=function(e){s(n,e);var t=p(n);function n(e,o){return i(this,n),t.call(this,e,o)}return a(n,[{key:"sectionId",value:function(){return 7}},{key:"update",value:function(e){if(!e||e===this.usnatString)return!1;var t=Ji.clone();t.isCustomFormat=!1,t.read(e);var n=oo.clone();return n.isCustomFormat=!1,n.read(e),this.parsedSection=t,this.parsedSection_1_1=n,this.usnatString=e,!0}},{key:"getString",value:function(){var e;return null!==(e=this.usnatString)&&void 0!==e?e:""}},{key:"getSection",value:function(e){var t,n,i,o;return 1===e?null!==(i=null===(o=this.parsedSection)||void 0===o?void 0:o.toObject())&&void 0!==i?i:null:null!==(t=null===(n=this.parsedSection_1_1)||void 0===n?void 0:n.toObject())&&void 0!==t?t:null}},{key:"getField",value:function(e,t){var n,i,o,a;return 1===e?null!==(o=null===(a=this.parsedSection)||void 0===a?void 0:a.getValue(t))&&void 0!==o?o:void 0:null!==(n=null===(i=this.parsedSection_1_1)||void 0===i?void 0:i.getValue(t))&&void 0!==n?n:void 0}},{key:"customCommands",value:function(){return{}}}],[{key:"sectionName",value:function(){return"usnat"}}]),n}(Yi);function ro(e,t){return"boolean"==typeof e?t?e?2:1:e?1:2:0}var so=function(){function e(){i(this,e)}return a(e,[{key:"encode",value:function(e){var t,n=e.noticeShown,i=e.preferences,o=i.hasSensetiveData,a=i.purposes,r=Ji.clone();return r.isCustomFormat=!1,r.setValue("Version",1),r.setValue("SharingNotice",ro("sh"in a?n:null)),r.setValue("SaleOptOutNotice",ro("s"in a?n:null)),r.setValue("SaleOptOut",ro(a.s,!0)),r.setValue("SharingOptOutNotice",ro("sh"in a?n:null)),r.setValue("SharingOptOut",ro(a.sh,!0)),r.setValue("TargetedAdvertisingOptOutNotice",ro("adv"in a?n:null)),r.setValue("TargetedAdvertisingOptOut",ro(a.adv,!0)),r.setValue("SensitiveDataProcessingOptOutNotice",0),r.setValue("SensitiveDataLimitUseNotice",ro(o?n:null)),r.setValue("SensitiveDataProcessing",Array.apply(null,{length:12}).map((function(e,t){return ro(a["sd".concat(t+1)],!0)}))),r.setValue("KnownChildSensitiveDataConsents",[0,0]),r.setValue("PersonalDataConsents",0),r.setValue("MspaCoveredTransaction",0),r.setValue("MspaOptOutOptionMode",0),r.setValue("MspaServiceProviderMode",0),r.setValue("SubsectionType",1),r.setValue("Gpc","1"===(null===(t=navigator.globalPrivacyControl)||void 0===t?void 0:t.toString())),r.write()}}]),e}();function co(e){var t=[];return e.enableTcf&&e.gdprApplies&&t.push(io.sectionName()),e.usprApplies&&t.push(ao.sectionName()),t}var lo=function(){function e(t){var n;i(this,e),this.options=t,this.cmpApi=new $i({cmpId:123,plugins:[io,ao],applicableApis:co(t)},null===(n=t.gppVersion)||void 0===n?void 0:n.toString())}return a(e,[{key:"update",value:function(e,t,n){var i=t.tcString,o=t.usPurposes,a=e?Ii:Li,r={};if(i&&(r[io.sectionName()]=i),null==o?void 0:o.isActive){var s=e||o.hasSensitiveData||this.options.ccpaNoticeDisplay||this.options.showBannerForUS||!1,c=new so;r[ao.sectionName()]=c.encode({noticeShown:s,preferences:o})}this.cmpApi.update({displayStatus:a,updatedSections:r},n)}}]),e}(),uo={1:{default:!0,blocked:!0,alias:"necessary"},2:{default:!1,alias:"basic"},3:{default:!1,alias:"enhancement"},4:{default:!1,alias:"analytics"},5:{default:!1,alias:"advertising"}},po=function(){function e(t){i(this,e),this.data={},this.allIds=Object.keys(uo),this.expressedIds=[],this.setInitialData(t),this.activeIds=Object.keys(this.data)}return a(e,[{key:"setInitialData",value:function(e){var t,i=e.options;if(i.purposes)this.data=this.getDefaultPurposes(i.purposes);else if(_iub.csPurposes&&0!==_iub.csPurposes.length)this.data=this.getDefaultPurposes(_iub.csPurposes.join(","));else{var o=null===(t=e.storage)||void 0===t?void 0:t.getLocal(e.settings.consentCookieNameBase+i.cookiePolicyId);o&&"object"===n(o)&&o.purposes?this.data=this.getDefaultPurposes(Object.keys(o.purposes).join(",")):this.data=this.getDefaultPurposes()}}},{key:"setExpressedId",value:function(e){this.expressedIds.indexOf(e)<0&&this.expressedIds.push(e)}},{key:"checkPurposeIdByList",value:function(e,t){if(!t.length)return!0;var n=uo[e],i=t.indexOf(e)>=0;return!(!n.blocked&&!i)}},{key:"processPurposesString",value:function(e){if(!e)return[];var t=e.split(",").map((function(e){return e.trim()}));return this.allIds.filter((function(e){var n=uo[e],i=t.indexOf(e)>=0,o=t.indexOf(n.alias)>=0;return i||o}))}},{key:"getDefaultPurposes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={},i=this.processPurposesString(t);return this.allIds.forEach((function(t){e.checkPurposeIdByList(t,i)&&(n[t]=uo[t].default)})),n}},{key:"getPurposesString",value:function(){return Object.keys(this.data).join(",")}},{key:"setData",value:function(e,t,n){(n||this.expressedIds.indexOf(e)<0)&&!uo[e].blocked&&(this.data[e]=t,this.setExpressedId(e))}},{key:"setPreference",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("boolean"!=typeof t.all){var i=Object.keys(t).map((function(e){return e.toString()}));i.forEach((function(i){e.setData(i,t[i],!n)}))}else this.activeIds.forEach((function(i){e.setData(i,t.all,!n)}))}},{key:"checkAllUnblocked",value:function(e){var t=this;return this.activeIds.filter((function(e){return!uo[e].blocked})).every((function(n){return t.data[n]===e}))}},{key:"isAllApproved",value:function(){return this.checkAllUnblocked(!0)}},{key:"isAllDisapproved",value:function(){return this.checkAllUnblocked(!1)}},{key:"hasGivenPreference",value:function(){return this.hasExpressed(this.activeIds)}},{key:"getPreferences",value:function(){return this.data}},{key:"getPurposeValue",value:function(e){return this.data[e]}},{key:"hasApproved",value:function(e){var t=this;return e.every((function(e){return t.data[e]}))}},{key:"hasExpressed",value:function(e){var t=this;return e.every((function(e){return t.expressedIds.indexOf(e)>=0||uo[e].blocked}))}},{key:"getPuposesData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={};return this.activeIds.forEach((function(i){t?n[i]=e.data[i]:(n[i]={value:e.data[i]},uo[i].blocked&&(n[i].blocked=!0))})),n}}]),e}(),ho=function(){function e(t){i(this,e),this.savedState=null,this.savedNewState=null,this.state={},this.purposes=null,this.options={granularOptionsActive:!1},this.initialized=!1,this.setInitialState(t)}return a(e,[{key:"setInitialState",value:function(e){this.purposes=new po(e),this.usPurposes=new Pn(e),this.initialized=!0,this.csObject=e;var t=e.options,n={granularOptionsActive:!1};if(t.gdprApplies&&t.enableTcf){var i=this.getInitialTCF();n.tcfv2=i.tcfv2,t.googleAdditionalConsentMode&&(n.gac=i.gac)}this.setState(n)}},{key:"getInitialTCF",value:function(){return{tcfv2:{all:!1},gac:{all:!1}}}},{key:"setState",value:function(e){var t=P(this.state,e);this.state=t}},{key:"processState",value:function(e){var t=e.purposes,n=void 0===t?{}:t,i=u(e,["purposes"]);this.purposes.setPreference(n),this.setState(i)}},{key:"getFullState",value:function(){return t(t({},this.state),{},{purposes:this.purposes.getPuposesData()})}},{key:"getProperty",value:function(e){return this.state[e]}},{key:"getStateObject",value:function(){var e={purposes:this.purposes.getPuposesData(!0)};return this.usPurposes.isActive&&(e.usPurposes=this.usPurposes.purposes),e}},{key:"getState",value:function(){var e={purposes:this.purposes.getPuposesData(!0)};return void 0!==this.state.tcfv2&&(e.tcfv2=this.state.tcfv2),void 0!==this.state.gac&&(e.gac=this.state.gac),e}},{key:"saveState",value:function(){this.savedState=t(t({},this.state),{},{purposes:t({},this.purposes.getPreferences())})}},{key:"recoveryState",value:function(){if(this.savedState){var e=this.savedState,n=e.purposes,i=u(e,["purposes"]);this.usPurposes.isActive&&this.usPurposes.recoveryPreferenceState(),n&&this.purposes.setPreference(n),this.state=t({},i),this.clearState()}}},{key:"clearState",value:function(){this.usPurposes.isActive&&this.usPurposes.clearPreferenceState(),this.savedNewState=null,this.savedState=null}},{key:"core",get:function(){return{purposes:this.purposes.getPuposesData(!0)}}},{key:"uspr",get:function(){return this.usPurposes.isActive?this.usPurposes.purposes:{}}}]),e}(),fo=function(){function e(t,n){i(this,e),this.cs=t,this.storage=n,this._tcfString="",this._gacString=""}return a(e,[{key:"setTcfPreference",value:function(e,t){return"string"==typeof e.tcfv2?this.setTcfString(e):void 0!==e.tcfv2?e.tcfv2.all?this.acceptAllTcf(t):this.rejectAllTcf():Fe((function(e){return e()}))}},{key:"setTcfString",value:function(e){var t=this,n=Fe();return!this.cs.options.enableTcf||this.cs.options.skipSaveConsent?n.resolve():(this.cs.updateTcfApi(!0,e.tcfv2),Ee([this.cs.startCmpWidget(),this.cs._waitForCmpWidgetRender()]).then((function(){e.gac&&(t.cs.storeCustomPreferences({gac:e.gac}),t._gacString=e.gac),t.cs.storeCMPPreference(e.tcfv2),t.tcfString=e.tcfv2,t.cs.updateTcfApi(!1,t.tcfString),n.resolve(e.tcfv2)})),n)}},{key:"acceptAllTcf",value:function(e){var t=this,n=Fe();return!this.cs.options.enableTcf||this.cs.options.skipSaveConsent?n.resolve():(this.cs.updateTcfApi(!0,this.tcfString),Ee([this.cs.startCmpWidget(),this.cs._waitForCmpWidgetRender()]).then((function(){var i=t.cs.ui.cmpWidget;(!t.tcfString||e)&&(t.cs.options.acceptTcfSpecialFeaturesWithAcceptBtn?i.enableAllPurposesAndAllVendors():i.enableAllEntitiesBasedOnSpecialFeatures(),i.enableAllCustomPurposes(),t.cs.options.googleAdditionalConsentMode&&t.cs.options.perPurposeConsent&&i.acEnableEntities(!0)),t.cs.storeCustomPreferences(i.getCustomPreferences());var o=i.getPreferenceString();t.cs.storeCMPPreference(o),t.tcfString=o,n.resolve(o)})),n)}},{key:"rejectAllTcf",value:function(){var e=this,t=Fe();return!this.cs.options.enableTcf||this.cs.options.skipSaveConsent?t.resolve():(this.cs.updateTcfApi(!0,this.tcfString),Ee([this.cs.startCmpWidget(),this.cs._waitForCmpWidgetRender()]).then((function(){var n=e.cs.ui.cmpWidget;n.disableAllPurposesAndAllVendors();var i=e.cs.options;(i.googleAdsPreferenceManagement||i.googleAdditionalConsentMode)&&n.disableAllCustomPurposes(),e.cs.storeCustomPreferences(n.getCustomPreferences());var o=n.getPreferenceString();e.cs.storeCMPPreference(o),e.tcfString=o,e.cs.updateTcfApi(!1,e.tcfString),t.resolve(o)})),t)}},{key:"load",value:function(){var e=this,t=Fe(),n=this.cs.options,i=_i(n);return n.enableTcf?(this.cs.cmpLibraryPromise.then((function(){var o=e.cs.fetchCMPCookie(),a=e.cs.customPreferencesResult,r=e.cs.getMissingCustomPreferences(a).length>0,s=(n.askConsentIfCMPNotFound||1!==e.cs.state.tcfConsentStatus)&&(!o||r)&&n.gdprApplies;if(o){var c=o.split(".");c.length>1&&(e.tcfString=c[0],e.storage.setLocalCMP(i,c[0]))}t.resolve({needsCMPConsent:s})})),t):t.resolve()}},{key:"tcfString",set:function(e){this.cs.state.tcfv2String=e,this._tcfString=e},get:function(){return this._tcfString||this.cs.state.tcfv2String}},{key:"gacString",get:function(){var e;return this._gacString||(null===(e=this.cs.customPreferences)||void 0===e?void 0:e.gac)}}]),e}(),bo=function(){function e(t){i(this,e),this.cs=t}return a(e,[{key:"acknowledgeCcpa",value:function(e){var t=this.cs.state.ccpaAcknowledged;this.cs.state.ccpaUspStateFound=!0,this.cs.state.ccpaAcknowledged=!0,e&&(this.cs.usPrivacyCookie=null,this.cs.state.ccpaOptedOut=!1),this.setCcpaCookie(),t||this.cs.fireCallback("onCcpaFirstAcknowledged"),this.cs.fireCallback("onCcpaAcknowledged")}},{key:"generateCcpaCookie",value:function(){var e,t;return{uspString:this.getUspString(),firstAcknowledgeDate:(null===(e=this.cs.usPrivacyCookie)||void 0===e?void 0:e.firstAcknowledgeDate)||(this.cs.state.ccpaAcknowledged?new Date:null),optOutDate:(null===(t=this.cs.usPrivacyCookie)||void 0===t?void 0:t.optOutDate)||(this.cs.state.ccpaOptedOut?new Date:null)}}},{key:"setCcpaCookie",value:function(e,t){if(!this.cs.options.skipSaveConsent){var n=null!=e?e:this.generateCcpaCookie();this.cs.storage.setLocal(this.cs.settings.USPRIVACY_COOKIE,n),this.cs.options.enableRemoteConsent&&this.cs.storage.setRemote(this.cs.storage.configuration.ccpaNameRemote,n),t||(this.cs.usPrivacyCookie=n)}}},{key:"getUspString",value:function(){return this.cs.options.ccpaApplies?this.cs.state.ccpaUspVersion+(this.cs.state.ccpaAcknowledged?"Y":"N")+(this.cs.state.ccpaOptedOut?"Y":"N")+this.getLspaValue():"1---"}},{key:"getLspaValue",value:function(){switch(this.cs.options.ccpaLspa){case!0:case"Y":case"y":return"Y";case!1:case"N":case"n":return"N";default:return"-"}}},{key:"optOutCcpa",value:function(){var e=this.cs.state.ccpaOptedOut;this.cs.state.ccpaUspStateFound=!0,this.cs.state.ccpaAcknowledged=!0,this.cs.state.ccpaOptedOut=!0,this.setCcpaCookie(),e||this.cs.fireCallback("onCcpaFirstOptOut"),this.cs.fireCallback("onCcpaOptOut")}}]),e}(),go=function(){function e(t,n){i(this,e),this.cs=t,this.storage=n,this.loadedData=null}return a(e,[{key:"acceptAllUSPurposeConsent",value:function(e){this.cs.preferenceState.usPurposes.setPreferences(e),this.storeUSPurposeCookie()}},{key:"storeUSPurposeCookie",value:function(){if(this.cs.options.skipSaveConsent)this.cs.info("NOT saving consent in cookie since options.skipSaveConsent is provided TRUE");else if(this.cs.preferenceState.usPurposes.isActive){var e=this.cs.preferenceState.usPurposes.getPreferences();this.loadedData=e,this.cs.storage.setLocal(this.cs.storage.configuration.consentUsprNameLocal,e),this.cs.options.enableRemoteConsent&&this.cs.storage.setRemote(this.cs.storage.configuration.consentUsprNameRemote,e)}}},{key:"load",value:function(){var e=Fe(),t=this.storage.getLocal(this.storage.configuration.consentUsprNameLocal);return this.loadedData=t,e.resolve(t)}}]),e}(),mo=function(){function e(t,n){i(this,e),this.coreStorage=n,this.cs=t}return a(e,[{key:"storeFadpConsent",value:function(){this.cs.options.fadpApplies&&this.coreStorage.storeConsent(!1)}}]),e}(),vo=function(){function e(t,n){i(this,e),this.cs=t,this.storage=n,this.storageData={}}return a(e,[{key:"setPurposesPreference",value:function(e){(this.cs.options.gdprApplies||this.cs.options.lgpdApplies||this.cs.options.fadpApplies)&&this.cs.options.perPurposeConsent&&this.cs.preferenceState.purposes.setPreference(e)}},{key:"getConsentObj",value:function(e){var t={timestamp:(new Date).toISOString(),version:this.cs.settings.version};return this.cs.options.perPurposeConsent&&(this.cs.options.gdprApplies||this.cs.options.lgpdApplies||this.cs.options.fadpApplies)?t.purposes=this.cs.preferenceState.purposes.getPreferences():t.consent=e,t}},{key:"storeConsent",value:function(e){this.storageData=this.getConsentObj(e),this.cs.consent=this.storageData,this.storage.storeConsent()}},{key:"load",value:function(){var e=this,t=Fe(),n={consent:null,doConsentRewrite:!0},i=this.storage.loadConsentLocal();return i?(this.cs.info("local stored consent found:"),n.doConsentRewrite=!1,this.cs.options.enableRemoteConsent&&this.storage.compactRemote(),n.consent=i,this.storageData=i,t.resolve(n)):(this.cs.info("local stored consent NOT found"),this.storage.loadConsentRemote().then((function(i){e.storageData=i,n.consent=i,t.resolve(n)}))),t}}]),e}(),yo=function(){function e(t,n){i(this,e),this.cs=t,this.configuration=n,this.state={available:!0,remoteCookieSet:!1,remote:{method:"iframe",get:{acknowledged:!1,timeoutOccurred:!1}}},this.getRemoteConsentPromise=null,this.testStorageAvailability()}return a(e,[{key:"oneYearFromDate",value:function(e){var t=864e5;return(31536e6-((new Date).getTime()-e.getTime()))/t}},{key:"getExpireDate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.expireAfter||this.cs.options.preferenceCookie.expireAfter;if("string"==typeof n){var i=new Date(n.replace("Z365","Z"));n=isNaN(i.getDate())?365:this.oneYearFromDate(i)}var o=null!==(e=t.format)&&void 0!==e?e:"utc",a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var r="";switch(o){case"timestamp":r="".concat(a.getTime());break;default:r=a.toUTCString()}return r}},{key:"testStorageAvailability",value:function(){try{this.setLocal("iub_storage_available","1"),this.resetLocal("iub_storage_available")}catch(e){this.state.available=!1}}},{key:"getLocal",value:function(e,t){}},{key:"setLocal",value:function(e,t,n){}},{key:"compactLocal",value:function(){}},{key:"reset",value:function(e){}},{key:"resetLocal",value:function(){}},{key:"setLocalCMP",value:function(e,t,n){}},{key:"getLocalCMP",value:function(e){}},{key:"resetRemote",value:function(){}},{key:"getRemote",value:function(){}},{key:"compactRemote",value:function(){}},{key:"storeConsent",value:function(e){this.storeConsentLocal(e),this.storeConsentRemote(e)}},{key:"storeConsentLocal",value:function(e){}},{key:"storeConsentRemote",value:function(e){}},{key:"loadConsentLocal",value:function(){}},{key:"resetRemote",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.resetRemoteCookie(e,t)}},{key:"resetRemoteCookie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(this.state.remote.method){case"callback":this.resetRemoteCookiesViaCallback();break;default:this.resetRemoteCookieViaIframe(e,t)}}},{key:"getRemote",value:function(){return this.getRemoteCookies()}},{key:"getRemoteCookies",value:function(){var e=this;switch(this.getRemoteConsentPromise=Fe(),this.state.remote.method){case"callback":this.getRemoteCookiesViaCallback();break;default:this.getRemoteCookiesViaIframe()}return setTimeout((function(){e.timeoutGetRemote()}),this.cs.settings.timeoutOnRemoteGet),this.getRemoteConsentPromise}},{key:"timeoutGetRemote",value:function(){this.cs.debug("Callback on getting remote fired"),this.state.remote.get.acknowledged||this.state.remote.get.timeoutOccurred||(this.state.remote.get.timeoutOccurred=!0,this.cs.warn("Getting from remote failed"),this.cs.info("Remote prefs NOT found!"),this.getRemoteConsentPromise&&this.getRemoteConsentPromise.resolve())}},{key:"compactRemote",value:function(){return this.compactRemoteCookies()}},{key:"compactRemoteCookies",value:function(){switch(this.state.remote.method){case"callback":this.cs.debug("skipping compact remote cookie since in 'callback' remote method");break;default:this.cs.debug("compacting remote cookies ..."),this.createCSIframeBridge({meth:"compact"})}}},{key:"remoteCookiesSet",value:function(e){e?this.cs.checkIfReloadAfterRemoteSet():this.cs.error("remote cookies setting failed.")}},{key:"pickUpRemoteCookie",value:function(e){if(this.state.remote.get.timeoutOccurred)this.cs.warn("Remote callback received too late");else{this.state.remote.get.acknowledged=!0;var t=null;try{t=JSON.parse(e[this.configuration.consentNameRemote])}catch(e){if(this.cs.options.raiseOnException)throw e;t=null}this.loadConsentRemoteCallback(t)}}},{key:"storeConsentRemote",value:function(){this.cs.options.enableRemoteConsent?(this.cs.info("store consent prefs into remote cookie ..."),this.setRemoteCookie(this.configuration.consentNameRemote,this.cs.consent),this.cs.options.ccpaApplies&&this.setRemoteCookie(this.configuration.ccpaNameRemote,this.cs.usPrivacyCookie)):this.cs.warn("skip saving remote consent since enableRemoteConsent option is provided FALSE")}},{key:"loadConsentRemote",value:function(){var e=this,t=Fe();return this.cs.options.enableRemoteConsent&&!this.cs.state.invalidatingConsent?this.getRemote().then((function(n){e.compactRemoteCookies(),t.resolve(n)})):(this.cs.info("skip loading remote consent since "+(this.cs.state.invalidatingConsent?"consent has been invalidated to resurface the banner":"enableRemoteConsent option is provided FALSE")),t.resolve()),t}},{key:"setRemoteCookieViaCallback",value:function(e,t){var n=this.buildLoopbackServerUrl()+this.cs.options.loopbackServer.callback.setRemoteCookiePath;n=sn(n,e,encodeURIComponent(JSON.stringify(t))),this.cs.debug("setting cross site cookies via callback at url: "+n),Ce(n)}},{key:"buildLoopbackServerUrl",value:function(){var e="https://";return"iframe"===this.state.remote.method?e+=this.cs.options.loopbackServer.iframeBridge.host:e+=this.cs.options.loopbackServer.callback.host,e}},{key:"setRemoteCookieViaIframe",value:function(e,n){this.createCSIframeBridge(t({cookieValue:n,c_name:e,meth:"set"},this.convertToMigrateCookieName(e)))}},{key:"getRemoteCookiesViaCallback",value:function(){var e=this.buildLoopbackServerUrl()+this.cs.options.loopbackServer.callback.getRemoteCookiePath;this.cs.debug("getting cross site cookies via callback at url: "+e),Ce(e)}},{key:"convertToMigrateCookieName",value:function(e){return this.cs.options.storage.useSiteId?{migrate_name:e.replace(/(s[0-9]+)/,this.cs.options.cookiePolicyId)}:null}},{key:"getMigrateCookieName",value:function(e){if(!this.cs.options.storage.useSiteId)return null;this.configuration.forceCookiePolicyId=!0;var t=this.configuration[e];return this.configuration.forceCookiePolicyId=!1,{migrate_name:t}}},{key:"getRemoteCookiesViaIframe",value:function(){if(this.cs.options.gdprApplies){var e=t({meth:"get",c_name:this.configuration.consentNameRemote},this.getMigrateCookieName("consentNameRemote"));this.createCSIframeBridge(e)}if(this.cs.options.ccpaApplies){var n=t({meth:"get",c_name:this.configuration.ccpaNameRemote},this.getMigrateCookieName("ccpaNameRemote"));this.createCSIframeBridge(n)}}},{key:"setRemote",value:function(e,t){return this.setRemoteCookie(e,t)}},{key:"setRemoteCookie",value:function(e,t){switch(this.state.remote.method){case"callback":this.setRemoteCookieViaCallback(e,t);break;default:this.setRemoteCookieViaIframe(e,t)}}},{key:"createIframeBridge",value:function(e,t){var n,i=document.createElement("IFRAME"),o=[location.protocol,"//",location.host,location.pathname].join(""),a=this.buildLoopbackServerUrl()+this.cs.options.loopbackServer.iframeBridge.iframePath;n=sn(a,"origin",encodeURIComponent(o)),Object.keys(e).forEach((function(t){n=sn(n,t,encodeURIComponent(JSON.stringify(e[t])))})),i.setAttribute("src",n),i.setAttribute("aria-hidden","true"),i.setAttribute("title","Iframe bridge"),i.setAttribute("style","width:0px; height:0px; display:none; visibility:hidden"),ke((function(){document.body.appendChild(i)}),!0)}},{key:"createCSIframeBridge",value:function(e){this.createIframeBridge(e,this.cs.options.loopbackServer.iframeBridge)}},{key:"resetRemoteCookieViaIframe",value:function(e,t){this.createCSIframeBridge({options:t,c_name:e,meth:"reset"})}},{key:"resetRemoteCookiesViaCallback",value:function(){var e=this.buildLoopbackServerUrl()+this.options.loopbackServer.callback.resetRemoteCookiePath;this.debug("reset cross site cookies via callback at url: "+e),this.insertScript(e)}}]),e}(),ko=function(){function e(){i(this,e)}return a(e,null,[{key:"generateCookieExpression",value:function(e,t,n){var i=e+"="+t,o=n||{};return o.expireDate&&(i+="; expires="+o.expireDate),o.path&&(i+="; path="+o.path),o.domain&&(i+="; domain="+o.domain),o.samesite&&(i+=";"+o.samesite),i}},{key:"setItem",value:function(t,n,i){var o=e.generateCookieExpression(t,n,i),a=i||{};if(a.maxCookieSize&&o.length>a.maxCookieSize)throw new Error("Unable to save cookie ".concat(t,": maxCookieSize ").concat(a.maxCookieSize," exeeded"));document.cookie=o}},{key:"getItem",value:function(e,t){for(var n=[],i=document.cookie.split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].split("="),r=a[0],s=a[1],c=r.match(new RegExp("^"+e+"(-(\\d+))?$"));if(c)n[parseInt(c[2],10)||0]=s}if(!n.length)return"";var l=n.join("");if(!0===t)return l;try{return JSON.parse(l)}catch(e){return JSON.parse(decodeURIComponent(l))}}},{key:"removeItem",value:function(e,t){for(var n,i=new RegExp("(^|;)\\s*("+e+"(-(\\d+))?)=","g"),o=document.cookie,a="";n=i.exec(o);){a=n[2]+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path="+t.path+"; domain="+t.domain+";"+t.samesite,document.cookie=a}return a}},{key:"all",value:function(){for(var e=document.cookie?document.cookie.split(/\s*;\s*/):[],t=[],n=0,i=e.length;n<i;n+=1){var o=e[n].split("=");2===o.length&&t.push({name:o[0],value:o[1]})}return t}},{key:"defaultSamesiteAttributes",get:function(){return"https:"===window.location.protocol?"samesite=none; secure":"samesite=lax"}}]),e}(),Co=function(e){s(n,e);var t=p(n);function n(e,o){return i(this,n),t.call(this,e,o)}return a(n,[{key:"testStorageAvailability",value:function(){try{this.setLocal("iub_storage_available","1"),this.state.available=-1!=document.cookie.indexOf("iub_storage_available="),this.resetLocal("iub_storage_available")}catch(e){this.state.available=!1}}},{key:"getLocal",value:function(e,t){return this.getLocalCookie(e,t)}},{key:"getLocalCookie",value:function(e,t){this.cs.debug("reading cookie from local domain: "+e);for(var n=[],i=ko.all(),o=0;o<i.length;o++){var a=i[o].name.match(new RegExp("^"+e+"(-(\\d+))?$"));if(a)n[parseInt(a[2],10)||0]=i[o].value}if(!n.length)return"";var r=n.join("");if(!0===t)return r;try{return JSON.parse(r)}catch(e){return JSON.parse(decodeURIComponent(r))}}},{key:"setLocal",value:function(e,t,n){return this.setLocalCookie(e,t,n)}},{key:"setLocalCookie",value:function(e,t,n){n=n||{},this.resetLocalCookie(e);var i=this.cs.options,o=this.getExpireDate(n),a=n.path||i.localConsentPath,r="string"==typeof t?t:encodeURIComponent(JSON.stringify(t)),s=this.getCookieLocalDomain(location.hostname),c={expireDate:o,path:a,domain:this._getLocalConsentDomain(i,s),samesite:ko.defaultSamesiteAttributes,maxCookieSize:i.maxCookieSize},l=ko.generateCookieExpression(e,r,c);try{this.cs.debug("setting cookie on local domain : "+s+" -> "+l),ko.setItem(e,r,c)}catch(t){this._setLocalCookieInChunks({name:e,valueToSave:r,cookieExpression:l,maxCookieSize:i.maxCookieSize,maxCookieChunks:i.maxCookieChunks,setCookieOptions:n})}}},{key:"_setLocalCookieInChunks",value:function(e){var t=e.name,n=e.valueToSave,i=e.cookieExpression,o=e.maxCookieSize,a=e.maxCookieChunks,r=e.setCookieOptions,s=function(e,t){return e.match(new RegExp(".{1,"+t+"}","g"))||[]}(n,o-(i.length-n.length)-2);if(s.length>a)return this.cs.error("cookie `"+t+"` should be split into "+s.length+" cookies, more than the allowed "+a+" chunks, aborting."),void this.cs.debug("was trying to save: "+i);for(var c=0;c<s.length;c++){var l=0===c?t:t+"-"+c;this.setLocalCookie(l,s[c],r)}}},{key:"compactLocal",value:function(){return this.compactLocalCookie()}},{key:"compactLocalCookie",value:function(){this.cs.debug("compact remote cookies (keep "+this.cs.settings.keepLocalCookiesN+")");for(var e=document.cookie.split(";"),t=[],n=0;n<e.length;n++){for(var i=e[n];" "===i.charAt(0);)i=i.substring(1);var o=i.split("=")[0];-1!==o.indexOf("_iub_cs")&&o!==this.configuration.consentNameLocal&&t.push({cName:o,cValue:JSON.parse(decodeURIComponent(i.split("=")[1]))})}t.sort((function(e,t){return e.cValue.timestamp<t.cValue.timestamp?1:-1})),t.splice(0,this.cs.settings.keepLocalCookiesN);for(var a=0;a<t.length;a++)ko.setItem(t[a].cName,"",{expireDate:"Thu, 01 Jan 1970 00:00:01 GMT",path:this.cs.options.localConsentPath,domain:this.getCookieLocalDomain(location.hostname),samesite:ko.defaultSamesiteAttributes})}},{key:"resetLocal",value:function(e){return this.resetLocalCookie(e)}},{key:"resetLocalCookie",value:function(e){var t=this.getCookieLocalDomain(location.hostname),n=ko.removeItem(e,{domain:this._getLocalConsentDomain(this.cs.options,t),path:this.cs.options.localConsentPath,samesite:ko.defaultSamesiteAttributes});this.cs.debug("resetting cookie on local domain : "+n)}},{key:"updateLocalExpireAfter",value:function(e,t){return this.updateLocalCookieExpireAfter(e,t)}},{key:"updateLocalCookieExpireAfter",value:function(e,t){var n=t||this.cs.options.preferenceCookie.expireAfter,i=this.getLocal(e);this.setLocal(e,i,{expireAfter:n})}},{key:"setLocalCMP",value:function(e,t,n){return this.setLocalCMPCookie(e,t,n)}},{key:"setLocalCMPCookie",value:function(e,t,n){(n=n||{}).expireAfter=n.expireAfter||this.cs.settings.MAX_TCF2_COOKIE_DURATION,this.setLocalCookie(e,t,n)}},{key:"getLocalCMP",value:function(e){return this.getLocalCMPCookie(e)}},{key:"getLocalCMPCookie",value:function(e){return this.getLocalCookie(e,!0)}},{key:"storeConsentLocal",value:function(e){this.cs.info("store consent prefs into local cookie ...");var t=this.cs.consent;t.id=this.cs.options.cookiePolicyId;try{this.setLocal(this.configuration.consentNameLocal,t,e)}catch(e){this.cs.error("store_consent_loc: "+(e.message||e.toSource()))}}},{key:"loadConsentLocal",value:function(){this.cs.debug("loading local stored consent");var e=this.getLocalCookie(this.configuration.consentNameLocal);if(!e){var t=this.getLocalCookie(this.configuration.consentNameLocalOld);""!==t&&(this.cs.debug("legacy consent found"),t.id===this.cs.options.cookiePolicyId&&(this.cs.debug("legacy consent match"),e=t))}try{this.compactLocalCookie()}catch(e){this.cs.debug("compacting local cookies failed, go on ...")}return e}},{key:"reset",value:function(e){return this.resetCookies(e)}},{key:"resetCookies",value:function(e){var t=e||{},n=!1!==t.local,i=!1!==t.remote;if(n&&(this.resetLocalCookie(this.configuration.consentNameLocal),this.resetLocalCookie(this.configuration.consentUsprNameLocal),this.cs.options.ccpaApplies&&this.resetLocalCookie(this.configuration.ccpaNameLocal)),i){var o=this.cs.options.cookiePolicyId;this.resetRemoteCookie(this.configuration.consentNameRemote,{cookiePolicyId:o}),this.resetRemoteCookie(this.configuration.consentUsprNameLocal),this.cs.options.ccpaApplies&&this.resetRemoteCookie(this.configuration.ccpaNameRemote)}}},{key:"getCookieLocalDomain",value:function(e){var t,n=2,i="localhost"===e;i||0!==e.indexOf("www.")&&(e="www."+e);var o=e.split("."),a=/^[0-9]+$/.test(e.split(":")[0].split(".").join("")),r=o[o.length-2];if(this.cs.options.localConsentDomain)t="."+this.cs.options.localConsentDomain;else if(i)t="";else if(!a){if(o.length>3){var s=this.isAllowedMultilevelDomain.call(this,e);r.length<4&&!s?n=3:s&&(n=o.length-1)}t="."+e.split(".").reverse().slice(0,n).reverse().join(".")}return t}},{key:"getAllowedMultilevelDomains",value:function(){return["blogspot","myshopify","wordpress","wixsite","wix","weebly","webflow","webnode","jimdo","jimdofree","squarespace","softr"]}},{key:"isAllowedMultilevelDomain",value:function(e){return this.getAllowedMultilevelDomains().some((function(t){var n=new RegExp(".".concat(t,".[a-z]{2,}(.[a-z]{2,})?$"),"i");return null!==e.match(n)}))}},{key:"_getLocalConsentDomain",value:function(e,t){return e.localConsentDomainExact?"":t}},{key:"_getCookieLocalDomain",value:function(){this.getCookieLocalDomain.apply(this,arguments)}}]),n}(yo),wo=function(e){s(o,e);var t=p(o);function o(e,n){return i(this,o),t.call(this,e,n)}return a(o,[{key:"getLocal",value:function(e,t){if(!this.state.available)return"";var n=window.localStorage.getItem(e);return null===n?"":t?n:JSON.parse(n)}},{key:"setLocal",value:function(e,t,i){if(!this.state.available)return"";var o=t;return"object"===n(t)&&null!==t&&(o=JSON.stringify(w(t,{expireAfter:this.getExpireDate(i)}))),window.localStorage.setItem(e,o),this.getLocal(e)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1!==e.local,n=!1!==e.remote;if(t&&this.state.available&&(window.localStorage.removeItem(this.configuration.consentNameLocal),window.localStorage.removeItem(this.configuration.consentUsprNameLocal),this.cs.options.ccpaApplies&&window.localStorage.removeItem(this.configuration.ccpaNameLocal)),n){var i=this.cs.options.cookiePolicyId;this.resetRemote(this.configuration.consentNameRemote,{cookiePolicyId:i}),this.resetRemote(this.configuration.consentUsprNameLocal),this.cs.options.ccpaApplies&&this.resetRemote(this.configuration.ccpaNameRemote)}}},{key:"resetLocal",value:function(e){this.state.available&&(window.localStorage.removeItem(e),this.cs.debug("resetting local storage: ",e))}},{key:"setLocalCMP",value:function(e,t,n){this.state.available&&window.localStorage.setItem(e,t)}},{key:"getLocalCMP",value:function(e){return this.cs.info("getLocalCMP: "+e),this.getLocal(e,!0)}},{key:"storeConsentLocal",value:function(e){this.cs.info("store consent prefs into local cookie ...");var t=this.cs.consent;t.id=this.cs.options.cookiePolicyId;try{this.setLocal(this.configuration.consentNameLocal,t,e)}catch(e){this.cs.error("store_consent_loc: "+(e.message||e.toSource()))}}},{key:"loadConsentLocal",value:function(){return this.getLocal(this.configuration.consentNameLocal)}}]),o}(yo),Po={COOKIE:"cookieStorage",LOCAL_STORAGE:"localStorage",ALL:"all"},So=function(){function e(t){i(this,e),this.cs=t,this.forceCookiePolicyId=!1}return a(e,[{key:"storageId",get:function(){return this.forceCookiePolicyId?this.cs.options.cookiePolicyId:this.cs.options.siteId&&this.cs.options.storage.useSiteId?"s"+this.cs.options.siteId:this.cs.options.cookiePolicyId}},{key:"consentNameRemote",get:function(){return this.consentNameLocal}},{key:"consentNameLocal",get:function(){return this.cs.settings.consentCookieNameBase+this.storageId}},{key:"consentUsprNameLocal",get:function(){return this.cs.settings.consentCookieNameBase+this.storageId+"-uspr"}},{key:"consentUsprNameRemote",get:function(){return this.consentUsprNameLocal}},{key:"consentGranularNameLocal",get:function(){return this.cs.settings.consentCookieNameBase+this.storageId+"-granular"}},{key:"consentGranularNameRemote",get:function(){return this.consentGranularNameLocal}},{key:"consentNameLocalOld",get:function(){return this.cs.settings.consentCookieNameBase+"local"}},{key:"ccpaNameRemote",get:function(){return this.cs.settings.USPRIVACY_COOKIE+"-"+this.storageId}},{key:"ccpaNameLocal",get:function(){return this.cs.settings.USPRIVACY_COOKIE}}]),e}(),xo=function(){function e(t){if(i(this,e),!t)throw new Error("Storage: no options passed");if(!t.cs)throw new Error("Storage: options.cs required");var n=t.cs.options||{};this.options=n,this.cs=t.cs,this.configuration=new So(this.cs),this.setupStorageDrivers(),this.setupStorageTypes(),window.addEventListener("message",this.receiveMessageFromBridge.bind(this),!1)}return a(e,[{key:"setupStorageDrivers",value:function(){var e,t=Po.COOKIE,n=Po.LOCAL_STORAGE;this[t]=new Co(this.cs,this.configuration),this[n]=new wo(this.cs,this.configuration),this.storageDrivers=(r(e={},t,this[t]),r(e,n,this[n]),e)}},{key:"setupStorageTypes",value:function(){var e,t,n,i,o,a,r,s,c,l,u,d,p,h,f,b,g;this.storageDefault=null!==(e=null===(t=this.options.storage)||void 0===t?void 0:t.type)&&void 0!==e?e:"cookie",this.storageDefault=this.storageDefault.toUpperCase(),this.storageType=Po[this.storageDefault],this.usprivacyStorageType=(null===(n=this.options.storage)||void 0===n||null===(i=n.items)||void 0===i||null===(o=i.usprivacy)||void 0===o?void 0:o.type)?Po[this.options.storage.items.usprivacy.type.toUpperCase()]:this.storageType,this.usprStorageType=(null===(a=this.options.storage)||void 0===a||null===(r=a.items)||void 0===r||null===(s=r.uspr)||void 0===s?void 0:s.type)?Po[this.options.storage.items.uspr.type.toUpperCase()]:this.storageType,this.tcfStorageType=(null===(c=this.options.storage)||void 0===c||null===(l=c.items)||void 0===l||null===(u=l.tcf)||void 0===u?void 0:u.type)?Po[this.options.storage.items.tcf.type.toUpperCase()]:this.storageType,this.coreStorageType=(null===(d=this.options.storage)||void 0===d||null===(p=d.items)||void 0===p||null===(h=p.core)||void 0===h?void 0:h.type)?Po[this.options.storage.items.core.type.toUpperCase()]:this.storageType,this.granularStorageType=(null===(f=this.options.storage)||void 0===f||null===(b=f.items)||void 0===b||null===(g=b.granular)||void 0===g?void 0:g.type)?Po[this.options.storage.items.granular.type.toUpperCase()]:this.storageType}},{key:"getStorageType",value:function(e){var t,n=Po.COOKIE;switch(e.replace(/^_iub_cs-(([\d]{3,}_[\d]{3,})|s?[\d]*)/,"_iub_cs")){case"usprivacy":n=this.usprivacyStorageType;break;case"euconsent-v2":n=this.tcfStorageType;break;case"_iub_cs-uspr":n=this.usprStorageType;break;case"_iub_cs-granular":n=this.granularStorageType;break;case"_iub_cs":n=this.coreStorageType;break;case null===(t=this.cs.options.preferenceCookie)||void 0===t?void 0:t.tcfV2Name:n=this.tcfStorageType}return n}},{key:"setLocalCookie",value:function(e,t,n){return this.setLocal(e,t,n)}},{key:"setLocal",value:function(e,t,n){var i="";switch(this.getStorageType(e)){case Po.LOCAL_STORAGE:i=this.localStorage.setLocal(e,t,n);break;case Po.ALL:i=this.cookieStorage.setLocal(e,t,n),this.localStorage.setLocal(e,t,n);break;default:i=this.cookieStorage.setLocal(e,t,n)}return i}},{key:"setLocalCMP",value:function(e,t,n){var i="";switch(this.getStorageType(e)){case Po.LOCAL_STORAGE:i=this.localStorage.setLocalCMP(e,t,n);break;case Po.ALL:i=this.cookieStorage.setLocalCMP(e,t,n),this.localStorage.setLocalCMP(e,t,n);break;default:i=this.cookieStorage.setLocalCMP(e,t,n)}return i}},{key:"setRemote",value:function(e,t){return this[this.getStorageType(e)].setRemote(e,t)}},{key:"compactRemote",value:function(){return this[this.storageType].compactRemote()}},{key:"getLocalCookie",value:function(e,t){return this.getLocal(e,t)}},{key:"getLocal",value:function(e,t){return this[this.getStorageType(e)].getLocal(e,t)}},{key:"getLocalCMPCookie",value:function(e){return this.getLocalCMP(e)}},{key:"getLocalCMP",value:function(e){return this[this.getStorageType(e)].getLocalCMP(e)}},{key:"resetLocalCookie",value:function(e){return this[this.getStorageType(e)].resetLocal(e)}},{key:"loadConsentLocal",value:function(){return this[this.getStorageType("_iub_cs")].loadConsentLocal()}},{key:"loadConsentRemote",value:function(){return this[this.getStorageType("_iub_cs")].loadConsentRemote()}},{key:"storeConsent",value:function(e){this.options.skipSaveConsent?this.cs.info("NOT saving consent in cookie since options.skipSaveConsent is provided TRUE"):this[this.getStorageType(this.configuration.consentNameLocal)].storeConsent(e)}},{key:"storeConsentLocal",value:function(e){return this.storeConsent(e)}},{key:"reset",value:function(e){for(var t in this.storageDrivers)Object.prototype.hasOwnProperty.call(this.storageDrivers,t)&&this.storageDrivers[t].reset(e)}},{key:"resetCookies",value:function(e){return this.reset(e)}},{key:"pickUpRemoteCookie",value:function(e){this.cookieStorage.pickUpRemoteCookie(e)}},{key:"receiveMessageFromBridge",value:function(e){if(-1===e.origin.indexOf(this.cs.options.loopbackServer.iframeBridge.host))return null;var t="";try{t=JSON.parse(e.data)}catch(e){if(this.cs.options.raiseOnException)throw e;this.cs.error("Exception while decoding message from iFrame bridge: "+(e.message||e))}if(t&&t.action)switch(t.action){case"pickUpRemoteCookie":this[this.getStorageType(this.configuration.consentNameLocal)].state.remote.get.timeoutOccurred?this.cs.warn("Remote callback received too late"):this.loadConsentRemoteCallback(t.cName,t.data);break;case"remoteCookieSet":this.cs.checkIfReloadAfterRemoteSet();break;case"remoteCookiesCompact":this.cs.debug("remote cookies compact");break;default:this.cs.error("Unrecognized message from iFrame bridge: "+JSON.stringify(t))}else this.cs.error("Unrecognized message from iFrame bridge: "+JSON.stringify(t));return t}},{key:"loadConsentRemoteCallback",value:function(e,t){if(t){this.cs.info("Remote prefs found!"),this.cs.debug(t);var n=this.getStorageType(this.configuration.consentNameLocal),i=this.getStorageType(this.configuration.ccpaNameLocal);switch(e){case this.configuration.consentNameRemote:this.cs.consent=t,this[n].setLocal(this.configuration.consentNameLocal,t),this[n].state.remote.get.acknowledged=!0,this[n].getRemoteConsentPromise&&this[n].getRemoteConsentPromise.resolve(t);break;case this.configuration.ccpaNameRemote:this.cs.usPrivacyCookie=t,this[i].setLocal(this.configuration.ccpaNameLocal,t),this[i].state.remote.get.acknowledged=!0,this[i].getRemoteConsentPromise&&this[i].getRemoteConsentPromise.resolve(t)}this.cs.options.reloadOnConsent&&(this.cs.info("page will be reloaded (reloadOnConsent==true) once local prefs are set"),this.cs.state.reloadAfterLocaleSet=!0)}else this.cs.info("Remote prefs NOT found!")}}]),e}(),Ao=function(){function e(t){i(this,e),this.cs=t,this.storage=new xo({cs:t}),this.tcf=new fo(t,this.storage),this.usPrivacy=new bo(t),this.uspr=new go(t,this.storage),this.core=new vo(t,this.storage),this.fadp=new mo(t,this.core)}return a(e,[{key:"setPreference",value:function(e,t,n){var i=this,o=!1;this.cs.options.reloadOnConsent&&!this.cs.state.consentFoundOnLoad&&(this.cs.state.reloadAfterRemoteSet=(this.cs.options.enableRemoteConsent?1:0)+(this.cs.options.enableTcf?1:0));var a=Fe();if(this.cs.options.ccpaApplies&&void 0!==e.ccpa&&(!0===e.ccpa?this.cs.preferences.storage.usPrivacy.acknowledgeCcpa():(this.cs.debug("CCPA Opt Out"),this.cs.preferences.storage.usPrivacy.optOutCcpa())),this.cs.options.usprApplies&&void 0!==e.uspr&&(o=!0,this.cs.preferences.storage.uspr.acceptAllUSPurposeConsent(e.uspr)),void 0!==e.purposes&&(o=!0,this.core.setPurposesPreference(e.purposes)),void 0!==e.consent&&(o=!0,this.core.storeConsent(e.consent)),(this.cs.options.gdprApplies||this.cs.options.lgpdApplies)&&void 0!==e.tcfv2){o=!0;var r={tcfv2:e.tcfv2,gac:e.gac};this.tcf.setTcfPreference(r,n).then((function(){return a.resolve()}))}else a.resolve();return a.then((function(){i.cs.updateGppApi(!1,!0,"processed"),o&&i.cs.fireConsentCallbacks(t),i.cs.tracker.consentGiven(t),i.cs.ui.generateFloatingPreferencesButton()})),a}},{key:"load",value:function(){var e=Fe();return Ee([this.core.load(),this.tcf.load(),this.uspr.load()]).then((function(t){var n=h(t,3),i=n[0],o=n[1],a=n[2];return e.resolve({core:i,tcf:o,uspr:a})})),e}}]),e}(),_o=function(){function e(t){i(this,e),this.cs=t,this.storage=new Ao(this.cs)}return a(e,[{key:"setState",value:function(){this.state=new ho(this.cs)}},{key:"load",value:function(){var e=this,t=this.storage.load();return t.then((function(t){var n=t.uspr;e.cs.options.fadpApplies&&e.state.purposes.setPreference({all:!0},!0),n&&e.state.usPurposes&&e.state.usPurposes.setPreferences(n)})),t}},{key:"store",value:function(e,t,n){this.storage.setPreference(e,t,n)}},{key:"core",get:function(){return this.storage.core.storageData}},{key:"gac",get:function(){return this.storage.tcf.gacString}},{key:"tcf",get:function(){return this.storage.tcf.tcfString}},{key:"ccpa",get:function(){return this.storage.usPrivacy.getUspString()}},{key:"uspr",get:function(){return this.storage.uspr.loadedData}}]),e}();function Oo(e,t){var n=864e5;return(t*n-Date.now()+new Date(e).getTime())/n}function Bo(e){var t=[],n=(e||"").split("~"),i=n[0],o=n[1],a=n[2],r=function(e){for(var t=[],n=0,i=!1,o=e.split(".").map((function(e){return Number(e)})).sort((function(e,t){return e-t})),a=Math.max.apply(null,o),r=1;r<=a;r++){var s=-1!==o.indexOf(r);s!==i&&(t.push(n),i=s,n=0),n++}return n&&t.push(n),String.fromCharCode.apply(null,new Int16Array(t))};if(i){t.push(i);var s=r(o||"");if(t.push(s),a){var c=r(a.replace("dv.",""));t.push(c)}}var l=t.join("~");return btoa(unescape(encodeURIComponent(l)))}function Io(e){return"1~"===(e||"").substring(0,2)?function(e){var t=(e||"").split("~"),n=t[0],i=t[1]||"",o=[];if(n){if(i){var a=decodeURIComponent(escape(atob(i)));o=new Int16Array(a.split("").map((function(e){return e.charCodeAt(0)})))}return n+"~"+o.join(".")}return""}(e):function(e){var t=[],n=decodeURIComponent(escape(atob(e))).split("~"),i=n[0],o=n[1],a=n[2],r=function(e){for(var t=[],n=1,i=new Int16Array(e.split("").map((function(e){return e.charCodeAt(0)}))),o=0;o<i.length;o++){var a=i[o];if(o%2!=0)for(var r=0;r<a;r++)t.push(n+r);n+=a}return t};if(i){t.push(i);var s=r(o||"");if(t.push(s.join(".")),a){var c=r(a);c.unshift("dv"),t.push(c.join("."))}}return t.join("~")}(e)}var Lo=function(){function e(t,n){var o,a;i(this,e),tt(this),this.settings=Ue,this.VERSION=this.settings.version,this.state={enabled:!0,preLoaded:!1,errors:[],fatalError:!1,inlineUniqId:0,invalidatingConsent:!1,inIframe:!1,consentFoundOnLoad:!1,reloadAfterRemoteSet:!1,reloadAfterLocaleSet:!1,activatingNoPriorConsent:!1,needsConsent:!0,tcfv2String:null,cpOpen:!1,isCmpCssLoaded:0,uspString:"1---",ccpaAcknowledged:!1,ccpaOptedOut:!1,ccpaUspVersion:1,ccpaUspStateFound:!1,ccpaOptOutConfirmationOpen:!1,currentView:"",fromSDK:!1},this.setConfiguration(t),this.activator=new ni(this),this.crossSiteConsent={},this.consent=this.getInitialConsent(),this.checkIfInIframe(),this.ui=new fn(this),this.tracker=new li(this),!0===this.options.previewMode&&(this.tracker.state.enabled=!1),this.storage=new xo({cs:this}),this.cookie=this.storage,null===(o=(a=_iub).__csAmpHook)||void 0===o||o.call(a,this,yo),this.browserDetect=new U,this.api=new Si(this),this.cmpLibraryPromise=n,this.storeCMPChoicePromise=Fe(),this.customPreferencesResult=this.fetchCustomPreferences(),this.savedPreferences={},this.customPurposes=null,this.firstActivationCompletedPromise=Fe(),this.preferences=new _o(this)}return a(e,[{key:"getInitialConsent",value:function(){return{consent:void 0,timestamp:void 0,version:void 0}}},{key:"checkIfInIframe",value:function(){try{this.state.inIframe=window.self!==window.top}catch(e){}}},{key:"setCurrentView",value:function(e){this.state.currentView=e}},{key:"fetchCustomPreferences",value:function(){var e=this.storage.getLocal(this.storage.configuration.consentGranularNameLocal),t=this.decodeCustomPreferences(e);return this.isGoogleAdditionalConsentValid()||delete t.gac,t}},{key:"decodeCustomPreferences",value:function(e){return e&&Object.prototype.hasOwnProperty.call(e,"gac")?P(e,{gac:Io(e.gac)}):e}},{key:"renewCookies",value:function(){var e=this;if(this.state.needsConsent&&this.isPreferenceExpressed()){var t=Oo(this.consent.timestamp,this.options.preferenceCookie.expireAfter);this.storage.storeConsentLocal({expireAfter:t})}if(this.options.enableTcf&&this.state.tcfv2String){var n={expireAfter:Oo(si(this.state.tcfv2String).getLastUpdate(),this.settings.MAX_TCF2_COOKIE_DURATION)};this.storeCMPPreference(this.state.tcfv2String,n)}if(this.refreshGACConsent().then((function(){e.storeCustomPreferences(e.customPreferencesResult,!0)})),this.preferenceState.usPurposes.userConsentGiven&&this.preferences.storage.uspr.storeUSPurposeCookie(),this.usPrivacyCookie){var i=(this.usPrivacyCookie.optOutDate?this.usPrivacyCookie.optOutDate:0)+(this.options.ccpaCookie.expireAfter?this.options.ccpaCookie.expireAfter:0);this.storage.setLocal(this.settings.USPRIVACY_COOKIE,this.usPrivacyCookie,{expireAfter:i})}}},{key:"refreshGACConsent",value:function(){var e,t=this,n=Fe();if(!(null===(e=this.customPreferencesResult)||void 0===e?void 0:e.gac))return n.resolve();var i=this.customPreferencesResult.gac,o=i.split("~");if(Number(o[0])===this.options.gacVersion)return n.resolve();var a=this.ui.getSavedPreferences();return this.createCmpWidget(a.cmpCookie,a.customPreferences),document.addEventListener("acVendorUpdate",(function(){t.ui.cmpWidget.acInitialize(),t.ui.cmpWidget.acSetState(i);var e=t.ui.cmpWidget.getCustomPreferences();t.customPreferencesResult=e,t.ui.cmpWidget.customPreferences=e,_iub.cmp.setAcmString(e),n.resolve()})),n}},{key:"createCmpWidget",value:function(e,t){var n=e,i=t;this.ui.previousTCFPreferences&&(n=this.ui.previousTCFPreferences.cmpCookie,i=this.ui.previousTCFPreferences.customPreferences);var o=this.options.lang,a=kt[o];a||(a=kt.en);var r=a.tcf_v2||kt.en.tcf_v2,s=this.getCustomPurposes();this.ui.cmpWidget=new _iub.cmp.Widget(n,o,r,s,i,{popover:this.ui.popover,promiseCreate:Fe})}},{key:"isPreferenceExpressed",value:function(){var e=this.options,t=e.gdprApplies,n=e.lgpdApplies,i=e.usprApplies,o=e.fadpApplies,a=e.perPurposeConsent,r=e.enableTcf,s=e.askConsentIfCMPNotFound,c=e.skipSaveConsent;if(t||n||o){var l;if(a&&!this.preferenceState.purposes.hasGivenPreference())return!1;if(!(a||this.consent&&void 0!==(null===(l=this.consent)||void 0===l?void 0:l.consent)))return!1}return!(i&&!this.preferenceState.usPurposes.userConsentGiven)&&(!(!c&&s&&r&&!this.state.tcfv2String&&t)&&(t||n||i||o))}},{key:"getPreferencesExpressed",value:function(){var e=t({},this.consent);return this.preferenceState.usPurposes.isActive&&(e.uspr=this.preferenceState.usPurposes.getPreferences()),this.options.ccpaApplies&&(e.ccpa=this.preferences.storage.usPrivacy.generateCcpaCookie()),e}},{key:"storeCMPPreference",value:function(e,t){var n=_i(this.options);this.storage.setLocalCMP(n,e,t),this.checkIfReloadAfterRemoteSet()}},{key:"checkIfReloadAfterRemoteSet",value:function(){this.debug("remote cookies successfully set."),"number"==typeof this.state.reloadAfterRemoteSet&&(this.state.reloadAfterRemoteSet--,this.state.reloadAfterRemoteSet<=0&&this.reloadPage())}},{key:"reloadPage",value:function(){this.info("Reloading page at consent given ..."),-1!==navigator.userAgent.indexOf("Google")?setTimeout((function(){location.reload(!0)}),500):location.reload(!0)}},{key:"storeCustomPreferences",value:function(e,t){if(this._acknowledgeCustomPreferences(e),e){(t?this.isGoogleAdditionalConsentValid():this.options.googleAdditionalConsentMode)||delete e.gac;var n=this.encodeCustomPreferences(e);this.storage.setLocal(this.storage.configuration.consentGranularNameLocal,n)}}},{key:"_acknowledgeCustomPreferences",value:function(e){this.customPreferences=P(this.customPreferences||{},e)}},{key:"encodeCustomPreferences",value:function(e){return e&&e.gac?P(e,{gac:Bo(e.gac)}):e}},{key:"migrateStorageCookieIdToSiteId",value:function(){if(this.options.storage.useSiteId&&!this.storage.getLocal(this.storage.configuration.consentNameLocal)){this.storage.configuration.forceCookiePolicyId=!0;var e=this.storage.configuration.consentNameLocal,t=this.storage.configuration.consentGranularNameLocal,n=this.storage.configuration.consentUsprNameLocal,i=this.storage.getLocal(e),o=this.storage.getLocal(t),a=this.storage.getLocal(n);this.storage.configuration.forceCookiePolicyId=!1,(i||o||a)&&(i&&(this.storage.setLocal(this.storage.configuration.consentNameLocal,i),this.storage.resetLocalCookie(e)),o&&(this.storage.setLocal(this.storage.configuration.consentGranularNameLocal,o),this.storage.resetLocalCookie(t),this.customPreferencesResult=this.fetchCustomPreferences()),a&&(this.storage.setLocal(this.storage.configuration.consentUsprNameLocal,a),this.storage.resetLocalCookie(n)))}}},{key:"preLoad",value:function(){return this.debug("executing preLoad()..."),this.migrateStorageCookieIdToSiteId(),this.state.preLoaded?(this.debug("already preloaded, skipping ..."),!0):(this.options.cookiePolicyId||this.fatal("Cannot start IubendaCookieSolution: cookiePolicyId NOT PROVIDED."),!!this.skipUnsupported()||(this.preferences.setState(),this.preferenceState=this.preferences.state,this.browserDetect.isBotAndShouldSkipBots()?(this.info("BOT detected: activating snippets and avoid banner rendering."),this.options.enableGpp&&(this.gppCmpApi=new lo(this.options)),this.options.fadpApplies&&this.preferenceState.purposes.setPreference({all:!0},!0),this.acceptAll(),this.applyConsent(!0),this.state.reloadAfterRemoteSet=!1,this.state.reloadAfterLocaleSet=!1,null):this.state.enabled?(this.startCs(),null):(Ot(),this.ui.generateWarningButton("https://www.iubenda.com/help/120399-why-does-my-website-show-this-icon?utm_source=cs&utm_medium=web&utm_campaign=csalrt1"),this.tracker.start(!1),this.debug("IubendaCookieSolution is disabled, skipping ..."),!0)))}},{key:"startCs",value:function(){var e=this;return this.fireCallback("onBeforePreload"),this.usPrivacyCookie=this.storage.getLocal(this.settings.USPRIVACY_COOKIE),this.usPrivacyCookie&&this.setUspString(this.usPrivacyCookie.uspString),this.options.enableRemoteConsent&&!this.options.skipSaveConsent||!this.options.ccpaApplies||this.state.ccpaAcknowledged||this.deleteConsent(),this.preferences.load().then((function(t){var n;e.state.preLoaded=!0,t.core.consent&&(e.consent=t.core.consent),!e.options.skipSaveConsent&&(null===(n=t.tcf)||void 0===n?void 0:n.needsCMPConsent)&&e.deleteConsent(),e.start({doConsentRewrite:t.core.doConsentRewrite})})),null}},{key:"deleteConsent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.skipResetCookies=e.skipResetCookies||!1,e.skipResetRemoteCookies=e.skipResetRemoteCookies||!1,this.consent=this.getInitialConsent(),this.state.invalidatingConsent=!0,e.skipResetCookies||this.storage.reset({local:!0,remote:this.options.enableRemoteConsent&&!e.skipResetRemoteCookies})}},{key:"fetchCMPCookie",value:function(){var e=_i(this.options);if(!this.options.enableTcf)return null;var t=this.state.tcfv2String;if(t)return this.isTcfConsentValid(t)||(t=null,this.state.tcfv2String=""),t;var n=this.storage.getLocalCMP(e);return n||(n=this.storage.getLocalCMP(this.settings.TCF_V2_CONSENT_COOKIE)),this.isTcfConsentValid(n)||(n=null),this.state.tcfv2String=n||"",n}},{key:"isTcfConsentValid",value:function(e){var t=this.getTcfConsentStatus(e);return this.state.tcfConsentStatus=t,0===t}},{key:"getTcfConsentStatus",value:function(e){var t=si(e);return(e?this.needsConsentOnVendorListUpdate(t)&&2:1)||this.isTcfConsentCreatedBefore(t,_iub.invTcfC||null)&&3||this.isTcfConsentUpdatedBefore(t,Math.max(_iub.invTcfU||0,this.options.invalidateConsentBefore||0))&&4||this.isNotServiceSpecific(t)&&5||this.didntConsentNewVendors(t)&&6||0}},{key:"isGoogleAdditionalConsentValid",value:function(){var e=!0;null!==this.state.tcfv2String&&(e=0===this.getTcfConsentStatus(this.state.tcfv2String));return this.options.googleAdditionalConsentMode&&e}},{key:"openAdvertisingPreferences",value:function(){this.ui.showCP(!1,!0,!1)}},{key:"needsConsentOnVendorListUpdate",value:function(e){var t=_iub.GVL3;if(e.getVendorListVersion()<t){var n=((new Date).getTime()-e.getLastUpdate())/864e5,i=this.options.newConsentAtVendorListUpdate;if(null!=i)return n>i}return!1}},{key:"isTcfConsentCreatedBefore",value:function(e,t){var n=t,i=new Date;i.setDate(i.getDate()-this.settings.MAX_TCF2_COOKIE_DURATION),(!n&&this.settings.MAX_TCF2_COOKIE_DURATION||n<i)&&(n=i);var o=new Date(n).getTime();return n&&e.getCreationDate()<o}},{key:"isTcfConsentUpdatedBefore",value:function(e,t){return t&&e.getLastUpdate()<ii(t)}},{key:"isNotServiceSpecific",value:function(e){return!e.getIsServiceSpecific()}},{key:"didntConsentNewVendors",value:function(e){var t=e.getCreationDate(),n=e.getLastUpdate(),i=Date.UTC(2020,7,18,21);return t<i&&n<i&&n-t>36e5}},{key:"getMissingCustomPreferences",value:function(e){for(var t=[],n=this.getCustomPurposes(),i=0;i<n.length;i++){var o=n[i];e.hasOwnProperty(o.id)||t.push(o.id)}return t}},{key:"getCustomPurposes",value:function(){return this.customPurposes||(this.customPurposes=[],this.options.googleAdsPreferenceManagement&&this.customPurposes.push({id:this.settings.GOOGLE_ADS_PERSONALIZED_ID,name:"Personalized advertising from Google and its partners",description:"Google and its partner ad technology providers use cookies for personalization and measurement purposes. Users can customize their consent preferences for both Google and its partners. To learn more, please refer to the <a target='_blank' rel='noopener' href='https://support.google.com/admanager/answer/9012903'>privacy policies of the respective services</a>."}),this.options.googleAdditionalConsentMode&&this.customPurposes.push({id:"gac",name:"",description:""})),this.customPurposes}},{key:"fireCallback",value:function(e,t){var n=this.options.callback[e],i=t;switch(this.emit("callback.before."+e,i),e){case"onReady":i=this.consent.consent;break;case"onPreferenceExpressed":case"onPreferenceNotNeeded":this.fireCallback("onPreferenceExpressedOrNotNeeded",i);break;case"onConsentRead":!n&&this.isConsentGiven()&&(n=this.options.callback.onConsentGiven);break;case"onCcpaFirstAcknowledged":n=this.options.callback.onCcpaFirstAcknowledged;break;case"onCcpaFirstOptOut":n=this.options.callback.onCcpaFirstOptOut}if(n)try{this.debug("activating callback: "+n),n(i)}catch(t){if(this.options.raiseOnException)throw t;"onError"!==e?this.error("Exception while invoking callback "+e+": "+(t.message||t)):this.log("Exception while invoking callback "+e+": "+(t.message||t),"error")}}},{key:"getPreferences",value:function(){var e,t,n,i=!!(null===(e=_iub.cs.preferenceState)||void 0===e||null===(t=e.usPurposes)||void 0===t?void 0:t.userConsentGiven);if(!this.consent.id&&!i)return{};var o={id:this.options.cookiePolicyId};this.consent.timestamp&&(o.timestamp=this.consent.timestamp);var a,r,s,c,l=this.preferenceState.getStateObject();(this.options.perPurposeConsent&&(this.options.gdprApplies||this.options.lgpdApplies||this.options.fadpApplies)?o.purposes=l.purposes:o.consent=!!this.consent.consent,this.state.tcfv2String&&(o.tcfv2=this.state.tcfv2String),(null===(n=this.customPreferences)||void 0===n?void 0:n.gac)&&(o.gac=this.customPreferences.gac),this.options.ccpaApplies&&(o.ccpa=this.preferences.storage.usPrivacy.getUspString()),this.options.enableGpp)&&(o.gppString=(null===(a=this.gppCmpApi)||void 0===a||null===(r=a.cmpApi)||void 0===r||null===(s=r.model)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.gppString)||"");return l.usPurposes&&(o.uspr=l.usPurposes),o}},{key:"isConsentGiven",value:function(){if(!this.consent)return!1;var e=!0,t=this.options.perPurposeConsent&&(this.options.gdprApplies||this.options.lgpdApplies||this.options.fadpApplies);return t&&e&&(this.consent.purposes||(e=!1),e=this.preferenceState.purposes.isAllApproved()),this.preferenceState.usPurposes.isActive&&e&&(e=this.preferenceState.usPurposes.userConsentGiven),t||this.options.usprApplies?e:!0===this.consent.consent}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.debug("executing start() ...");var n=this.options,i=!1!==t.doConsentRewrite;if(this.state.fatalError)return this.error("exiting start() since in fatalError ..."),!1;if(this.setup()){this.info("IubendaCookieSolution setup OK! Starting ..."),this.emit("start"),this.tracker.start(this.isPreferenceExpressed()),n.enableGpp&&(this.gppCmpApi=new lo(n)),ke((function(){if(e.options.enableTcf&&ft(e.ui),e.ui.createPreferencesWidgets(),Vt(e.ui),e.ui.bindVendorListBtns(),n.enableCcpa&&n.ccpaApplies)for(var t=document.querySelectorAll(".iubenda-ccpa-opt-out"),i=0;i<t.length;i++)e.handleAskOptOutClick(t[i])}),!0),this.renewCookies(),this.state.needsConsent&&this.isPreferenceExpressed()?(this.options.showBannerForCH&&!this.consent.timestamp&&this.startCsUi(),this.isConsentGiven()?(this.state.consentFoundOnLoad=!0,i&&this.storage.storeConsentLocal(),this.fireCallback("onPreferenceExpressed",this.getPreferencesExpressed())):(this.options.callback.onConsentRead?this.fireCallback("onConsentRead"):this.isConsentRejected()&&this.fireCallback("onConsentRejected"),this.fireCallback("onPreferenceExpressed",this.getPreferencesExpressed())),this.updateTcfApi(!1),this.updateGppApi(!1),this.ui.bindButtons(),this.csReady()):this.state.needsConsent&&!this.isPreferenceExpressed()?(this.updateTcfApi(!0),this.updateGppApi(!0),this.startCsUi(),this.isPriorConsent()||(this.state.activatingNoPriorConsent=!0,this.fireCallback("onPreferenceNotNeeded"))):(this.updateTcfApi(!1),this.updateGppApi(!1),this.ui.bindButtons(),this.csReady());var o=!this.state.needsConsent;this.applyConsent(o),this.state.reloadAfterLocaleSet&&this.reloadPage(),n.enableCcpa&&(window.__uspapi=function(t,n,i){"function"==typeof i&&1===n&&"getUSPData"===t&&i({version:n,uspString:e.preferences.storage.usPrivacy.getUspString()},!0)},n.ccpaApplies&&this.shouldAcknowledgeCcpaOnLoad()&&this.preferences.storage.usPrivacy.acknowledgeCcpa()),this.enablePrivacyPolicyLinks(),this.preferences.storage.fadp.storeFadpConsent(),this.options.hasSensitiveData||!0!==this.options.usprApplies||this.preferences.storage.uspr.storeUSPurposeCookie()}else this.fatal("Cannot start IubendaCookieSolution");n.ccpaApplies&&_t();var a=ae(".iubenda-cs-uspr-link");return a.forEach((function(t){e.handleUsprPPClick(t)})),null}},{key:"setup",value:function(){var e;if(this.debug("executing setup() ..."),this.state.fatalError)return this.error("exiting setup() since in fatalError ..."),!1;if(this.invalidateConsentIfNecessary(),this.options.perPurposeConsent&&(null===(e=this.consent)||void 0===e?void 0:e.purposes)&&this.preferenceState.purposes.setPreference(this.consent.purposes),!this.options.gdprApplies&&!this.options.lgpdApplies){if(this.options.ccpaApplies&&this.options.ccpaNoticeDisplay&&!this.state.ccpaAcknowledged)return this.state.needsConsent=!0,!0;if(this.options.showBannerForUS||this.options.showBannerForCH)return this.state.needsConsent=!0,!0;this.info("Setting state.needsConsent = false since gdprApplies is false, scripts will be activated and banner will not be shown."),this.state.needsConsent=!1}return this.migratePurposesPreferences(),!0}},{key:"enablePrivacyPolicyLinks",value:function(){for(var e=ae("#iubenda-cs-banner .iubenda-privacy-policy-link"),t=0;t<e.length;t++)this.handleBannerPPClick(e[t])}},{key:"invalidateConsentIfNecessary",value:function(){this.isPreferenceValid()||this.deleteConsent({skipResetCookies:this.options.skipSaveConsent,skipResetRemoteCookies:!this.options.enableRemoteConsent})}},{key:"isPreferenceValid",value:function(){var e,t,n=ii(this.consent.timestamp||0),i=ii(this.options.invalidateConsentBefore);if(i&&n>0&&n<i)return!1;if(this.options.consApiKey&&!(null===(e=this.consent)||void 0===e||null===(t=e.cons)||void 0===t?void 0:t.rand)){var o=this.options.invalidateConsentWithoutLog,a="string"==typeof o||"number"==typeof o,r=a?new Date(o).getTime():null;if(!0===o||a&&r>n)return!1}var s=this.storage.getLocal(this.storage.configuration.consentUsprNameLocal);return!(this.options.usprApplies&&!s&&this.consent.timestamp)}},{key:"migratePurposesPreferences",value:function(){var e=this;if(this.options.perPurposeConsent&&!this.isPreferenceExpressed()&&this.consent&&void 0!==this.consent.consent)this.debug("switching from no per-purpose to per-purpose"),this.preferenceState.purposes.setPreference({all:this.consent.consent}),this.consent.purposes=this.preferenceState.purposes.getPreferences();else if(!this.options.perPurposeConsent&&void 0===this.consent.consent&&void 0!==this.consent.purposes){this.debug("switching from per-purpose to no per-purpose");var t=Object.keys(this.consent.purposes).filter((function(e){return 1!=+e})).map((function(t){return e.consent.purposes[t]}));t.length&&(t.every(Boolean)?this.consent.consent=!0:t.some(Boolean)||(this.consent.consent=!1))}}},{key:"handleAskOptOutClick",value:function(e){var t=this;Be(e,"click",(function(e){e.stopPropagation(),t.askCcpaOptOut()}))}},{key:"askCcpaOptOut",value:function(){this.ui.showCcpaOptOutConfirmBox()}},{key:"updateTcfApi",value:function(e,t){var n=this.options;if(n.enableTcf&&_iub.cmp&&_iub.cmp.exposeCmpGlobalFunction){if(this.state.lastCmpUiVisibleState===!!e)return;this.state.lastCmpUiVisibleState=!!e,this.info("Going to expose global API, reading data ...");var i=this.fetchCustomPreferences();this.info("Updating consent data via CMP API ..."),_iub.cmp.exposeCmpGlobalFunction(t||this.state.tcfv2String,n.gdprAppliesGlobally,n.gdprApplies,!1,i,e)}}},{key:"updateGppApi",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"processing";if(this.options.enableGpp){var i=t?{tcString:this.state.tcfv2String,usPurposes:this.preferenceState.usPurposes}:{};this.gppCmpApi.update(e,i,n)}}},{key:"csReady",value:function(){_iub.csReady=!0,this.state.ccpaAcknowledged&&this.fireCallback("onCcpaAcknowledged"),this.state.ccpaOptedOut&&this.fireCallback("onCcpaOptOut"),this.fireCallback("onReady")}},{key:"startCsUi",value:function(){var e=this;this.options.hideInIframe&&this.state.inIframe||this.startCmpWidget().then((function(){e.ui.start()}))}},{key:"startCmpWidget",value:function(){var e=this,t=Fe();return this.options.enableTcf?this.cmpLibraryPromise.then((function(){e.ui.setCmpWidget(e.state.tcfv2String,e.customPreferencesResult),t.resolve()})):t.resolve(),t}},{key:"isPriorConsent",value:function(){return this.state.enabled?this.state.needsConsent?!!(this.options.gdprApplies||this.options.lgpdApplies||this.options.showBannerForUS):(this.info("Prior consent is not needed for the current user."),!1):(this.info("Cookie policy NOT ENABLED, starting in priorConsent false mode."),!1)}},{key:"startActivation",value:function(e,t){var n=this;if(!_iub.csActivationViaSafeMode||t){if(!_iub.csActivationInProgress){_iub.csActivationInProgress=!0,_iub.csActivationDone=!1;var i=null;e&&(i=this.options.get("callback.onActivationDone"));var o=this.firstActivationCompletedPromise;this.emit("before-activation");var a={usPurposesPreference:this.preferenceState.usPurposes,consent:this.consent.consent};this.startActivator(a,(function(){_iub.csActivationInProgress=!1,_iub.csActivationDone=!0,n.emit("activation-done"),o&&!o._isResolved&&o.resolve(),i&&i()}))}}else Ke.debug("activation already done or in progress by SAFEMODE activator. Yielding."),this.firstActivationCompletedPromise.resolve()}},{key:"handleBannerPPClick",value:function(e){var t=this;Be(e,"click",(function(e){e.preventDefault(),e.stopPropagation(),setTimeout((function(){t.ui.showPPCcpaSection(t.options.cookiePolicyInOtherWindow)}),0)}))}},{key:"handleUsprPPClick",value:function(e){var t=this;Be(e,"click",(function(e){e.stopPropagation(),setTimeout((function(){t.ui.showPPUsprSection(t.options.cookiePolicyInOtherWindow)}),0)}))}},{key:"skipUnsupported",value:function(){return!this.browserDetect.isMobile()&&"Explorer"===this.browserDetect.browser&&this.browserDetect.version<11}},{key:"isTcfConsentCreatedBefore",value:function(e,t){var n=t,i=new Date;i.setDate(i.getDate()-this.settings.MAX_TCF2_COOKIE_DURATION),(!n&&this.settings.MAX_TCF2_COOKIE_DURATION||n<i)&&(n=i);var o=new Date(n).getTime();return n&&e.getCreationDate()<o}},{key:"setUspString",value:function(e){null===e?this.state.ccpaUspStateFound=!1:(this.state.ccpaUspStateFound=!0,this.state.ccpaAcknowledged="Y"===e[1],this.state.ccpaOptedOut="Y"===e[2])}},{key:"applyConsent",value:function(e){var t=!!e;if(this.debug("applying current consent [with force option: "+t+"] ..."),t||this.isPreferenceExpressed())this.info("consent has been given ..."),this.state.activatingNoPriorConsent?this.info("snippets already activated ..."):(this.updateTcfApi(!1),this.updateGppApi(!1,!0,"processed"),this.startActivation(!0)),this.fireCallback(this.state.needsConsent?"onConsentRead":"onPreferenceNotNeeded");else{this.info("consent NOT given");var n={usPurposesPreference:this.preferenceState.usPurposes};this.startActivator(n)}}},{key:"startActivator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i={perPurposeConsent:this.options.perPurposeConsent,skipPurposeCheck:!this.state.enabled,gdprApplies:this.options.gdprApplies,lgpdApplies:this.options.lgpdApplies,usprApplies:this.options.usprApplies,fadpApplies:this.options.fadpApplies,promptToAcceptOnBlockedElements:this.options.promptToAcceptOnBlockedElements,banner:this.options.banner,purposes:this.options.purposes,renderOverlay:Ai},o=t(t({},e),{},{state:this.preferenceState});this.activator.activateOnDomReady(n,i,o,this.state.ccpaOptedOut)}},{key:"consentGiven",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventName,i=this.checkConsentGiven(n);if(this.options.perPurposeConsent&&(i?this.preferenceState.purposes.setPreference({all:!0},!0):this.preferenceState.purposes.setPreference({all:!1})),this.options.usprApplies&&(this.preferenceState.usPurposes.userConsentGiven=!0),this.options.enableTcf&&!this.options.perPurposeConsent)try{var o=this.ui.cmpWidget.getEnabledPurposeIds();-1===o.indexOf(1)&&this.ui.CPiFrame.isInTcfView()&&(i=!1)}catch(e){}this.consent=this.preferences.storage.core.getConsentObj(i),this.options.reloadOnConsent&&!this.state.consentFoundOnLoad&&(this.state.reloadAfterRemoteSet=(this.options.enableRemoteConsent?1:0)+(this.options.enableTcf?1:0));var a=[Fe((function(e){return e()}))];this.storage.storeConsent(),this.preferences.storage.uspr.storeUSPurposeCookie(),this.options.enableTcf&&(this.options.gdprApplies||this.options.lgpdApplies)&&!this.options.skipSaveConsent&&a.push(Fe((function(t){e.storeCmpChoice().then((function(n){e.updateTcfApi(!1,n),t()}))}))),Ee(a).then((function(){e.updateGppApi(!1,!0,"processed"),e.fireConsentCallbacks(n)})),this.tracker.consentGiven(n)}},{key:"isCpOpen",value:function(){return this.state.cpOpen}},{key:"isConsentRejected",value:function(){return!!this.isPreferenceExpressed()&&(this.options.perPurposeConsent?!!this.consent.purposes&&this.preferenceState.purposes.isAllDisapproved():!1===this.consent.consent)}},{key:"storeCmpChoice",value:function(){var e=this,t=this.ui,n=t.cmpWidget,i=this.state.tcfv2String,o=Fe(),a=this.customPreferencesResult;return this._waitForCmpWidgetRender().then((function(){e._fetchVendorIdsToEnable(n,i).then((function(r){t.consentRejected?(n.disableAllPurposesAndAllVendors(),(e.options.googleAdsPreferenceManagement||e.options.googleAdditionalConsentMode)&&n.disableAllCustomPurposes()):!i&&t.consentAccepted?(n.enableAllPurposesAndAllVendors(),n.enableAllCustomPurposes(),(e.options.googleAdsPreferenceManagement||e.options.googleAdditionalConsentMode)&&n.enableMissingCustomPreferences(a)):r.length&&(n.enableVendors(r),n.enableLegIntVendors&&n.enableLegIntVendors(r)),e.storeCustomPreferences(n.getCustomPreferences());var s=n.getPreferenceString();e.storeCMPPreference(s),e.state.tcfv2String=s,e.storeCustomPreferences(n.getCustomPreferences()),e.storeCMPChoicePromise.resolve(s),o.resolve(s)}))})),o}},{key:"_waitForCmpWidgetRender",value:function(){var e=Fe();return this.ui.cmpWidget.hasBeenRendered()?e.resolve():this.ui.cmpWidget.render((function(){e.resolve()})),e}},{key:"_fetchVendorIdsToEnable",value:function(e,t){var n=Fe();if(!t)return n.resolve([]),n;if(e.hasBeenDisplayed())return n.resolve([]),n;var i=e._vendorsJSON,o=si(t).getVendorListVersion();return o>=i.vendorListVersion?(n.resolve([]),n):(e.getVendorList(o,(function(e){for(var t={},o=0;o<i.vendors.length;o++)t[i.vendors[o].id]=!0;for(var a=0;a<e.vendors.length;a++)delete t[e.vendors[a].id];var r=Object.keys(t).map((function(e){return+e}));n.resolve(r)}),(function(){n.resolve([])})),n)}},{key:"fireConsentCallbacks",value:function(e){var t=this;this.emit("on-consent-first-given"),this.fireCallback("onConsentFirstGiven",e),"rejectButtonClick"===e&&(this.fireCallback("onConsentFirstRejected"),this.fireCallback("onConsentRejected"));var n=this.getPreferencesExpressed();this.fireCallback("onPreferenceFirstExpressed",n),this.fireCallback("onPreferenceExpressed",n),this.options.reloadOnConsent&&!this.state.consentFoundOnLoad?this.options.enableTcf?this.storeCMPChoicePromise.then((function(){t.reloadOrWaitForTimeOut()})):this.reloadOrWaitForTimeOut():this.applyConsent()}},{key:"reloadOrWaitForTimeOut",value:function(){var e=this;if(this.state.reloadAfterRemoteSet>0){var t=this.options.enableTcf?this.settings.timeoutBeforeReloadWithCmp:this.settings.timeoutBeforeReload;setTimeout((function(){e.reloadPage()}),t)}else this.reloadPage()}},{key:"handleMultipleLanguages",value:function(){_iub.csFeatures&&"string"==typeof _iub.csFeatures.multiple_languages&&_iub.csConfiguration.lang&&_iub.csFeatures.multiple_languages!==_iub.csConfiguration.lang&&(_iub.csEnabled=!1,this.state.enabled=!1)}},{key:"enableCsOnPreviewMode",value:function(e){e.previewMode&&(_iub.csEnabled=!0,this.state.enabled=!0)}},{key:"checkDataAfterRequest",value:function(){void 0===_iub.csEnabled?(Ke.warn("Remote configuration NOT correctly loaded: Iubenda Cookie Solution enabled without Priorconsent."),_iub.csEnabled=this.state.enabled=!1):this.state.enabled=_iub.csEnabled}},{key:"checkMobileLicensing",value:function(){var e;if("iubenda_sdk"in window){this.state.fromSDK=!0;var t=!0;void 0!==(null===(e=_iub.csFeatures)||void 0===e?void 0:e.mobile_app_integration)&&(t=!_iub.csFeatures||!!_iub.csFeatures.mobile_app_integration),t||(_iub.csEnabled=!1,this.state.enabled=!1,window.iubenda_sdk.emit("cserror",{message:"The mobile integration is not enabled."}))}}},{key:"setConfiguration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.state.preLoaded){this.checkDataAfterRequest(),this.handleMultipleLanguages(),this.checkMobileLicensing(),this.enableCsOnPreviewMode(e);var t={csSiteConf:_iub.csSiteConf,csRC:_iub.csRC,csEnabled:_iub.csEnabled,csPurposes:_iub.csPurposes,csT:_iub.csT,csFeatures:_iub.csFeatures};this.options=new wi(e,t)}}},{key:"shouldShowBanner",value:function(){return this.isPreferenceExpressed()&&!this.options.showBannerForCH||this.ui&&this.ui.isOnlyCcpaConsentGiven()?(this.info("consent given, no banner to show"),!1):(this.debug("consent NOT given, setting up UI"),!0)}},{key:"setCpOpen",value:function(e){this.state.cpOpen!==e&&(this.state.cpOpen=e,e?this.fireCallback("on2ndLayerShown"):this.fireCallback("on2ndLayerClosed"))}},{key:"version",value:function(){return Ke.warn("[Deprecation] _iub.cs.version() is deprecated, please use _iub.cs.VERSION instead"),this.settings.version}},{key:"remoteCookiesSet",value:function(e){this.storage.remoteCookiesSet(e)}},{key:"pickUpRemoteCookie",value:function(e){this.storage.pickUpRemoteCookie(e)}},{key:"log",value:function(e,t){var n=t.toLowerCase();Ke.log(n,e),"error"!==n&&"fatal"!==n||("fatal"===n&&(this.state.fatalError=!0),null!=e&&this.state.errors.push(e))}},{key:"closeCP",value:function(){this.ui.closeCPiFrame()}},{key:"stringEndsWith",value:function(e,t){return-1!==e.indexOf(t,e.length-t.length)}},{key:"getSavedPreferences",value:function(){var e=this.fetchCustomPreferences();return this.savedPreferences.cmpCookie=this.state.tcfv2String,this.savedPreferences.customPreferences=e,this.savedPreferences}},{key:"debug",value:function(e){this.log(e,"debug")}},{key:"warn",value:function(e){this.log(e,"warn")}},{key:"error",value:function(e){this.log(e,"error"),this.fireCallback("onError",e)}},{key:"fatal",value:function(e){this.log(e,"fatal"),this.fireCallback("onFatalError",e)}},{key:"info",value:function(e){this.log(e,"info")}},{key:"shouldAcknowledgeCcpaOnLoad",value:function(){return!this.state.ccpaAcknowledged&&(!(this.options.ccpaNoticeDisplay&&!this.options.ccpaAcknowledgeOnDisplay)||!!this.options.ccpaAcknowledgeOnLoad)}},{key:"checkConsentGiven",value:function(e){var t=!(!this.isCpOpen()&&this.isConsentRejected())&&!("rejectButtonClick"===e);if(this.options.enableTcf&&!this.options.perPurposeConsent)try{-1===this.ui.cmpWidget.getEnabledPurposeIds().indexOf(1)&&this.ui.CPiFrame.isInTcfView()&&(t=!1)}catch(e){}return t}},{key:"loadPreferences",value:function(){this.preferences.load()}},{key:"storePreferences",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cookiePolicyClosed";this.preferences.store(e,n,t)}},{key:"acceptAllUltimate",value:function(e){this.options.isRejectionRecoveryDisabled()||this.acceptAll(e)}},{key:"acceptAll",value:function(e){this.preferences.store({consent:!0,ccpa:!0,uspr:{sd5:!0,sd8:!0,sd9:!0},purposes:{all:!0},tcfv2:{all:!0},gac:{all:!0}},e,!0)}},{key:"rejectAll",value:function(e){var t={consent:!1,ccpa:!1,uspr:{sd5:!1,sd8:!1,sd9:!1},tcfv2:{all:!1},gac:{all:!1}};this.options.fadpApplies||(t.purposes={all:!1}),this.preferences.store(t,e,!0)}}]),e}();function Do(){var e="https://cdn.iubenda.com/cs/tcf/versions/tcf-v2-0.23.1.js";return"Symbol"in window&&"assign"in Object&&"values"in Object&&"entries"in Object&&"isInteger"in Number||(e=e.replace(/(.*)\/tcf-v2(.*?\.js)/,"$1/tcf-v2-polyfilled$2")),e}function To(e){var t=Fe(),n=document.createElement("script");return n.src=e,n.setAttribute("charset","UTF-8"),n.onload=function(){t.resolve()},document.head.appendChild(n),t}function Fo(){var e=Fe().resolve();return function(){try{return"consentState"in JSON.parse(window.name)}catch(e){return!1}}()&&(e=To("https://cdn.iubenda.com/cookie_solution/versions/cs_amp-1.5.0.js")),e}new(function(){function e(t){i(this,e),this.csPremergedConfig=function(e){return w(Je,e)}(t),this.csConfiguration=t,_iub.csLoaded||(_iub.csLoaded=!0,this.init())}return a(e,[{key:"init",value:function(){var e=this;Fo().then((function(){try{e.getRemoteConfig().then((function(){e.cmpLibraryPromise=e.getCmpLibraryPromise();var t=e.createInstance();e.preLoadCS(t)}))}catch(t){e.handleStartupFailure(t)}}))}},{key:"addAnalyticsPurposeIfNeeded",value:function(e){var t=-1===e.indexOf(4),n=-1!==e.indexOf(6),i=-1!==e.indexOf(7);t&&(n||i)&&e.push(4)}},{key:"getRemoteConfig",value:function(){var e=this,t=Fe();return Qe(_iub.csConfiguration,(function(n){e.handleStartupFailure(n),t.resolve()}),(function(){_iub.csPurposes=_iub.csPurposes||[],e.addAnalyticsPurposeIfNeeded(_iub.csPurposes),t.resolve()})),t}},{key:"getCmpLibraryPromise",value:function(){var e=Fe().resolve();this.isConfigurationTcfEnabled()&&(e=To(Do()));return e}},{key:"isConfigurationTcfEnabled",value:function(){var e=Je.enableTcf;return _iub.csSiteConf&&void 0!==_iub.csSiteConf.enableTcf&&(e=_iub.csSiteConf.enableTcf),void 0===this.csConfiguration.enableTcf&&void 0===this.csConfiguration.enableCMP||(e=!(!this.csPremergedConfig.enableTcf&&!this.csPremergedConfig.enableCMP)),_iub.csRC&&void 0!==_iub.csRC.enableTcf&&(e=_iub.csRC.enableTcf),e}},{key:"loadDom",value:function(e){var t=Fe();return e.options.startOnDomReady?De((function(){return t.resolve()})):ke((function(){return t.resolve()}),!1),t}},{key:"preLoadCS",value:function(e){var t=this;this.cmpLibraryPromise.then((function(){t.loadDom(e).then((function(){try{e.preLoad()}catch(e){t.handleStartupFailure(e)}}))}))}},{key:"createInstance",value:function(){var e=new Lo(this.csConfiguration,this.cmpLibraryPromise);return _iub.cs=e,H.install(e,e.options,Ke),e}},{key:"handleStartupFailure",value:function(e){var t,n,i;null===(t=this.csPremergedConfig)||void 0===t||null===(n=t.callback)||void 0===n||null===(i=n.onStartupFailed)||void 0===i||i.call(n,e.message||e),Ke.error("Cookie Solution startup failed",e)}}]),e}())(_iub.csConfiguration)}();
